{"version":3,"sources":["reportWebVitals.ts","components/CodeClub/TopDownCar/images/step1.png","components/CodeClub/TopDownCar/images/step2.png","components/CodeClub/TopDownCar/images/step3.png","components/CodeClub/TopDownCar/images/step3_result.png","components/CodeClub/TopDownCar/images/step4.png","components/CodeClub/TopDownCar/images/step5.png","components/CodeClub/TopDownCar/images/step5_result.png","components/CodeClub/TopDownCar/images/chal1.png","components/CodeClub/TickableSection/TickableSection.tsx","components/CodeClub/TopDownCar/TopDownCar.tsx","components/CodeClub/MovingWithKeyboard/images/top_down_control.png","components/CodeClub/MovingWithKeyboard/images/step1.png","components/CodeClub/MovingWithKeyboard/images/step2.png","components/CodeClub/MovingWithKeyboard/images/step3_a.png","components/CodeClub/MovingWithKeyboard/images/step4_a.png","components/CodeClub/MovingWithKeyboard/images/step4_b.png","components/CodeClub/MovingWithKeyboard/images/step4_c.png","components/CodeClub/MovingWithKeyboard/images/challenge_1.png","components/CodeClub/MovingWithKeyboard/MovingWithKeyboard.tsx","components/CodeClub/MovingWithKeyboard/images/step3_b.png","components/CodeClub/UsingClasses/images/step1.png","components/CodeClub/UsingClasses/images/step2.png","components/CodeClub/UsingClasses/images/step3.png","components/CodeClub/UsingClasses/images/step4.png","components/CodeClub/UsingClasses/images/step5.png","components/CodeClub/UsingClasses/images/step6.png","components/CodeClub/UsingClasses/images/step7.png","components/CodeClub/UsingClasses/UsingClasses.tsx","components/CodeClub/SafeCracker/images/step0.png","components/CodeClub/SafeCracker/images/step1.png","components/CodeClub/SafeCracker/images/step2.png","components/CodeClub/SafeCracker/images/step3.png","components/CodeClub/SafeCracker/SafeCracker.tsx","components/Bootstrap/Card/Card.tsx","components/lib/useGroupUp.ts","components/Bootstrap/CardCollection/CardCollection.tsx","components/CodeClub/index.tsx","components/p5/useSketch/useSketch.ts","components/Experiments/Asteroids/images/ships/index.ts","components/Experiments/Asteroids/images/ships/1.png","components/Experiments/Asteroids/images/ships/2.png","components/Experiments/Asteroids/images/ships/3.png","components/Experiments/Asteroids/images/ships/4.png","components/Experiments/Asteroids/images/ships/5.png","components/Experiments/Asteroids/images/ships/6.png","components/Experiments/Asteroids/images/ships/7.png","components/Experiments/Asteroids/images/ships/8.png","components/Experiments/Asteroids/images/ships/9.png","components/Experiments/Asteroids/images/ships/10.png","components/Experiments/Asteroids/images/ships/11.png","components/Experiments/Asteroids/images/ships/12.png","components/Experiments/Asteroids/images/ships/13.png","components/Experiments/Asteroids/images/ships/14.png","components/Experiments/Asteroids/images/ships/15.png","components/Experiments/Asteroids/images/ships/16.png","components/Experiments/Asteroids/images/ships/17.png","components/Experiments/Asteroids/images/ships/18.png","components/Experiments/Asteroids/images/asteroids/index.ts","components/Experiments/Asteroids/images/asteroids/1.png","components/Experiments/Asteroids/images/asteroids/2.png","components/Experiments/Asteroids/images/asteroids/3.png","components/Experiments/Asteroids/images/monsters/index.ts","components/Experiments/Asteroids/images/monsters/1.png","components/Experiments/Asteroids/images/monsters/2.png","components/Experiments/Asteroids/images/monsters/3.png","components/Experiments/Asteroids/images/monsters/4.png","components/Experiments/Asteroids/images/monsters/5.png","components/Experiments/Asteroids/images/monsters/6.png","components/Experiments/Asteroids/images/monsters/7.png","components/Experiments/Asteroids/images/monsters/8.png","components/Experiments/Asteroids/images/monsters/9.png","components/Experiments/Asteroids/images/monsters/10.png","components/Experiments/Asteroids/images/monsters/11.png","components/Experiments/Asteroids/images/monsters/12.png","components/Experiments/Asteroids/images/ImageSwitcher.ts","components/Experiments/Asteroids/Ship.ts","components/Experiments/Asteroids/Asteroid.ts","components/Experiments/Asteroids/Monster.ts","components/Experiments/Asteroids/Bullet.ts","components/Experiments/Asteroids/Sketch.ts","components/Experiments/Asteroids/Asteroids.tsx","components/Experiments/Dobble/ItemTable.tsx","components/Experiments/Dobble/NewItemForm.tsx","components/Experiments/Dobble/useCards.ts","components/Experiments/Dobble/Cards.tsx","components/Experiments/Dobble/useList.ts","components/Experiments/Dobble/Dobble.tsx","components/Experiments/LogicPadlock/GuessEntry.tsx","components/Experiments/LogicPadlock/types.ts","components/Experiments/LogicPadlock/ValueDisplay.tsx","components/Experiments/LogicPadlock/Clue.tsx","components/Experiments/LogicPadlock/LogicPadlock.tsx","components/Experiments/LogicPadlock/index.ts","components/Experiments/MidiFun/midiToFreq.ts","components/Experiments/MidiFun/useMidi.ts","components/Experiments/MidiFun/Drawables/AbstractDrawable.ts","components/Experiments/MidiFun/Drawables/Tetronimo.ts","components/Experiments/MidiFun/Drawables/Triforce.ts","components/Experiments/MidiFun/Drawables/PianoKey.ts","components/Experiments/MidiFun/Drawables/Piano.ts","components/Experiments/MidiFun/midiSketch.ts","components/Experiments/MidiFun/MidiFun.tsx","components/p5/SketchPicker/SketchPicker.tsx","components/p5/sketches/gravityOrbits.ts","../../../../src/dataStructures/graph/graphReducer.ts","components/ComputerScience/Algorithms/Routing/GridRouting/useGridGraph.ts","components/p5/Boid/Boid.ts","components/p5/sketches/rainbowFlowField/ArrowBoid.ts","components/p5/sketches/rainbowFlowField/drawArrow.ts","components/p5/sketches/rainbowFlowField/FlowField.ts","components/p5/sketches/rainbowFlowField/rainbowFlowField.ts","components/p5/sketches/gravityDemo/gravityDemo.ts","components/p5/sketches/index.ts","components/Experiments/index.tsx","components/p5/P5SketchLibrary/P5SketchLibrary.tsx","components/lib/useLoopCounter/useLoopCounter.ts","components/lib/useLoopCounter/useItemInArray.ts","components/SearchBox/SearchBox.tsx","components/ComputerScience/Algorithms/BinaryTreeTraversal/common.ts","components/ComputerScience/Algorithms/BinaryTreeTraversal/BinaryTreeTraversalAlgorithmPicker.tsx","../../../../src/algorithms/binaryTreeTraversal/traversePreOrder.ts","../../../../src/algorithms/binaryTreeTraversal/traverseInOrder.ts","../../../../src/algorithms/binaryTreeTraversal/traversePostOrder.ts","components/ComputerScience/Algorithms/BinaryTreeTraversal/useBinaryTreeTraversal.ts","../../src/common.ts","components/ComputerScience/BinaryTreeBuilder/types.ts","../../../../src/dataStructures/binaryTree/BinaryTree.ts","components/ComputerScience/BinaryTreeBuilder/useBinaryTreeBuilder.ts","components/p5/Boid/DataItemBoid.ts","components/ComputerScience/BinaryTreeBuilder/BinaryTreeSketch.ts","../../../../src/dataStructures/linearDataStructure/linearDataStructure.ts","components/Bootstrap/Buttons/Button.tsx","components/Bootstrap/Buttons/ButtonBar.tsx","components/ComputerScience/BinaryTreeBuilder/BinaryTreeBuilder.tsx","components/ComputerScience/Algorithms/BinaryTreeTraversal/BinaryTreeTraversal.tsx","components/ComputerScience/Algorithms/BinaryTreeTraversal/index.ts","components/ComputerScience/Algorithms/GraphTraversal/common.ts","components/ComputerScience/Algorithms/GraphTraversal/GraphTraversalAlgorithmPicker.tsx","../../../../src/dataStructures/queue/queueReducer.ts","../../../../src/algorithms/graphTraversal/graphTraversal.ts","../../../../src/algorithms/graphTraversal/breadthFirstSearch.ts","../../../../src/dataStructures/stack/stackReducer.ts","../../../../src/algorithms/graphTraversal/depthFirstSearch.ts","../../../../src/algorithms/sort/bubbleSort.ts","../../../../src/algorithms/sort/insertionSort.ts","../../../../src/algorithms/sort/quickSort.ts","../../../../src/algorithms/sort/mergeSort.ts","../../../../src/algorithms/routing/types.ts","../../../../src/dataStructures/linkedList/LinkedItem.ts","../../../../src/algorithms/search/common.ts","../../../../src/dataStructures/linkedList/LinkedList.ts","../../../../src/dataStructures/linkedList/linkedListReducer.ts","../../../../src/dataStructures/queue/Queue.ts","../../../../src/dataStructures/stack/Stack.ts","../../../../src/dataRepresentation/numberBases/PositiveNumberBase.ts","../../../../src/dataRepresentation/numberBases/TwosComplement.ts","../../../../src/dataRepresentation/numberBases/TwosComplementHex.ts","../../../../src/algorithms/pageRank/pageRank.ts","../../../../src/dataStructures/queue/priorityQueueReducer.ts","../../../../src/algorithms/routing/dijkstras.ts","../../../../src/algorithms/search/binarySearch.ts","../../../../src/algorithms/search/linearSearch.ts","../../../../src/computation/assemblyLanguage/types.ts","../../../src/computation/stripComment.ts","../../../../src/computation/assemblyLanguage/parseHackAsm.ts","../../../../src/computation/virtualMachine/types.ts","../../../../src/computation/assemblyLanguage/generateHackAsm.ts","../../../../../src/computation/virtualMachine/MemorySegments/MemorySegmentTemp.ts","../../../../src/computation/assemblyLanguage/RAMSimulator.ts","../../../../src/computation/TestScripts/types.ts","../../../../src/computation/assemblyLanguage/HackCpu.ts","../../../../../src/computation/nand/NandTestScript/types.ts","../../../../src/dataRepresentation/numberBases/simpleBinary.ts","../../../../src/computation/TestScripts/parseTestScripts.ts","../../../../src/computation/assemblyLanguage/hackAsmTestScript.ts","../../../../src/computation/TestScripts/TestRunner.ts","../../../../src/computation/assemblyLanguage/HackCpuTestRunner.ts","../../../../../src/computation/nand/BinaryPin/BinaryPin.ts","../../../../src/computation/nand/Chip.ts","../../../../src/computation/nand/types.ts","../../../../../../src/computation/nand/Logic/Nand/Nand.ts","../../../../../../src/computation/nand/Logic/Not/Not.ts","../../../../../../src/computation/nand/Logic/And/And.ts","../../../../../../src/computation/nand/Logic/Or/Or.ts","../../../../../../src/computation/nand/Logic/Xor/Xor.ts","../../../../../../src/computation/nand/Arithmetic/HalfAdder/HalfAdder.ts","../../../../../../src/computation/nand/Multiplexing/Dmux/Dmux.ts","../../../../src/computation/nand/BinaryBus.ts","../../../../../../src/computation/nand/Multiplexing/Dmux4Way/Dmux4Way.ts","../../../../../../src/computation/nand/Arithmetic/FullAdder/FullAdder.ts","../../../../../../src/computation/nand/Arithmetic/Add16/Add16.ts","../../../../../../src/computation/nand/Arithmetic/Inc16/Inc16.ts","../../../../../../src/computation/nand/Multiplexing/Mux/Mux.ts","../../../../../../src/computation/nand/Multiplexing/Mux16/Mux16.ts","../../../../../../src/computation/nand/Logic/Not16/Not16.ts","../../../../../../src/computation/nand/Logic/Or8Way/Or8Way.ts","../../../../../../src/computation/nand/Logic/And16/And16.ts","../../../../../../src/computation/nand/CPU/ALU/ALU.ts","../../../../../../src/computation/nand/Memory/DataFlipFlop/DataFlipFlop.ts","../../../../../../src/computation/nand/Memory/Bit/Bit.ts","../../../../../../src/computation/nand/Memory/Register/Register.ts","../../../../../../src/computation/nand/CPU/PC/PC.ts","../../../../../../src/computation/nand/Logic/Or16/Or16.ts","../../../../../../src/computation/nand/Multiplexing/Dmux8Way/Dmux8Way.ts","../../../../../../src/computation/nand/Multiplexing/Mux4Way16/Mux4Way16.ts","../../../../../../src/computation/nand/Multiplexing/Mux8Way16/Mux8Way16.ts","../../../../../../src/computation/nand/Memory/RAM8/RAM8.ts","../../../../../../src/computation/nand/Memory/RAM64/RAM64.ts","../../../../../../src/computation/nand/Memory/RAM512/RAM512.ts","../../../../../../src/computation/nand/Memory/RAM4K/RAM4K.ts","../../../../src/computation/nand/chipFactory.ts","../../../../src/computation/nand/Clock.ts","../../../../../src/computation/nand/NandTestScript/nandChipTestScript.ts","components/ComputerScience/Algorithms/GraphTraversal/useGraphTraversal.ts","components/ComputerScience/DataStructures/GraphManager/GraphBuilder/VertexPicker.tsx","components/lib/useLocalStorage/useLocalStorage.ts","components/lib/useLocalStorage/index.ts","components/ComputerScience/DataStructures/GraphManager/cannedGraphs/index.ts","components/ComputerScience/DataStructures/GraphManager/cannedGraphs/motorwayCrossingGraph.ts","components/ComputerScience/DataStructures/GraphManager/cannedGraphs/simpleStringGraph.ts","components/ComputerScience/DataStructures/GraphManager/cannedGraphs/largerStringGraph.ts","components/ComputerScience/DataStructures/GraphManager/cannedGraphs/complexStringGraph.ts","components/ComputerScience/DataStructures/GraphManager/useSavedGraph.ts","components/ComputerScience/DataStructures/GraphManager/GraphSketch.ts","components/ComputerScience/DataStructures/GraphManager/GraphPickerWithSketch.tsx","components/ComputerScience/Algorithms/GraphTraversal/GraphTraversal.tsx","components/ComputerScience/Algorithms/GraphTraversal/index.ts","components/ComputerScience/Algorithms/GraphTraversal/Interactive/InteractiveGraphTraversal.tsx","components/ComputerScience/Algorithms/GraphTraversal/Interactive/index.ts","components/ComputerScience/Algorithms/PageRank/usePageRank.ts","components/Bootstrap/Table/Table.tsx","components/ComputerScience/Algorithms/PageRank/CurrentRanksTable.tsx","components/ComputerScience/Algorithms/PageRank/RankHistoryTable.tsx","components/ComputerScience/Algorithms/PageRank/InOrderList.tsx","components/lib/useInterval/useInterval.ts","components/ComputerScience/Algorithms/Sorting/types.ts","components/lib/useInterval/useToggledInterval.ts","components/lib/StepForwardControls/StepForwardControls.tsx","components/ComputerScience/Algorithms/PageRank/PageRank.tsx","components/ComputerScience/Algorithms/PageRank/index.ts","components/ComputerScience/Algorithms/Routing/GridRouting/GridSketch.ts","components/ComputerScience/Algorithms/Routing/useRoutingAlgorithm.ts","components/lib/StepThruListControls/StepThruListControls.tsx","components/ComputerScience/Algorithms/Routing/ShortestPathWithNodeTable.tsx","components/ComputerScience/Algorithms/Routing/RouteObserverStage.tsx","components/ComputerScience/Algorithms/Routing/HeuristicCostTable.tsx","components/ComputerScience/Algorithms/Routing/GridRouting/GridRouting.tsx","components/ComputerScience/Algorithms/Routing/GridRouting/index.ts","components/ComputerScience/Algorithms/Routing/GraphRouting/GraphRouting.tsx","components/ComputerScience/Algorithms/Routing/GraphRouting/index.ts","../../../../src/algorithms/search/index.ts","components/ComputerScience/Algorithms/Search/SearchAlgorithmPicker.tsx","components/ComputerScience/Algorithms/Search/types.ts","components/ComputerScience/Algorithms/Search/SearchSketch.ts","components/ComputerScience/Algorithms/Search/useSearchData.ts","components/ComputerScience/Algorithms/Search/Search.tsx","components/ComputerScience/Algorithms/Search/index.ts","../../../../src/algorithms/sort/index.ts","components/ComputerScience/Algorithms/Sorting/SortingAlgorithmPicker.tsx","components/ComputerScience/Algorithms/Sorting/SortingSketch.ts","components/ComputerScience/Algorithms/Sorting/useSortedData.ts","components/ComputerScience/Algorithms/Sorting/Sorting.tsx","components/ComputerScience/Algorithms/Sorting/index.ts","components/Bootstrap/Checkbox/Checkbox.tsx","components/ComputerScience/Algorithms/BigONotation/AlgorithmTypePicker.tsx","components/ComputerScience/Algorithms/BigONotation/BigOSketch.ts","components/ComputerScience/Algorithms/BigONotation/useAlgorithmMeasure.ts","components/ComputerScience/Algorithms/BigONotation/BigONotation.tsx","components/p5/GraphFunctionSketch/GraphFunctionSketch.ts","components/ComputerScience/Algorithms/BigONotation/CompareBigO.tsx","components/ComputerScience/Algorithms/BigONotation/index.ts","components/ComputerScience/DataStructures/BinaryTreeComponent/BinaryTreeComponent.tsx","components/ComputerScience/DataStructures/BinaryTreeComponent/index.ts","components/ComputerScience/DataStructures/GraphManager/GraphBuilder/EdgeCell.tsx","components/ComputerScience/DataStructures/GraphManager/GraphBuilder/VertexRow.tsx","components/ComputerScience/DataStructures/GraphManager/GraphBuilder/GraphBuilder.tsx","components/Bootstrap/ModalDialog/customStyles.ts","components/Bootstrap/ModalDialog/ModalDialog.tsx","components/Bootstrap/ModalDialog/index.ts","components/ComputerScience/DataStructures/GraphManager/NewGraphDialog.tsx","components/ComputerScience/DataStructures/GraphManager/GraphManager.tsx","components/ComputerScience/DataStructures/GraphManager/index.ts","components/ComputerScience/DataStructures/LinearDataStructure/LinearDataStructureDisplay.tsx","components/ComputerScience/DataStructures/LinkedList/LinkedListDisplayComponent.tsx","components/ComputerScience/DataStructures/LinkedList/LinkedListComponent.tsx","components/ComputerScience/DataStructures/LinkedList/index.ts","components/ComputerScience/DataStructures/LinearDataStructure/LinearDataStructureEditor.tsx","components/ComputerScience/DataStructures/StackComponent/StackComponent.tsx","components/ComputerScience/DataStructures/StackComponent/index.ts","components/ComputerScience/DataStructures/QueueComponent/QueueComponent.tsx","components/ComputerScience/DataStructures/QueueComponent/PriorityQueueComponent.tsx","components/ComputerScience/DataStructures/QueueComponent/index.ts","components/ComputerScience/DataRepresentation/Sound/Sketch.ts","components/ComputerScience/DataRepresentation/Sound/Sound.tsx","components/ComputerScience/DataRepresentation/Sound/index.ts","components/ComputerScience/DataRepresentation/Images/useBitmapData.ts","components/ComputerScience/DataRepresentation/Images/ColourPalette.tsx","components/ComputerScience/DataRepresentation/Images/Bitmapping.tsx","components/ComputerScience/DataRepresentation/Images/index.ts","components/ComputerScience/DataRepresentation/AsciiText/AsciiTable.tsx","components/ComputerScience/DataRepresentation/AsciiText/index.ts","components/ComputerScience/DataRepresentation/AsciiText/AsciiText.tsx","components/lib/utilities.ts","components/lib/useStreakCounter/useStreakCounter.ts","components/Bootstrap/ProgressBar/ProgressBar.tsx","components/ComputerScience/DataRepresentation/Numbers/useConversionTable.ts","components/ComputerScience/DataRepresentation/Numbers/NumberBaseConversionTable.tsx","components/ComputerScience/DataRepresentation/Numbers/NumberBases.tsx","components/ComputerScience/DataRepresentation/Numbers/index.tsx","../../../../src/computation/assemblyLanguage/assemble.ts","components/ComputerScience/Computation/HackCpu/StartAddressDialog.tsx","components/lib/useSavedPrograms/SavedProgramsContext.ts","components/lib/useSavedPrograms/cannedPrograms/index.ts","components/lib/useSavedPrograms/cannedPrograms/Max.ts","components/lib/useSavedPrograms/cannedPrograms/Add.ts","components/lib/useSavedPrograms/cannedPrograms/Rect.ts","components/lib/useSavedPrograms/cannedPrograms/mult/Mult.asm.ts","components/lib/useSavedPrograms/cannedPrograms/mult/Mult.cmp.ts","components/lib/useSavedPrograms/cannedPrograms/mult/Mult.tst.ts","components/lib/useSavedPrograms/SavedProgramsContextProvider.tsx","components/lib/useSavedPrograms/index.ts","components/lib/useSavedPrograms/useSavedPrograms.ts","components/ComputerScience/Computation/ProgramManager/ProgramPickerDialog.tsx","components/ComputerScience/Computation/HackCpu/ROMTable.tsx","components/ComputerScience/Computation/HackCpu/types.ts","components/ComputerScience/Computation/HackCpu/SetRamValueModal.tsx","components/ComputerScience/Computation/HackCpu/RAMTable.tsx","components/ComputerScience/Computation/HackCpu/useHackCpuSimulator.ts","components/ComputerScience/Computation/HackCpu/NumberBasePicker.tsx","components/ComputerScience/Computation/HackCpu/ALUDisplay.tsx","components/Bootstrap/Tabs/Tabs.tsx","components/ComputerScience/Computation/HackCpu/TestScriptTable.tsx","components/ComputerScience/Computation/HackCpu/TestScriptOutput.tsx","components/ComputerScience/Computation/HackCpu/TestScript.tsx","components/ComputerScience/Computation/HackCpu/useHackCpuTestRunner.ts","components/ComputerScience/Computation/HackCpu/index.ts","components/ComputerScience/Computation/HackCpu/HackCpuSimulator.tsx","components/ComputerScience/Computation/NandComponent/NandChipPicker.tsx","components/ComputerScience/Computation/NandComponent/usePinValueHistory.ts","components/ComputerScience/Computation/NandComponent/useChip.ts","components/ComputerScience/Computation/NandComponent/BusDisplay.tsx","components/ComputerScience/Computation/NandComponent/BusModify.tsx","components/ComputerScience/Computation/NandComponent/PinDisplay.tsx","components/ComputerScience/Computation/NandComponent/NandComponent.tsx","components/ComputerScience/Computation/NandComponent/index.ts","components/ComputerScience/Computation/ProgramManager/NewProgramDialog.tsx","components/lib/useDirtyState/useDirtyState.ts","components/ComputerScience/Computation/ProgramManager/ProgramEditor.tsx","components/lib/useListReducer/useListReducer.ts","components/Bootstrap/ConfirmDialog/ConfirmDialog.tsx","components/Bootstrap/ConfirmDialog/index.ts","components/ComputerScience/Computation/ProgramManager/index.ts","components/ComputerScience/Computation/ProgramManager/ProgramManager.tsx","components/ComputerScience/Computation/TuringTumble/challenges.ts","components/ComputerScience/Computation/TuringTumble/index.ts","components/ComputerScience/Computation/TuringTumble/TuringTumble.tsx","components/ComputerScience/Computation/HumanResourceMachine/challenges.ts","components/ComputerScience/Computation/HumanResourceMachine/HumanResourceMachine.tsx","components/ComputerScience/Computation/HumanResourceMachine/index.ts","../../../../src/computation/neuralNetwork/Perceptron.ts","../../../../src/computation/neuralNetwork/activationFunctions.ts","../../../../src/computation/neuralNetwork/trainingTests.ts","components/ComputerScience/Computation/NeuralNetworks/LineDetectionSketch.ts","components/ComputerScience/index.tsx","components/ComputerScience/Computation/NeuralNetworks/index.ts","components/ComputerScience/Computation/NeuralNetworks/NeuralNetwork.tsx","../../../../src/maths/primeNumbers/divisibilityRules.ts","components/Maths/Divisibility/DivisibilityRulePicker.tsx","components/Maths/Divisibility/useDivisibilityRule.ts","components/Maths/Divisibility/Divisibility.tsx","components/Maths/Divisibility/index.ts","../../../../src/maths/primeNumbers/sieveOfEratosthenes.ts","../../../../src/maths/primeNumbers/primeFactors.ts","components/Maths/PrimeFactors/usePrimeFactorTree.ts","components/Maths/PrimeFactors/PrimeFactors.tsx","components/Maths/PrimeFactors/index.ts","components/Maths/NegativeNumbers/useQuiz.ts","components/Maths/NegativeNumbers/arithmeticOperations.ts","components/Maths/NegativeNumbers/ArithmeticOperationPicker.tsx","components/Maths/NegativeNumbers/NegativeNumbers.tsx","components/Maths/NegativeNumbers/index.ts","components/Maths/Bearings/BearingSketch.ts","components/Maths/Bearings/Bearings.tsx","components/Maths/Bearings/index.ts","components/Maths/Algebra/Fraction.tsx","components/Maths/Algebra/NumberToPower.tsx","components/Maths/Algebra/multiplySameBase.tsx","components/Maths/Algebra/useAlgebra.tsx","components/Maths/Algebra/Algebra.tsx","components/Maths/Algebra/index.ts","components/Maths/SieveOfEratosthenes/useSieveOfEratosthenes.ts","components/Maths/SieveOfEratosthenes/PrimesListing.tsx","components/Maths/SieveOfEratosthenes/SieveOfEratosthenes.tsx","components/Maths/SieveOfEratosthenes/index.ts","components/Maths/SolveEquation/solver.ts","components/Maths/SolveEquation/SolveEquation.tsx","components/Maths/SolveEquation/index.ts","components/Maths/Sudoku/useSudoku.ts","components/Maths/Sudoku/Sudoku.tsx","components/Maths/index.tsx","components/Maths/Sudoku/index.ts","components/CommonPageHeader/CommonPageHeader.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","TickableSection","tickId","header","children","React","useState","isComplete","setIsComplete","onIsCompleteChange","useCallback","checked","target","chkId","useMemo","className","classNames","push","join","type","onChange","id","htmlFor","TopDownCar","href","rel","style","height","src","step1","alt","step2","step3","step3Result","step4","step5","step5Result","chal1","MovingWithKeyboard","topDownControl","step3a","step4a","step4b","step4c","challenge1","to","step6","step7","SafeCracker","step0","Card","title","description","useGroupUp","items","groupSize","itemGroups","i","length","slice","CardCollection","cards","cardGroups","map","cardGroup","card","gameSeries","component","UsingClasses","miscPages","page","pages","configReducer","state","updates","AbstractSketch","defaultConfig","config","this","useSketch","s","sketchInUse","useRef","refContainer","sketchContainer","useEffect","current","p5","sketch","bind","remove","useReducer","dispatch","updateConfig","setConfig","onNumericConfigChange","key","value","parseFloat","onBooleanConfigChange","onStringConfigChange","images","name","image","ImageSwitcher","namedImages","imageIndex","n","loadImage","randomImage","Math","floor","random","Ship","position","radius","velocity","acceleration","heading","imageSwitcher","createVector","ships","nextImage","other","steer","thrust","keyIsDown","LEFT_ARROW","RIGHT_ARROW","UP_ARROW","thrustForce","rotate","add","limit","mult","x","width","y","noFill","stroke","translate","currentImage","pop","Asteroid","addAsteroid","angularVelocity","isDead","PI","asteroids","a","monsters","COLOURS","Bullet","color","noStroke","fill","circle","Sketch","ship","bullets","spawnAsteroid","setup","createCanvas","Monster","keyPressed","keyCode","ENTER","bulletVelocity","setMag","bullet","copy","draw","background","forEach","filter","obj1","obj2","diff","Vector","sub","sumRadii","mag","isColliding","hitBy","update","b","isStillActive","text","Graphs","ref","ItemTable","clear","itemsWithHandlers","item","onRemove","scope","onClick","NewItemForm","newItem","setNewItem","onNewItemChange","onAdd","placeholder","useCards","itemsRequired","cardItems","index","newCard","Cards","role","listReducer","action","split","includes","sort","useList","initialItems","Dobble","valueReducer","v","boundValue","GuessEntry","numberDigits","digits","dispatchDigits","digitWithHandlers","digit","e","Number","parseInt","Array","d","commonEvaluate","commonDigits","correctDigits","guess","clue","reduce","acc","curr","numberCommonDigits","numberCorrectDigits","oneDigitInCorrectPlace","evaluate","oneDigitInWrongPlace","twoDigitsInWrongPlace","allDigitsWrong","ValueDisplay","Clue","clueWithValue","guessMatches","cluesWithValues","AllAreCorrect","SomeIncorrect","LogicPadlock","setGuess","allCorrect","midiToFreq","m","pow","useMidi","noteOn","noteOff","audio","window","AudioContext","gain","createGain","connect","destination","Map","inputDevices","setInputDevices","error","setError","selectedInputDeviceId","onInputDeviceSelected","undefined","navigator","requestMIDIAccess","midiAccess","inputs","inputDevice","get","onmidimessage","data","playNote","note","volume","duration","frequency","halfPeriod","oscillator","createOscillator","start","stop","currentTime","AbstractDrawable","size","colour","noteIsDown","tailLength","SHAPES","Tetronimo","squares","strokeWeight","square","Triforce","triangle","scale","PianoKey","Piano","keys","SketchContainer","blockWidth","pendingNotes","drawables","mode","piano","w","t","p","that","frameRate","colorMode","HSB","round","NOTE_MAX","keyReleased","newDrawable","unshift","MidiFun","useMidiSketch","inputOptions","options","entries","label","selectedValue","find","inputOption","onSelectedInputChange","setWidth","clientWidth","SketchPicker","sketchNames","onSelectChange","WIDTH","HEIGHT","GravityOrbits","angleMode","DEGREES","ellipse","frameCount","j","edges","createP5Vector","random2D","set","pointToStr","initialState","graphApi","useGridGraph","rows","columns","version","tickVersion","graph","graphDispatch","point","from","disconnect","vertex","toggleConnection","col","row","createKeyedPoint","addVertex","vertices","topLeft","bottomRight","Boid","entity","borderWeight","borderColour","maxSpeed","maxForce","minForce","environmentalFriction","lockX","lockY","grabbed","initialPosition","mousePosition","lockAxis","force","desired","normalize","applyForce","tether","springLength","tolerance","arriveRadius","ArrowBoidBoid","flow","lookup","theta","beginShape","endShape","drawArrow","angle","FlowField","resolution","cols","field","flowCells","init","xoff","yoff","yField","noise","TWO_PI","flowCell","cos","sin","focalPoint","range","column","constrain","randomInt","RainbowFlowField","flowField","boids","mouseDragged","attract","mouseX","mouseY","RESOLUTION","boid","follow","display","onScreen","aBoid","GravitySketch","centreScreen","ArrowBoid","seek","sketches","gravityOrbits","rainbowFlowField","gravityDemo","experimentPages","Asteroids","Object","onSketchChange","reducer","amount","count","min","max","useLoopCounter","goToFirst","goToLast","increment","decrement","useItemInArray","stepForward","stepBackward","SearchBox","itemChosen","itemToString","criteria","setCriteria","inputRef","matchedItems","hasFocus","setHasFocus","onCriteriaFocus","onCriteriaBlur","selectedIndex","matchedItemsWithHandlers","toString","itemStr","onCriteriaChange","onCriteriaKeyDown","preventDefault","blur","onKeyDown","onFocus","onBlur","onMouseDown","PRE_ORDER","IN_ORDER","POST_ORDER","binaryTreeTraversalAlgorithms","BinaryTreeTraversalAlgorithmPicker","traversePreOrder","traversePostOrder","useBinaryTreeTraversal","algorithmName","binaryTree","visitedItems","visit","traverseInOrder","rawLineRef","TreeDirection","defaultBinaryTree","BinaryTree","stringComparator","useBinaryTreeBuilder","initialTree","addValue","clearAll","leftBranch","rightBranch","DataItemBoid","textAlign","CENTER","BinaryTreeSketch","treeDirection","down","headLeft","headRight","boidLevels","maxLevel","l","flee","RADIUS","positions","compare","treeNode","boidReceiver","parentBoid","level","thisBoid","line","midpoint","lerp","textFont","visitBoids","mousePressed","values","isMouseOver","grab","dragged","mouseReleased","releaseGrab","sortHorizontalPositions","leftBoid","rightBoid","arrive","_","Button","styleType","rest","ButtonBar","buttons","button","BinaryTreeBuilder","binaryTreeBuilder","newValue","setNewValue","setTreeDirection","onTreeDirectionChange","onNewValueChange","onAddNewItem","buttonBarProps","BinaryTreeTraversal","componentProps","usePicker","Component","BREADTH_FIRST_SEARCH","DEPTH_FIRST_SEARCH","graphTraversalAlgorithms","GraphTraversalAlgorithmPicker","LinearDataStructureMessages","front","visitDataStructure","contents","stackPointer","isStackEmpty","empty","NO_MATCH","newPhysicalIndex","character","COMMENT_STARTS","CpuInstructionType","VMInstructionType","addressRegister","CpuTestInstructionType","isValidOutput","stillCollecting","namedRegister","Mux","NandTestInstructionType","useGraphTraversal","startVertex","breadthFirstSearch","depthFirstSearch","VertexPicker","useStoreObjectFactory","JSON","stringify","fromString","parse","useLocalStorage","stateName","noLocalStorageInitialState","stringConversion","setStateValue","getFromStorage","rawValue","localStorage","getItem","existingValue","setValue","valueToSet","asString","setItem","reduceValue","resetValue","graphs","motorwayCrossingGraph","weight","addBidirectionalEdge","simpleStringGraph","largerStringGraph","complexStringGraph","vertexPositionsByGraphName","defaultSavedGraphState","cannedGraphs","generator","defaultSavedVertexState","useSavedGraph","graphsData","reduceGraphs","setGraphs","vertexPositionsByGraph","reduceVertexPositions","setVertexPositions","names","graphData","createNew","cogoToast","existing","save","reset","GraphSketch","vertexPositions","physicsEnabled","colours","borderWeights","borderColours","storedPosition","screenCentre","boidsInSketch","getOrCreateBoid","boidIdsInSketch","boidEdges","ba","ia","ib","bb","spring","wrappedGraphReducer","defaultGraphName","savedGraphUse","graphName","setGraphName","newState","onValueChange","sketchUse","GraphPickerWithSketch","Fragment","Traversal","useAlgorithmPicker","algorithmPickerProps","useGraphPicker","graphPickerProps","useVertexPicker","vertexPickerProps","InteractiveGraphTraversal","rankReducer","iteratePageRank","initialisePageRank","dampingFactor","usePageRank","BLANK_PAGE_RANK_STATE","rankState","iterate","begin","ranks","iterations","rankHistory","expandReducer","Table","headings","expansionCutOff","isExpanded","toggledExpanded","h","ih","colSpan","CurrentRanksRable","tableData","rank2dp","roundTo2Dp","rank","RankHistoryTable","r","InOrderList","pagesInOrder","r1","r2","useInterval","SortStageType","callback","delay","savedCallback","setInterval","clearInterval","useToggledInterval","interval","isAutoIterating","setIsAutoIterating","onAutoIteratingChange","autoIterate","useStepForwardControls","toggledInterval","StepForwardControls","disabled","PageRank","setDampingFactor","onDampingFactorChange","stepForwardProps","step","CurrentRanksTable","GridSketch","sourceNode","destinationNode","path","pointS","mouseClicked","xFrom","yFrom","xTo","yTo","useRoutingAlgorithm","getPositionOfNode","heuristicCosts","setHeuristicsCosts","getHeuristicCost","distance","onResetDistances","onHarvestDistances","destinationPosition","costs","stages","shortestPathTree","dijkstras","observer","currentDistances","currentItem","outgoing","endNode","viaNode","observerArgs","pathFrom","getPathTo","node","cloneDeep","useStepThruListControls","itemsInArray","autoStepForward","StepThruListControls","ShortestPathWithNodeTable","cost","RouteObserverStage","currentStage","shortestPathTreeItems","queueItems","asArray","linkedListTraverse","currentItemForTable","outgoingData","totalCost","calcResult","edge","getCurrentWeightCalcTypeStr","HeuristicCostTable","heuristicCostsById","GridRouting","getBoid","steppingControlProps","GraphRouting","sourcePickerProps","destinationPickerProps","setBorderWeight","setBorderColour","setColour","algorithm","SearchAlgorithmPicker","algorithms","DEFAULT_SEARCH_OBS","stageName","positionVars","SearchingSketch","searchItem","searchStage","matchIndex","isFinalStage","knownPositionVars","positionVar","indexOf","dataWidth","getDataX","LEFT","k","getPositionVarIndex","useSearchedData","generateRandomLetters","unique","sorted","lastObservation","searchUtilities","observe","search","Search","useSearchAlgorithmPicker","setSearchItem","onSearchItemChange","SearchSketch","SortingAlgorithmPicker","DEFAULT_SORT_STAGE","observation","SortingSketch","sortStage","dataLength","compareValueA","compareValueB","compareIndexA","aIndex","compareIndexB","bIndex","compareResult","result","swap","swapFrom","swapTo","subTitle","comparisonSymbol","useSortedData","inputList","sortedData","sortUtilities","simpleSwap","meta","Sorting","useSortingAlgorithmPicker","Checkbox","ALGORITHM_TYPES","AlgorithmTypePicker","BigOSketch","startSize","endSize","measurements","highest","generateRandomNumbers","arithmeticComparator","numberOfComparisons","algorithmWrapper","resetAction","console","log","useAlgorithmMeasure","playing","tick","BigONotation","useAlgorithmTypePicker","algorithmTypePickerProps","searchAlgorithm","searchAlgorithmPickerProps","useSortAlgorithmPicker","sortAlgorithm","sortAlgorithmPickerProps","setStep","setStartSize","setEndSize","togglePlaying","indexToFind","onStepChange","onStartSizeChange","onEndSizeChange","DEFAULT_RANGE","GraphFunctionSketch","plotConfigurations","mapX","mapY","graphFunction","lastX","lastY","bigONotation","CompareBigO","onGraphFromChange","onGraphToChange","backgroundColor","page1","BigOMeasure","page2","BigOCompare","BinaryTreeComponent","EdgesCell","getOtherEnd","GET_EDGE_FROM","GET_EDGE_TO","VertexRow","newEdgeWeight","pendingFrom","prepareEdge","completeEdge","cancelEdge","onPrepareEdge","onCompleteEdge","onCancelEdge","onRemoveVertex","filterOutgoing","areVerticesEqual","filterIncoming","GraphBuilder","setNewEdgeWeight","onNewEdgeWeightChange","newEdgeBidirectional","setNewEdgeBidirectional","onNewEdgeBidirectionalChange","newVertexName","setNewVertexName","onNewVertexChange","onAddVertex","overlay","top","left","right","bottom","content","transform","border","overflow","WebkitOverflowScrolling","borderRadius","outline","padding","ModalDialog","actions","customStyles","NewGraphDialog","props","createGraph","onCloseDialog","onGraphNameChange","GraphManager","isOpen","setIsOpen","showDialog","useNewGraphDialog","info","showNewGraphDialog","newGraphProps","setPhysicsEnabled","onPhysicsEnabledChange","onSave","LinearDataStructureDisplay","capacity","lastResult","lastMessage","namedIndices","highlightedRow","setHighlightedRow","namedIndicesWithHandlers","LinkedListDisplayComponent","linkedListState","nextFree","freeNodes","freeNodesNamedIndices","nextPtr","INITIAL_STATE","getInitialLinkedListState","LinkedListComponent","linkedListReducer","logicalIndex","setLogicalIndex","generateNewItem","loremIpsum","units","onLogicalIndexChange","onReset","onAppend","onInsert","defaultToString","generateWord","LinearDataStructureEditor","pushOperationName","popOperationName","lds","onPush","onPop","getInitialStackState","StackComponent","stackReducer","getInitialQueueState","QueueComponent","queueReducer","rear","getInitialPriorityQueueState","priorityQueueReducer","newPriority","setNewPriority","onNewPriorityChange","onEnqueue","priority","onDequeue","queuePage","priorityQueuePage","PriorityQueueComponent","SIGNAL_MODE_SINE","SIGNAL_MODE_NOISE","signalTypes","samplingRate","signalFrequency","plotSignal","plotSamples","plotQuantisation","plotSquareWave","signalType","analogueSignal","quantisationStep","signalValue","splice","signal","samples","qSignal","AnalogueSignals","onSamplingRateChange","onResolutionChange","onSignalFrequencyChange","onPlotSignalChange","onPlotSamplesChange","onPlotQuantisationChange","onPlotSquareWaveChange","onSignalTypeChange","Sound","defaultReducerState","availableColours","colourDepth","pixels","rawData","getRawData","padStart","sx","cell","sy","useBitmapData","randomiseColours","ColourPalette","availableColoursWithHandlers","code","isCurrent","AVAILABLE_COLOUR_DEPTHS","setHeight","setColourDepth","numberColours","spectrum","c","useColourPallete","paletteProps","currentColour","onWidthChange","onHeightChange","onColourDepthChange","pixelsWithHandlers","rawDataSplit","rawDataInWords","AsciiTable","String","fromCharCode","setText","onTextChange","asAscii","charCodeAt","choose","arr","exclude","chooseFrom","streakReducer","useStreakCounter","streak","onHit","onMiss","ProgressBar","denary","denaryRaw","withWidth","binary","binaryRaw","hexadecimal","hexadecimalRaw","numberBases","useConversionTable","denaryValue","binaryValue","hexadecimalValue","NumberBaseConversionTable","generateQuestion","generateRandomInteger","binaryInteger","hexadecimalInteger","regenerateQuestion","answer","setAnswer","onAnswerChange","onSubmit","expected","toLowerCase","base","ComputeComputation","useDialog","baseProps","maxAddress","numberBase","startAddress","setStartAddress","onCancel","_onConfirm","onConfirm","StartAddressDialog","createContext","programs","Error","deleteProgram","saveProgram","SavedProgramsContextProvider","defaultPrograms","reducePrograms","setPrograms","program","updated","SavedProgramsContext","Provider","useSavedPrograms","useContext","selectedProgram","setProgramName","ProgramPickerDialog","ProgramMemoryTable","cpu","programCounter","loadProgram","useStartAddressDialog","showStartAddressDialog","startAddressProps","useProgramPicker","showProgramPicker","programPickerProps","readOnly","assemble","SetRamValueModal","onStartAddressChange","memoryValue","onMemoryValueChange","RAMTable","memory","setRamValue","setMemoryValue","memoryValues","_onCloseDialog","_showDialog","useSetRamValueModal","address","setRamValueProps","showSetRamValueDialog","useHackCpuSimulator","incrementVersion","cpuRef","HackCpu","programName","getMemory","NUMBER_BASES","denaryInteger","signed16bitBinary","signed16bitHex","NumberBasePicker","found","ALUDisplay","dataRegister","alu","aRegister","dRegister","mContents","lastComputation","useTabs","tabs","selectedTitle","setSelectedTitle","Tabs","tabsWithHandlers","tab","onSelect","nonExistentTabSelected","noTabSelected","DEFAULT_TEST_INSTRUCTION","ticktock","lineContent","lineNumber","DEFAULT_TEST_SCRIPT","compareTo","testInstructions","load","outputFile","loadAll","TestScriptTable","lastInstruction","testScript","TestScriptOutput","scriptOutput","TestScript","cpuTestRunner","loadScript","loadTestScript","testOutput","tabsProps","useHackCpuTestRunner","cpuTestRunnerRef","HackCpuTestRunner","useNumberBasePicker","cpuVersion","resetCpu","tickCpu","testRunnerVersion","tickTestScript","resetTestScript","stepForwardCpuProps","stepForwardTestProps","ROMTable","NandChipPicker","chipFactory","getPinValues","chip","pins","lastOutput","buses","binaryPin","pinValueHistoryReducer","historyLength","newValues","usePinValueHistory","pinHistory","ticktockHistory","useChip","chipName","clock","Clock","Nand","onTickTock","onTogglePin","getPin","send","getBus","pinValueHistory","BusDisplay","reverse","boolToBin","BusModify","PULSE_DIM","PinDisplay","verticalEdge","x1","x2","y1","y2","strokeWidth","useChipPicker","chipPickerProps","outputs","NewProgramDialog","createProgram","onProgramNameChange","useDirtyState","defaultValue","isDirty","setIsDirty","_setValue","setClean","ProgramEditor","closeProgram","editedProgram","setEditedProgram","isEditedProgramDirty","setEditedProgramClean","onEditedProgramChange","createListReducer","matcher","u","useListReducer","receiveItems","addItem","removeItem","clearItems","updateItem","updateItemAtIndex","removeItemAtIndex","question","setQuestion","details","setDetails","setData","getQuestion","getDetails","ConfirmDialog","useSavedProgram","createNewProgram","resetSavedPrograms","openPrograms","addOpenProgram","removeOpenProgram","openProgram","useProgramPickerDialog","setOpenTab","useNewProgramDialog","showNewProgramDialog","newProgramProps","useConfirmDialog","showResetConfirmation","confirmResetProps","challenges","solution","challenge","getChallengeTextAreaId","challengesWithCopy","challengeId","onCopy","copyText","document","getElementById","select","setSelectionRange","execCommand","LineDetectionSketch","lineM","lineC","showTraining","perceptron","testGenerator","coordinateTester","Perceptron","signActivationFn","points","testQueue","Queue","lineFrom","lineTo","trainingData","train","actual","feedForward","algorithmPages","binaryTreeTraversalPage","graphTraversalPage","graphTraversalInteractivePage","pageRankPage","routingGraphPage","routingGridPage","searchPage","sortingPage","bigONotationMeasurePage","bigONotationComparePage","dataStructurePages","binaryTreePage","graphPage","stackPage","linkedListPage","dataRepresentationPages","soundPage","bitmapImagesPage","asciiTextPage","computationPages","hackCpuSimulator","nand","programManager","turingTumble","hrm","onLineMChange","onLineCChange","onShowTrainingChange","ComputerScience","report","DivisibilityRulePicker","divisibilityRules","factor","defaultNamedDivisibilityRule","useDivisibilityRule","divisibilityRule","rule","logLines","isDivisible","isDivisibleBy","Divisibility","useDivisibilityRulePicker","rulePickerProps","explanation","usePrimeFactorTree","primeFactors","getPrimeFactors","rawPrimeFactorTree","getPrimeFactorTree","primeFactorTree","getOutgoing","addUnidirectionalEdge","PrimeFactorSketch","PrimeFactors","quizReducer","numberQuestions","numberParts","partRange","operation","getParts","symbol","questions","parts","q","givenAnswer","useQuiz","reduceQuiz","regenerateQuiz","giveAnswer","getAdditiveParts","operations","ArithmeticOperationPicker","Tick","viewBox","xmlns","Exclamation","NegativeNumbers","quiz1","quiz2","quizzes","regenerateQuizzes","revealAnswers","toggleRevealAnswer","onClickToggleReveal","quiz","quizI","questionI","BearingSketch","bearings","bearing","vector","next","initialBearings","Bearings","setBearing","setDistance","onBearingChange","onDistanceChange","onAddBearing","exportString","setExportString","bearingsToString","onClickImport","exportStringRef","onExportStringChange","confirmDialogProps","onClickExport","Fraction","numerator","denominator","NumberToPower","coefficient","exponent","bases","goodIndices","goodCoefficients","coeffA","coeffB","isMultiplication","correctCoefficient","correctIndex","possibleAnswers","correct","shuffle","FIRST_QUESTION","useAlgebra","DEFAULT_SELECTED_BY_INDEX","selectedReducer","indices","Algebra","selectedByIndex","dispatchSelectedByIndex","submitted","setSubmit","onAnswer","onNext","useSieveOfEratosthenes","primeNumbers","sieveOfEratosthenes","args","PrimesListing","isPrime","SieveOfEratosthenes","tickedOff","solver","f","number_guesses","guesses","lowest","NaN","isNaN","SolveEquation","setA","setB","setC","numberGuesses","setNumberGuesses","onAChange","onBChange","onCChange","onNumberGuessesChange","toFixed","equationString","EMPTY_CELL","DIMENSION","DIGITS","getOtherCellFunctions","coords","xFloor","yFloor","xi","yi","cells","hints","fix","fixed","allowed","Set","otherCells","has","xj","yj","delete","defaultState","initialActions","useSudoku","board","setBoard","autoSolveStep","CellComponent","RowComponent","Sudoku","_setBoard","buttonProps","primeNumberPages","divisibilityPage","primeFactorsPage","sievePage","solveEqPage","algebra","negativeNumbersPage","Maths","rootPages","csPage","mathsPage","codeClubPage","experimentsPage","homePage","codeClubPages","csPages","mathsPages","matchString","s1","s2","toLocaleLowerCase","CommonPageHeader","location","history","useHistory","pageSelected","pageFilter","pageToString","thisPage","rootPage","App","Modal","setAppElement","pathname","exact","ReactDOM","render"],"mappings":"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","file":"static/js/main.470d820e.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/step1.0149e861.png\";","export default __webpack_public_path__ + \"static/media/step2.1b004623.png\";","export default __webpack_public_path__ + \"static/media/step3.26e79410.png\";","export default __webpack_public_path__ + \"static/media/step3_result.58722deb.png\";","export default __webpack_public_path__ + \"static/media/step4.b239a985.png\";","export default __webpack_public_path__ + \"static/media/step5.0402d790.png\";","export default __webpack_public_path__ + \"static/media/step5_result.daf63ca3.png\";","export default __webpack_public_path__ + \"static/media/chal1.528ec6b8.png\";","import React from \"react\";\n\nimport \"./tickable.css\";\n\ninterface Props {\n  tickId: string;\n  header: string;\n}\n\nconst TickableSection: React.FunctionComponent<Props> = ({\n  tickId,\n  header,\n  children\n}) => {\n  const [isComplete, setIsComplete] = React.useState<boolean>(false);\n\n  const onIsCompleteChange: React.ChangeEventHandler<\n    HTMLInputElement\n  > = React.useCallback(({ target: { checked } }) => setIsComplete(checked), [\n    setIsComplete\n  ]);\n\n  let chkId = React.useMemo(() => `chk${tickId}`, [tickId]);\n  let className = React.useMemo(() => {\n    let classNames: string[] = [\"tickable-section\"];\n    if (isComplete) {\n      classNames.push(\"ticked\");\n    }\n    return classNames.join(\" \");\n  }, [isComplete]);\n\n  return (\n    <div className={className}>\n      <div className=\"form-check\">\n        <input\n          className=\"form-check-input\"\n          type=\"checkbox\"\n          checked={isComplete}\n          onChange={onIsCompleteChange}\n          id={chkId}\n        />\n        <label className=\"form-check-label\" htmlFor={chkId}>\n          <h2>{header}</h2>\n        </label>\n      </div>\n      {children}\n    </div>\n  );\n};\n\nexport default TickableSection;\n","import React from \"react\";\n\nimport \"../tutorials.css\";\nimport step1 from \"./images/step1.png\";\nimport step2 from \"./images/step2.png\";\nimport step3 from \"./images/step3.png\";\nimport step3Result from \"./images/step3_result.png\";\nimport step4 from \"./images/step4.png\";\nimport step5 from \"./images/step5.png\";\nimport step5Result from \"./images/step5_result.png\";\nimport chal1 from \"./images/chal1.png\";\n\nimport TickableSection from \"../TickableSection\";\n\nconst TopDownCar: React.FunctionComponent = () => {\n  return (\n    <div className=\"tutorial\">\n      <h1>Top Down Car</h1>\n      <p>\n        In this example we will be using vectors to control rotation and\n        position of our game object.\n      </p>\n      <p>\n        I have created a blank project that contains comments where the code\n        needs to go for each step. This may be useful if you are struggling to\n        know where to put things.\n      </p>\n      <p>\n        <a href=\"https://editor.p5js.org/JoeSharp/sketches/qGRRC5jR0\">\n          It can be found here\n        </a>\n      </p>\n      <p>\n        The control scheme will emulate a top down 'driving' experience. The\n        left and right arrow keys will 'steer', and the up arrow key will drive\n        forward (the back key can then be programmed to reverse).\n      </p>\n      <p>\n        The other difference from Step 2, is that we will be evaluating the keys\n        within the animation code i.e. the <code>draw()</code> function.\n      </p>\n      <p>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://editor.p5js.org/JoeSharp/sketches/9gcY5Y4D7\"\n        >\n          Here is a completed example.\n        </a>\n      </p>\n      <TickableSection tickId=\"s4Step1\" header=\"Step 1 - Create Variables\">\n        <p>We need a few variables to store the current driving state:</p>\n        <ul>\n          <li>\n            Position - We will use{\" \"}\n            <a href=\"https://p5js.org/reference/#/p5.Vector\">vectors</a> instead\n            of a pair of variables called x, y\n          </li>\n          <li>Heading - This will be an angle in Radians.</li>\n          <li>\n            Straight Line Speed - This will be a constant to tell the program\n            how far to move each frame.\n          </li>\n          <li>\n            Rotation Speed - This will be another constant that tells the\n            program how much to rotate if the steering keys are being pressed.\n          </li>\n        </ul>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step1}\n            alt=\"Step 1 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s4step2\" header=\"Step 2 - Initialise Variables\">\n        <p>\n          The initial values of the variables will make use of some p5.js\n          constants. Therefore we must set the initial values inside the{\" \"}\n          <code>setup()</code> function.\n        </p>\n        <p>\n          Note that the initial position is at the midpoint of the screen, I am\n          using\n          <code>height</code>, <code>width</code> and <code>PI</code> which are\n          provided by the framework.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step2}\n            alt=\"Step 2 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s4step3\" header=\"Step 3 - Tranform and Draw\">\n        <p>\n          This next bit of code will run the transformations required to place\n          our car in the correct place.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step3}\n            alt=\"Step 3 Screenshot\"\n          />\n        </div>\n        <p>\n          Once you have this code typed in, RUN the sketch and you should see\n          the triangle\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step3Result}\n            alt=\"Step 3 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s4step4\" header=\"Step 4 - Steering\">\n        <p>\n          This bit of code goes inside the <code>draw()</code> function and is\n          where you are checking for the\n          <code>LEFT_ARROW</code> and <code>RIGHT_ARROW</code> keys being\n          pressed.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step4}\n            alt=\"Step 4 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s4step5\" header=\"Step 5 - Moving Forward\">\n        <p>\n          This bit of code is yet another key press detection inside{\" \"}\n          <code>draw()</code> but the way that the position is changed is a\n          little complicated.\n          <code>UP_ARROW</code> is being pressed.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step5}\n            alt=\"Step 5 Screenshot\"\n          />\n        </div>\n        <p>\n          Once you have this typed in correctly, RUN your sketch, click into the\n          sketch to give it focus and start driving!\n        </p>\n\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step5Result}\n            alt=\"Step 5 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s4chal1\" header=\"Challenge: Elaborate Drawing\">\n        <p>\n          Now that your 'car' moves around correctly, feel free to add more\n          shapes or even just modify the existing ones to your liking. Remember\n          to draw 'about the origin' so that the rotation works correctly. For\n          example, here is the code to draw a rectangle 'about the origin':\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"5rem\" }}\n            src={chal1}\n            alt=\"Challenge 1 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n    </div>\n  );\n};\n\nexport default TopDownCar;\n","export default __webpack_public_path__ + \"static/media/top_down_control.fabc38e5.png\";","export default __webpack_public_path__ + \"static/media/step1.4050760c.png\";","export default __webpack_public_path__ + \"static/media/step2.ed02f5cc.png\";","export default __webpack_public_path__ + \"static/media/step3_a.e7ed077e.png\";","export default __webpack_public_path__ + \"static/media/step4_a.7ff7d88b.png\";","export default __webpack_public_path__ + \"static/media/step4_b.4bacad66.png\";","export default __webpack_public_path__ + \"static/media/step4_c.818ba5b9.png\";","export default __webpack_public_path__ + \"static/media/challenge_1.656695a4.png\";","import React from \"react\";\n\nimport \"../tutorials.css\";\n\nimport TickableSection from \"../TickableSection\";\n\nimport topDownControl from \"./images/top_down_control.png\";\nimport step1 from \"./images/step1.png\";\nimport step2 from \"./images/step2.png\";\nimport step3a from \"./images/step3_a.png\";\nimport step3b from \"./images/step3_b.png\";\nimport step4a from \"./images/step4_a.png\";\nimport step4b from \"./images/step4_b.png\";\nimport step4c from \"./images/step4_c.png\";\nimport challenge1 from \"./images/challenge_1.png\";\n\nconst MovingWithKeyboard: React.FunctionComponent = () => {\n  return (\n    <div className=\"tutorial\">\n      <h1>Moving With Keyboard</h1>\n      <p>\n        We will be learning how to move shapes around the screen using our\n        keyboard. This will give you some options when writing games.\n      </p>\n      <p>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://editor.p5js.org/JoeSharp/sketches/UxliLhatH\"\n        >\n          Here is a completed example.\n        </a>\n      </p>\n      <p>The control scheme could be visualised like this:</p>\n      <div className=\"image\">\n        <img\n          style={{ height: \"15rem\" }}\n          src={topDownControl}\n          alt=\"Top Down Control Demo\"\n        />\n      </div>\n      <TickableSection tickId=\"s3Step1\" header=\"Step 1 - Create Variables\">\n        <p>\n          A variable is a named container for a value in your program. You will\n          create two variables.\n        </p>\n        <ol>\n          <li>x: The 'x' position of your player</li>\n          <li>y: The 'y' position of your player</li>\n        </ol>\n        <p>\n          In JavaScript we use the keyword <code>let</code> to declare the\n          existence of the variable. I declare the variables{\" \"}\n          <code>outside</code> the <code>setup()</code> and <code>draw()</code>\n          functions. This ensures the following:\n        </p>\n        <ol>\n          <li>\n            They are globally available to both, if we declared x and y inside\n            either function, they would not be visible to the other function.\n          </li>\n          <li>\n            There is a single instance of x and y used for all frames, if we\n            declared x and y inside draw(), we would get a new variable for each\n            frame.\n          </li>\n        </ol>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step1}\n            alt=\"Step 1 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3Step2\"\n        header=\"Step 2  Initialise Variable Values\"\n      >\n        <p>\n          This is done inside the <code>setup()</code> function. Remember:\n        </p>\n        <p>Setup() is called once, at the beginning of the sketch</p>\n        <p>\n          I use the <code>width</code> and <code>height</code> values which are\n          available from the p5 framework to place x and y in the middle of the\n          sketch.\n        </p>\n        <p>\n          I <strong>must</strong> do this inside <code>setup()</code> so that{\" \"}\n          <code>width</code> and <code>height</code> are available. Width and\n          height do not exist outside of p5 functions.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"10rem\" }}\n            src={step2}\n            alt=\"Step 2 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3Step3\"\n        header=\"Step 3 - Use x and y to position drawing\"\n      >\n        <p>\n          Now that <code>x</code> and <code>y</code> exist and have been\n          initialised, we can use them inside the draw() function to position\n          our player drawing. For now, I will simply draw an ellipse about the\n          origin. I will use translate with our x and y values to position that\n          ellipse correctly.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"10rem\" }}\n            src={step3a}\n            alt=\"Step 3a Screenshot\"\n          />\n          <img\n            style={{ height: \"10rem\" }}\n            src={step3b}\n            alt=\"Step 3b Screenshot\"\n          />\n        </div>\n        <p>\n          Now run the program and you should see the green ellipse in the middle\n          of your sketch.\n        </p>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3Step4\"\n        header=\"Step 4 - Use Left and Right Arrows\"\n      >\n        <p>\n          Remember to use the Reference document to find out what functions are\n          available and how to use them. In this case we will be using{\" \"}\n          <code>keyPressed()</code> from <code>Events</code>.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step4a}\n            alt=\"Step 4a Screenshot\"\n          />\n        </div>\n        <p>It even has an example for what we need!</p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step4b}\n            alt=\"Step 4b Screenshot\"\n          />\n        </div>\n        <p>\n          Add this function to your program. I put it after <code>draw()</code>.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"8rem\" }}\n            src={step4c}\n            alt=\"Step 4c Screenshot\"\n          />\n        </div>\n        <p>\n          Now run your code and you should find that the left and right arrow\n          keys move your ellipse!\n        </p>\n      </TickableSection>\n      <h1>Challenges</h1>\n      <TickableSection\n        tickId=\"s3chal1\"\n        header=\"Challenge 1 - Up and Down Arrow\"\n      >\n        <p>\n          I will not show you how to do this, but you have enough code above to\n          figure out how to do it. Add code to your program to use the UP and\n          DOWN arrows to move the ellipse UP and DOWN.\n        </p>\n        <p>When coding this, remember the following:</p>\n        <ol>\n          <li>\n            The y coordinates start at 0 at the top and increase downwards,\n            this may mean your y += statements need to be inverted from what\n            you expect.\n          </li>\n          <li>\n            The values UP_ARROW and DOWN_ARROW are available as per this\n            documentation\n          </li>\n        </ol>\n        <div className=\"image\">\n          <img\n            style={{ height: \"10rem\" }}\n            src={challenge1}\n            alt=\"Challenge 1 Screenshot\"\n          />\n        </div>\n        <p>Let the teacher know when you have this working</p>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3chal2\"\n        header=\"Challenge 2 - Elaborate Your Drawing\"\n      >\n        <p>\n          The steps above give you a simple ellipse, feel free to add your own\n          flair to the visual design now. You can replace the ellipse with\n          something else, or just start adding more shapes to it.\n        </p>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3chal3\"\n        header=\"Challenge 3 - Create a constant to control speed\"\n      >\n        <p>\n          The <code>keyPressed</code> code currently uses a hard-coded value (5)\n          across all 4 movement lines of code. Replace this with a constant\n          called <code>STEP</code> or <code>SPEED</code> which is declared and\n          set at the top of the sketch.\n        </p>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s3chal4\"\n        header=\"Challenge 4 - Replace x, y with p5.Vector\"\n      >\n        <p>\n          Vectors are data structures that are used to describe movement and\n          position in computer graphics. A vector essentially wraps x, y (and\n          potentially z) values inside a single object.\n        </p>\n        <p>\n          Replace x and y with a variable called position and initialise this\n          value with createVector. You can then use <code>position.x</code> and{\" \"}\n          <code>position.y</code> in place of x, y.\n        </p>\n        <p>\n          I promise this will prove useful later when we make proper player\n          objects using classes.\n        </p>\n      </TickableSection>\n    </div>\n  );\n};\n\nexport default MovingWithKeyboard;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASMAAAEwCAYAAAD8YhcYAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAGkRJREFUeAHt3QtwleWdx/HfuedCCFchSiThIiUYEAmKaFurFrtdqy7OONXaetl2ndaddqvjtKPttLuznTrTy0zbnV7W3dE67ui2i/VSrbOteAFqtZaLaIFELookgFySGJKc5Fz2eQ7kNYsEgoTznufhe5iYJyfvOc/zfP6nv77v877nJLJgwYK8Dt2i0Wihlc/nZb+4IYAAAsUSOJg+xeqNfhBAAIEhBAijIWC4GwEEiitQ9DDK9fepL5Mr7izpDQEESl5g2GEUT6RUUVGpysoKlSXjUu54AyWvTD6haZd8WtcurlM8nxGrUiX/+mCACBRNwKTK0W95EzqV42v0T9+4S8k9W9XRHdeYsXG98ugDWvbSVuUKi91SKpVULnNorycSNT/Hle3PKmZCLB6LKJvJKJvt0VsvPak2E0QZRdXX26NsLq9INK5UMqZ+s30ilVIsn1U63aeIaSciEfX3paVoUol45OiD5bcIIOCswDHDyM4sEitXKtusB/7jX7V2S5mmn/sPuu1vl2hn/0ZNbZiiMVVJPf7Yk6puuERL5tVK3W/rt0+8qrPOn6GWlU9q466sTp91js6ri6u5dbJqc69q1Vvduvy6azVrYoU6316tp17YroVNtXrp97/X9oo6ferTH9GeJx/XKx3dOv9vrlTy7Re04vVuAsnZlxoDR+DoAsM+TMvncwf3bsxeS6fZa7EHaTUzGnX5x5u0/S+/V8/pl+maiybqD48+pOWtY7R06Vma3LBQ82bWmTWiCjUsvkKTDkQ1YeJ8NU6ZrMZPfEYNqQ369a+Wafe483Tlx87UxHMX68xJVaqZUKcrr7pWH72gSr2Jubrw3HMV3ZFW3uxhcUMAAT8FhhdG+X5FK6ZpyRU36Lob/l63fvZsbXp5pTbnstq2/nd6/E9vaer5MzU2mVRdw7k6c1xME2bM1/qXmzX7rA9pZu0ZOmdaRitaNqnHPCZnDr0umneG8skJapw7R1WpqM6YXqvXzZ7P7OmzVTdzvtaselWRM87ThxbOUiy9Wqs6+5Uki/x8FTIrBIzAsA7TzIKN8pkute3Yprd2pfTG2ufU8tc3NP+Gi5Xu2apYLKqenoxZA3pXW7dsVvTtVv3Pmg6tbcvpvA/foCVXz1P5jnXatr1b886OmAsqI+pOm/Wk9la9sbld5W27tXb/m2obdbYuXdqkSWZt6A/33avZV96iWz/ao3VPPlR4DFnEaxYBfwWGtWdkF5gTkU41//Vl/fkvq7Vha6v6TABF4wmz8JwwC9BRbX9mpfYkpmjerFrVzZqnObXlirZt09pNfbpkcb02/fEFtUfM4nQsqWiuX//77DpNmtGkmVOmaPbZc3VGmbS7ZbO6yhbptM5d2tj8pl5qTam+tk+rWveYM29Ekb8vQ2aGgFmbPubbQczZsliqQtOmnaa2rVv0bm9M5ihLeXO4VV1TpwnJPdpsFqPt20eqT5+phmk1iufMWbPmv+qtdzqVmFirs04bpbdfb9H+SExjzXrQmPwuvbnvgGpnz9fU8ZXK9OzThtc2qb07p9Onn6Wy/p1q2d6uqsozVTelW1u27lI6Ey/0S9EQQMBPgWOHkZ23CZr+TFbx+P8PhFw2Y07tx8z9B/dactl+ZbIHrx6ye01xs8eUz5nT+NmcOcWfMAd79vIk8xiZx5gfMv39hUsD7GFg3P7ePE0202/2guxzmsfaSwAyEfM7E4B++jMrBBA4JDC8NSOzK5RIvH/TaCxeCJgBzWgsIXO50KCbvYYopoT5GrhFzSHfwLFhPJEcuDv4HjMhNnCLRMzh4Xs/DtzNdwQQ8FBgIBc8nBpTQgABlwQII5eqxVgR8FiAMPK4uEwNAZcE4v1mEdneImZdKGkuWrS3nHk/WjqdLtxXuIP/IIAAAicgYM+22w9vHMiYIz1VfOnSpYXQOXDggJ577jnzZtV+zZw5UzfeeKP6+vqO9BjuQwABBI5LIBaLqbW1VT//+c/NtYbvndAa/CTxr371q4VT9o888oiWL19e2CsaPXq0mpqaCntHgzemjQACCHwQAXtZUEtLS+F6xKEeH5yvt4dmAzfbtntF7BkNiPAdAQRORMBmysCS0FDPwwL2UDLcjwACRRUgjIrKTWcIIDCUAGE0lAz3I4BAUQUIo6Jy0xkCCAwlQBgNJcP9CCBQVAHCqKjcdIYAAkMJEEZDyXA/AggUVYAwKio3nSGAwFAChNFQMtyPAAJFFTDvXSOPiipOZwggcESB6N69e4/4C+5EAAEEiikQte+ktR8fwg0BBBAIU4DDtDD16RsBBAIBFowCChoIIBCmAGEUpj59I4BAIEAYBRQ0EEAgTAHCKEx9+kYAgUCAMAooaCCAQJgChFGY+vSNAAKBAGEUUNBAAIEwBQijMPXpGwEEAgHCKKCggQACYQoQRmHq0zcCCAQChFFAQQMBBMIUIIzC1KdvBBAIBAijgIIGAgiEKUAYhalP3wggEAgQRgEFDQQQCFOAMApTn74RQCAQIIwCChoIIBCmAGEUpj59I4BAIEAYBRQ0EEAgTAHCKEx9+kYAgUCAMAooaCCAQJgChFGY+vSNAAKBAGEUUNBAAIEwBQijMPXpGwEEAgHCKKCggQACYQoQRmHq0zcCCAQChFFAQQMBBMIUIIzC1KdvBBAIBAijgIIGAgiEKUAYhalP3wggEAgQRgEFDQQQCFOAMApTn74RQCAQIIwCChoIIBCmAGEUpj59I4BAIEAYBRQ0EEAgTAHCKEx9+kYAgUCAMAooaCCAQJgChFGY+vSNAAKBAGEUUNBAAIEwBQijMPXpGwEEAgHCKKCggQACYQoQRmHq0zcCCAQChFFAQQMBBMIUIIzC1KdvBBAIBAijgIIGAgiEKUAYhalP3wggEAgQRgEFDQQQCFOAMApTn74RQCAQIIwCChoIIBCmAGEUpj59I4BAIEAYBRQ0EEAgTAHCKEx9+kYAgUCAMAooaCCAQJgChFGY+vSNAAKBAGEUUNBAAIEwBQijMPXpGwEEAgHCKKCggQACYQoQRmHq0zcCCAQChFFAQQMBBMIUIIzC1KdvBBAIBAijgIIGAgiEKUAYhalP3wggEAgQRgEFDQQQCFOAMApTn74RQCAQIIwCChoIIBCmAGEUpj59I4BAIEAYBRQ0EEAgTAHCKEx9+kYAgUCAMAooaCCAQJgChFGY+vSNAAKBAGEUUNBAAIEwBQijMPXpGwEEAgHCKKCggQACYQoQRmHq0zcCCAQChFFAQQMBBMIUIIzC1KdvBBAIBAijgIIGAgiEKUAYhalP3wggEAgQRgEFDQQQCFOAMApTn74RQCAQIIwCChoIIBCmAGEUpj59I4BAIEAYBRQ0EEAgTAHCKEx9+kYAgUCAMAooaCCAQJgChFGY+vSNAAKBAGEUUNBAAIEwBQijMPXpGwEEAgHCKKCggQACYQoQRmHq0zcCCAQChFFAQQMBBMIUIIzC1KdvBBAIBAijgIIGAgiEKUAYhalP3wggEAjEgxaNU14gEokoGo3Kfs/n8wc9Dn0LcCJBq7CN3S7Y9r1f0ULguAUIo+Mm8+8ByWRS8XhcHe0dat/bro59HWrb1aZde3dp/7v71Z3uLoRUVXmVJoyZoJqJNZo4caJGjx2tcRPGqbyiXOl0Wtls1j8cZlQ0AcKoaNSl1ZHd+4nFYsrn8nrt1de0/tX12rBtg15+62U1721WvDpe+Eon0uo3/yLmXyqXUrw3rt59vSrLlqnpjCbNmzJPjR9q1Nz5c1VTU6P+TL9yuVxpTZbROCFAGDlRppEbpA0huyd04N0DWvmnlXrw8Qf1+oHX1VrZKtWYfuabr0opE81IgzLFHIyp1/wzmVT46urv0vPvPq/n9jyn+BNxzfzVTJ0//Xzd/OmbVVtXq3girr6+vpEbOM/kvQBh5H2J35ug3ROyh1Irn1+p+5bdp+f3Pa/07LQ0yWwTO7SdXSMyOTScW77KbFxtNq/PaEPvBm3ctlGP3fWYPnfB57T0qqWqn15PIA0Hkm0KAoTRKfBCsHtDdk2o7e023XvfvXqo+SF1z+mWzjWTt+Fj94AG7QUNm8Q+dmCZKGWeqiGv/TP360fNP9JT//yUbv3Erbrq765SIpVQJjPMhBt252zomwCn9n2r6GHzsUGUSCT04ooXddOdN+nB9IPq/pgJotPNhjZIPkgIHdZH8KN9PruHNUdquaBF337m27rr23dp546dhTEE29FA4AgChNERUHy5q7BHFIvr4f96WLf/++3auGCj0meZwzK77jOwRzPSkx3YWyqTui7q0q8zv9Yd/3KHNjdvVipldp+4ITCEAGE0BIzrdxf2iOIJ3fuf9+o7f/iOWi80C9SnmVmdrBA6HMyGkv2aJ62qW6U7vneH1q9bTyAd7sTPgQBhFFD41UiYIFq2bJl+/Mcfq+OCDsnsqRQtiAZT2qWiWmnN1DW6+8d3q2VTC4dsg31oBwKEUUDhT8Oeuv/db3+nex6/R50XdkpJMze7lxLWzQbSVBNI9Wv0ze9/s7CGZM/scUNgsABhNFjDg7ZdrN60YZPueeAe7Tpn18EF5ZFcpP6gRof2kFaNWqUf/NsPlOnn7NoHpfT1cYSRR5W160S93b362f0/09bZW6XxZnJh7hEdbmvXqxqlp955Sk889kTh4svDN+HnU1eAMPKo9vbw7De/+Y2e3vu0NNNMrFiL1cM1PBSMXQu69Ivf/kLbtmxj/Wi4dqfAdoSRJ0UuXNS4o00PP/uwuhvNdUSlehRkA8m83WTTpE169PFHlc1kC58S4EkZmMYJCBBGJ4BXSg+1YbR8+XKtL1svjTEjK6XDs8Oh7BrWLOmXq36p1u2thNHhPqfoz4SRB4W3n0Fkr3J+4NkHlJ1ljs1KOYistx2fOcPXXt+u+//7fg7VPHgNjsQUCKORUAz5OezC9eo1q9WcaZbGmsGUwtmzY5mYzMzWZ/Vi84vavXN34eNMjvUQfu+3AGHkQX1j0ZieePYJZaabhaJSW7Q+mq+5EHNLcovWrV3HmbWjOZ0ivyOMHC+0PUTbsWOHWna3HPw8Ihf2igbMzauvZ2KPXt/4uvrSfawdDbicot8JI8cLby9yXLN6jTqqzVs+XPtAGLN2FJkY0dq31mr/3v2EkeOvxRMdPmF0ooIhP96eRduwYYN2pnYefDd+yOM5ru7NXpz9gLY/v/1ndXV0EUbHheffxoSRwzW1C9f9ff3as2+P8qNK/RTaENDmU0V6oj165513htiAu08VAcLI4UrbMOrq6tIB80/lZiIu5pFZcC8bX6a23W0OV4Khj4QAYTQSiiE+R7onrY6MWS9KhDiIE+w6W5bVno49J/gsPNx1AcLI4QraPSP72dKdGfMxIYP+uKJrU+qN9qqr26wZuTwJ19BLcLyEUQkW5biGZA7NMjlzfZHDYZQzV2lmcy5dIHVcFWLjYQoQRsOEKtXNorGoKuIVbq4XHUJNmGPMVJLPxy7V11ixxkUYFUv6JPRj/8Z9IpnQmLh5Z6zDOxZl/WUaVzXOrL+7uAJ/Egp7ij4lYeRw4W0YVVRWqCpaJZk/+uHkoZp5BWY7s5o03v4lSW6nsgBh5HD1bRhVVlZqVHKU+btAjk7E7Az1tfepZlKNoxNg2CMlQBiNlGRIz5PL51Q/tV4VPQ6uG9lFdxOi08dO1+ixo2XDldupK0AYOV57e2p/TuMcnd5j/kSsa/9bNq++SGdETbVNqhpjDjW5ndIChJHj5e/v79c5887RqN5Dh2ouneI34ZlvzatxWqPGjB2jXM6ljxxw/IVTgsMnjEqwKMc7pHgyrkubLlV0qymnS+/cN2cAJ3dNVmNjo7JZh08HHm/B2P6IAoTREVncutOutVx+8eUa1Wr2jvrM2F3YO7KvvN1SQ3mDZs+ZLbuHx+3UFiCMPKi/Pbypn1Gvq8++WnrTTMiFMDJjTG5M6vorrlcsHmPx2oPX4YlOgTA6UcESeLzdMyqvKNdVH79Kk7dPLv0LIO1ftjZ/7HbxqMW68MILC++vKwFGhhCyAGEUcgFGqvve3l41ndekj0z+iPSGedZSXjsyy0Op11K6ZektGlU1ir2ikXoROP48hJHjBRw8fHvN0Rdv/qIadjUoesCUthQP18xeUdm2Ml079VotunCR+vrtIhc3BCTCyKNXgT0jNWPWDN182c2KrDJJVGrXHdnDs33mDNrGyfrCTV8o/L00LnT06AV4glMhjE4QsNQebs9KfeqqT+mammsU22D+118qh2t2L82cMKteXa07r7tTZ9afyen8UnvxhDwewijkAox09/bMWqospa/f+XVd1neZtNX0EHYg2SAy1zNWvlSpL1/0ZX3yyk8SRCNdeA+ejzDyoIiHT8Eerk04bYK+dce3tHDHQmmz2SKsQDq0blX+Yrk+P+fzuuWWWwpXWnN4dnjV+Jkw8vQ10NfXpym1U/TDu36oJe1LFFtnDtlsMBwKh6JM2766us2h2QvV+trir+kr//gVs4OU4+xZUfDd64Qwcq9mwx6xPVM1tW6qvnvXd3Vd2XWKPGuSyH7u0cneS7KBlzRfrdKEZyfo7kvu1k033mTuMGvqvDO/4MB/3i9wsl+W7++Re4oqYPeQxk0Yp2/c9Q01LGvQ/c/er+YpzdK0Q8MYyTNuNoTs/731mD9W8kpCF8cu1pe+9iXNXzC/sEZEEBW19M51Rhg5V7LjH7BdQ0qmkvrsjZ/VOXPP0U/u/4leXPGi2qe1S6eb57OvAvs+1Q8aTDaA7Gl7+wFvZsG8fme9rmm6Rp+57jMaP3G8bCByQ+BYAoTRsYQ8+b09y5ZOpzW7cbZ++r2f6qknn9Ijyx/Ris0r1HemCQv7QYsDfwhycCgNblsLu/czcBto7zd3vGmuH2qfrCVTl+j6O69XQ2ND4W0eBNEAFt+PJUAYHUvIs98PfFTH1ddcrUsvu1Tr163X0yue1jPPPaP06LT2jdundLVZWDIfHFnYYxq8qmiDye5B2TfYvyuN7Ryr1K6U6kbV6YpFV2jR+Ys0q2FW4ZCMEDJG3I5LgDA6Li5/Nu7p6VGyLKnzFp+nBQsX6Pbu27X+tfV6ZfUrat7crO5ct3qiPerIduhA9oCikaiq49WqilQplUlp/Ojxmjt/rhaeu1BT66fKfqZSNBot7H35o8RMiilAGBVTu8T6sodu9sveyirLtGjxIn34ox8u/NzZ0anOzk7ZP5+dzZjdIXNIZv8sUkVFharHVqu8vLywB2Q/9tbubQ18FR7MfxD4AAKE0QdA8/Eh9kyXDRb7ZW/2Ku7Tyk+T/RPa9sve7Db2ywZYd7e5gIgbAiMoQBiNIKZPTzWwx+TTnJhLaQsMXp4s7ZEyOgQQ8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwQII3dqxUgR8FqAMPK6vEwOAXcECCN3asVIEfBagDDyurxMDgF3BAgjd2rFSBHwWoAw8rq8TA4BdwTiRxpqJBJRPB5XNps90q+5DwEEEDguAZsnsVjsqI95XxglEglt2rRJt912m/L5/FEfzC8RQACB4QjYHZx0On3UQHpfGNkH9fT0aMuWLcPpg20QQACBYQscbe/ofWFkn9UG0tEeNOye2RABBBAYpgAL2MOEYjMEEDi5AoTRyfXl2RFAYJgChNEwodgMAQROrgBhdHJ9eXYEEBimwP8BGxlN3Zb+0tAAAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/step1.91dd72bd.png\";","export default __webpack_public_path__ + \"static/media/step2.c1591595.png\";","export default __webpack_public_path__ + \"static/media/step3.2650795d.png\";","export default __webpack_public_path__ + \"static/media/step4.786d8cc2.png\";","export default __webpack_public_path__ + \"static/media/step5.8dd09f14.png\";","export default __webpack_public_path__ + \"static/media/step6.28a50dbe.png\";","export default __webpack_public_path__ + \"static/media/step7.a8d3784f.png\";","import React from \"react\";\n\nimport \"../tutorials.css\";\n\nimport { Link } from \"react-router-dom\";\n\nimport TickableSection from \"../TickableSection\";\n\nimport step1 from \"./images/step1.png\";\nimport step2 from \"./images/step2.png\";\nimport step3 from \"./images/step3.png\";\nimport step4 from \"./images/step4.png\";\nimport step5 from \"./images/step5.png\";\nimport step6 from \"./images/step6.png\";\nimport step7 from \"./images/step7.png\";\n\nconst MovingWithKeyboard: React.FunctionComponent = () => {\n  return (\n    <div className=\"tutorial\">\n      <h1>Using Classes</h1>\n      <p>\n        We will be learning how to encapsulate our game entities using classes.\n      </p>\n      <p>\n        In this game I will make a very simple 'player' that can be directed to\n        move horizontally using the LEFT and RIGHT arrow keys. We will\n        encapsulate this player in a class, and then use a JavaScript object to\n        configure the controls for the player.\n      </p>\n      <p>\n        Once the controls can be changed for a given player, we can then make\n        multiple players, each with an independant existence in the 'game\n        world'.\n      </p>\n      <p>\n        The control scheme is a bit like{\" \"}\n        <Link to=\"/codeClub/movingWithKeyboard\">Moving With Keyboard</Link> but,\n        instead of using the event handling functions, we will use isKeyDown\n        which we used in\n        <Link to=\"/codeClub/topDownCar\">Top Down Car</Link>. So we have a mix of\n        approaches.\n      </p>\n      <p>\n        I will only implement LEFT and RIGHT, but you can add UP and DOWN if you\n        like. Then try and apply this class based approach to the top down car\n        and the steering controls.\n      </p>\n      <p>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://editor.p5js.org/JoeSharp/sketches/XqokKbcsP\"\n        >\n          Here is a completed example.\n        </a>\n      </p>\n      <TickableSection tickId=\"s6step1\" header=\"Step 1 - Create Class\">\n        <p>\n          Here we create the class that encapsulates our player. At this stage\n          each instance will have a 'position'. I am using <code>this</code> to\n          assign a position to the <code>instance</code> of the class. Each{\" \"}\n          <code>Player</code> in our sketch will have its own position.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step1}\n            alt=\"Step 1 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n\n      <TickableSection tickId=\"s6step2\" header=\"Step 2 - Create Instance\">\n        <p>\n          Here we declare a variable called 'player' and in the{\" \"}\n          <code>setup()</code> function we create an instance of our class.\n          Inside <code>draw()</code> we can then call upon our player to{\" \"}\n          <code>update()</code> and <code>draw()</code> itself.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step2}\n            alt=\"Step 2 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n\n      <TickableSection tickId=\"s6step3\" header=\"Step 3 - Draw Something\">\n        <p>\n          Here we add the drawing code, at the moment I will just draw an\n          ellipse for our player.\n        </p>\n        <p>\n          Note the use of <code>push()</code> and <code>pop()</code> around our\n          drawing code. This prevents our translation interfering with the\n          drawing of other game objects.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step3}\n            alt=\"Step 3 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n\n      <TickableSection\n        tickId=\"s6step4\"\n        header=\"Step 4 - Update Position based on Keys\"\n      >\n        <p>\n          Here we are handling the controls of our game. The{\" \"}\n          <code>keyIsDown()</code> function is used to determine if LEFT/RIGHT\n          ARROW keys are pressed and it updates the position on{\" \"}\n          <code>this</code> accordingly.\n        </p>\n\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step4}\n            alt=\"Step 4 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection tickId=\"s6step5\" header=\"Step 5 - Add a second player\">\n        <p>\n          We will now add a second player, I have simply added another variable\n          for <code>player2</code>, renamed the original <code>player</code> to{\" \"}\n          <code>player1</code>. I then just have to call <code>update()</code>{\" \"}\n          and <code>draw()</code> on this second instance.\n        </p>\n        <p>You may notice that the same arrow keys control both players...</p>\n\n        <div className=\"image\">\n          <img\n            style={{ height: \"20rem\" }}\n            src={step5}\n            alt=\"Step 5 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s6step6\"\n        header=\"Step 6 - Add Configurable Controls per Player\"\n      >\n        <p>\n          I have added a second argument to the Player constructor called{\" \"}\n          <code>controls</code>. I have then updated the <code>update()</code>{\" \"}\n          function to use <code>controls.right</code> and{\" \"}\n          <code>controls.left</code>\n          instead of the fixed arrow key values.\n        </p>\n        <p>\n          This code won't work yet, we now need to pass controls into the\n          constructor...\n        </p>\n\n        <div className=\"image\">\n          <img\n            style={{ height: \"20rem\" }}\n            src={step6}\n            alt=\"Step 6 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n      <TickableSection\n        tickId=\"s6step7\"\n        header=\"Step 7 - Pass Controls to each Player\"\n      >\n        <p>\n          I have now added controls to each player initialisation. This is an\n          example of a <em>Literal Object</em> in JavaScript. The data format is\n          referred to as <code>JSON</code> (JavaScript Object Notation)\n        </p>\n\n        <div className=\"image\">\n          <img\n            style={{ height: \"15rem\" }}\n            src={step7}\n            alt=\"Step 7 Screenshot\"\n          />\n        </div>\n      </TickableSection>\n    </div>\n  );\n};\n\nexport default MovingWithKeyboard;\n","export default __webpack_public_path__ + \"static/media/step0.e2721a2d.png\";","export default __webpack_public_path__ + \"static/media/step1.d98e027e.png\";","export default __webpack_public_path__ + \"static/media/step2.e813d177.png\";","export default __webpack_public_path__ + \"static/media/step3.1182b502.png\";","import React from \"react\";\nimport TickableSection from \"../TickableSection\";\n\nimport step0 from \"./images/step0.png\";\nimport step1 from \"./images/step1.png\";\nimport step2 from \"./images/step2.png\";\nimport step3 from \"./images/step3.png\";\n\nconst SafeCracker = () => {\n  return (\n    <div className=\"tutorial\">\n      <h1>Brute Force Attack</h1>\n      <p>\n        We will be writing a program to demonstrate brute forcing a 3 digit PIN.\n      </p>\n\n      <TickableSection tickId=\"step0\" header=\"Step 0 - Create 'Safe' Function\">\n        <p>\n          First we define a function to encapsulate our 'Safe'. It will return\n          true if we give it the correct PIN, otherwise it will return false.\n        </p>\n        <div className=\"image\">\n          <img style={{ height: \"7rem\" }} src={step0} alt=\"Step 0 Screenshot\" />\n        </div>\n      </TickableSection>\n\n      <TickableSection tickId=\"step1\" header=\"Step 1 - Submit Single Values\">\n        <p>\n          Let us check we can call this function and interpret the result\n          correctly. The following code should return 'Safe still LOCKED' when\n          run.\n        </p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"13rem\" }}\n            src={step1}\n            alt=\"Step 1 Screenshot\"\n          />\n        </div>\n        <p>\n          <ul>\n            <li>\n              Try submitting a value of <code>345</code> and check that the\n              program prints 'Safe OPENED'.\n            </li>\n          </ul>\n        </p>\n      </TickableSection>\n\n      <TickableSection\n        tickId=\"step2\"\n        header=\"Step 2 - Loop through all possible calues\"\n      >\n        <p>Here we create a loop to go through all the possible values.</p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"13rem\" }}\n            src={step2}\n            alt=\"Step 2 Screenshot\"\n          />\n        </div>\n        <ul>\n          <li>\n            Change the expected value of the PIN to 004, does the safe still\n            crack? It should not\n          </li>\n          <li>\n            Change the expected value of the PIN to 034, does the safe crack? It\n            should not\n          </li>\n        </ul>\n      </TickableSection>\n\n      <TickableSection tickId=\"step3\" header=\"Step 3 - Zero Pad the Number\">\n        <p>For the lower values of PIN to work, we must pad with zeros.</p>\n        <div className=\"image\">\n          <img\n            style={{ height: \"20rem\" }}\n            src={step3}\n            alt=\"Step 3 Screenshot\"\n          />\n        </div>\n        <ul>\n          <li>\n            Set the pin in open_safe to values 005, 065, 123, do they work? They\n            should\n          </li>\n          <li> Set the pin to 4568, does this work? It should not</li>\n        </ul>\n      </TickableSection>\n    </div>\n  );\n};\n\nexport default SafeCracker;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport interface Props {\n  title: string;\n  description: string;\n  href?: string;\n}\n\nconst Card: React.FunctionComponent<Props> = ({ title, description, href }) => (\n  <div className=\"card h-100\">\n    <div className=\"card-body\">\n      {href ? (\n        <Link to={href} className=\"card-title\">\n          {title}\n        </Link>\n      ) : (\n        <h5 className=\"card-title\">{title}</h5>\n      )}\n      <p className=\"card-text\">{description}</p>\n    </div>\n  </div>\n);\nexport default Card;\n","import React from \"react\";\n\ninterface Props<T> {\n  items: T[];\n  groupSize?: number;\n}\n\ninterface UseGroupUp<T> {\n  itemGroups: T[][];\n}\n\nconst useGroupUp = <T>({ items, groupSize = 3 }: Props<T>): UseGroupUp<T> =>\n  React.useMemo(() => {\n    const itemGroups: T[][] = [];\n    for (let i = 0; i < items.length; i += groupSize) {\n      itemGroups.push(items.slice(i, i + groupSize));\n    }\n    return { itemGroups };\n  }, [items, groupSize]);\n\n  export default useGroupUp;","import React from \"react\";\nimport Card, { Props as CardProps } from \"../Card/Card\";\nimport useGroupUp from \"../../lib/useGroupUp\";\n\ninterface Props {\n  cards: CardProps[];\n}\n\nconst CardCollection: React.FunctionComponent<Props> = ({ cards }) => {\n  const { itemGroups: cardGroups } = useGroupUp({ items: cards, groupSize: 3 });\n\n  return (\n    <div>\n      {cardGroups.map((cardGroup, i) => (\n        <div key={i} className=\"row mb-3\">\n          {cardGroup.map((card) => (\n            <div key={card.title} className=\"col-sm-4\">\n              <Card {...card} />\n            </div>\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default CardCollection;\n","import React from \"react\";\n\nimport TopDownCar from \"./TopDownCar\";\nimport MovingWithKeyboard from \"./MovingWithKeyboard\";\nimport UsingClasses from \"./UsingClasses\";\nimport SafeCracker from \"./SafeCracker\";\nimport { Page } from \"../../types\";\nimport CardCollection from \"../Bootstrap/CardCollection\";\n\nconst gameSeries: Page[] = [\n  {\n    href: \"/codeClub/movingWithKeyboard\",\n    title: \"Session 1 - Moving With Keyboard\",\n    description:\n      \"Learn how to intercept keyboard events and use them to move an object around the screen\",\n    component: MovingWithKeyboard,\n  },\n  {\n    href: \"/codeClub/topDownCar\",\n    title: \"Session 2 - Top Down Car\",\n    component: TopDownCar,\n    description:\n      \"Learn how to use keyboard events to build a top down driving control scheme\",\n  },\n  {\n    href: \"/codeClub/usingClasses\",\n    title: \"Session 3 - Using Classes\",\n    component: UsingClasses,\n    description:\n      \"Learn how to use Object Oriented Programming to encapsulate game objects.\",\n  },\n];\nconst miscPages: Page[] = [\n  {\n    href: \"/codeClub/safeCracker\",\n    title: \"Session 99 - Safe Cracker\",\n    component: SafeCracker,\n    description: \"Learn how to write a program to brute force a digital safe\",\n  },\n];\n\nconst CodeClub: React.FunctionComponent = () => (\n  <div>\n    <h2>Game Series</h2>\n    <CardCollection cards={gameSeries} />\n\n    <h2>Miscellaneous</h2>\n    <CardCollection cards={miscPages} />\n  </div>\n);\n\nexport const page: Page = {\n  href: \"/codeClub\",\n  title: \"Code Club\",\n  description: \"Some projects to teach coding to KS3\",\n  component: CodeClub,\n};\n\nexport const pages: Page[] = [page, ...gameSeries, ...miscPages];\n","import React from \"react\";\r\nimport p5 from \"p5\";\r\n\r\nfunction configReducer<T>(state: T, updates: Partial<T>): T {\r\n  return { ...state, ...updates };\r\n}\r\n\r\ntype ChangeEventHandlerFactory<T> = (\r\n  key: keyof T\r\n) => React.ChangeEventHandler<HTMLInputElement>;\r\n\r\nexport abstract class AbstractSketch<T> {\r\n  config: T;\r\n\r\n  constructor(defaultConfig: T) {\r\n    this.config = defaultConfig;\r\n  }\r\n\r\n  setConfig(config: T) {\r\n    this.config = config;\r\n  }\r\n\r\n  abstract sketch(s: p5): void;\r\n}\r\n\r\nexport interface UseSketch<T, SKETCH extends AbstractSketch<T>> {\r\n  config: T;\r\n  refContainer: any;\r\n  sketchInUse?: p5;\r\n  sketchContainer: SKETCH;\r\n  updateConfig: (s: Partial<T>) => void;\r\n  onNumericConfigChange: ChangeEventHandlerFactory<T>;\r\n  onStringConfigChange: ChangeEventHandlerFactory<T>;\r\n  onBooleanConfigChange: ChangeEventHandlerFactory<T>;\r\n}\r\n\r\ninterface BaseConfig {\r\n  [s: string]: any;\r\n}\r\n\r\nfunction useSketch<T extends BaseConfig, SKETCH extends AbstractSketch<T>>(s: {\r\n  new(): SKETCH;\r\n}): UseSketch<T, SKETCH> {\r\n  const sketchInUse = React.useRef<p5>();\r\n  const refContainer = React.useRef(null);\r\n  const sketchContainer: SKETCH = React.useMemo(() => new s(), [s]);\r\n  React.useEffect(() => {\r\n    if (!!refContainer) {\r\n      sketchInUse.current = new p5(\r\n        sketchContainer.sketch.bind(sketchContainer),\r\n        (refContainer.current as unknown) as HTMLElement\r\n      );\r\n    }\r\n\r\n    return () => {\r\n      if (!!sketchInUse.current) {\r\n        sketchInUse.current.remove();\r\n      }\r\n    };\r\n  }, [sketchContainer]);\r\n\r\n  const [config, dispatch] = React.useReducer(\r\n    configReducer,\r\n    sketchContainer.config\r\n  );\r\n\r\n  const updateConfig = React.useCallback(\r\n    (updates: Partial<T>) => dispatch(updates),\r\n    []\r\n  );\r\n\r\n  React.useEffect(() => sketchContainer.setConfig(config as T), [\r\n    config,\r\n    sketchContainer,\r\n  ]);\r\n\r\n  const onNumericConfigChange: ChangeEventHandlerFactory<T> = React.useCallback(\r\n    (key: keyof T): React.ChangeEventHandler<HTMLInputElement> => ({\r\n      target: { value },\r\n    }) => updateConfig({ [key]: parseFloat(value) } as Partial<T>),\r\n    [updateConfig]\r\n  );\r\n\r\n  const onBooleanConfigChange: ChangeEventHandlerFactory<T> = React.useCallback(\r\n    (key: keyof T): React.ChangeEventHandler<HTMLInputElement> => ({\r\n      target: { checked },\r\n    }) => updateConfig({ [key]: checked } as Partial<T>),\r\n    [updateConfig]\r\n  );\r\n\r\n  const onStringConfigChange: ChangeEventHandlerFactory<T> = React.useCallback(\r\n    (key: keyof T): React.ChangeEventHandler<HTMLInputElement> => ({\r\n      target: { value },\r\n    }) => updateConfig({ [key]: value } as Partial<T>),\r\n    [updateConfig]\r\n  );\r\n\r\n  return {\r\n    config: config as T,\r\n    sketchContainer,\r\n    sketchInUse: sketchInUse.current,\r\n    updateConfig,\r\n    onNumericConfigChange,\r\n    onStringConfigChange,\r\n    onBooleanConfigChange,\r\n    refContainer,\r\n  };\r\n}\r\n\r\nexport default useSketch;\r\n","import { NamedImage } from \"../types\";\r\n\r\nimport i1 from \"./1.png\";\r\nimport i2 from \"./2.png\";\r\nimport i3 from \"./3.png\";\r\nimport i4 from \"./4.png\";\r\nimport i5 from \"./5.png\";\r\nimport i6 from \"./6.png\";\r\nimport i7 from \"./7.png\";\r\nimport i8 from \"./8.png\";\r\nimport i9 from \"./9.png\";\r\nimport i10 from \"./10.png\";\r\nimport i11 from \"./11.png\";\r\nimport i12 from \"./12.png\";\r\nimport i13 from \"./13.png\";\r\nimport i14 from \"./14.png\";\r\nimport i15 from \"./15.png\";\r\nimport i16 from \"./16.png\";\r\nimport i17 from \"./17.png\";\r\nimport i18 from \"./18.png\";\r\n\r\nconst images: NamedImage[] = [\r\n  { name: \"one\", image: i1 },\r\n  { name: \"two\", image: i2 },\r\n  { name: \"three\", image: i3 },\r\n  { name: \"four\", image: i4 },\r\n  { name: \"five\", image: i5 },\r\n  { name: \"six\", image: i6 },\r\n  { name: \"seven\", image: i7 },\r\n  { name: \"eight\", image: i8 },\r\n  { name: \"nine\", image: i9 },\r\n  { name: \"ten\", image: i10 },\r\n  { name: \"eleven\", image: i11 },\r\n  { name: \"twelve\", image: i12 },\r\n  { name: \"thirteen\", image: i13 },\r\n  { name: \"fourteen\", image: i14 },\r\n  { name: \"fifteen\", image: i15 },\r\n  { name: \"sixteen\", image: i16 },\r\n  { name: \"seventeen\", image: i17 },\r\n  { name: \"eighteen\", image: i18 }\r\n];\r\n\r\nexport default images;\r\n","export default __webpack_public_path__ + \"static/media/1.0e1a8d70.png\";","export default __webpack_public_path__ + \"static/media/2.bfdf1d0a.png\";","export default __webpack_public_path__ + \"static/media/3.c2b8e964.png\";","export default __webpack_public_path__ + \"static/media/4.0a7cf1c3.png\";","export default __webpack_public_path__ + \"static/media/5.d9796a69.png\";","export default __webpack_public_path__ + \"static/media/6.bc4c3557.png\";","export default __webpack_public_path__ + \"static/media/7.f919fe14.png\";","export default __webpack_public_path__ + \"static/media/8.8fdf1bcd.png\";","export default __webpack_public_path__ + \"static/media/9.80f7af51.png\";","export default __webpack_public_path__ + \"static/media/10.f4ed8498.png\";","export default __webpack_public_path__ + \"static/media/11.23a08162.png\";","export default __webpack_public_path__ + \"static/media/12.4d48287f.png\";","export default __webpack_public_path__ + \"static/media/13.fdc336ae.png\";","export default __webpack_public_path__ + \"static/media/14.a453c3f1.png\";","export default __webpack_public_path__ + \"static/media/15.412cd396.png\";","export default __webpack_public_path__ + \"static/media/16.1a1eb3d6.png\";","export default __webpack_public_path__ + \"static/media/17.040415ef.png\";","export default __webpack_public_path__ + \"static/media/18.d045db43.png\";","import { NamedImage } from \"../types\";\r\n\r\nimport i1 from \"./1.png\";\r\nimport i2 from \"./2.png\";\r\nimport i3 from \"./3.png\";\r\n\r\nconst images: NamedImage[] = [\r\n  { name: \"one\", image: i1 },\r\n  { name: \"two\", image: i2 },\r\n  { name: \"three\", image: i3 }\r\n];\r\n\r\nexport default images;\r\n","export default __webpack_public_path__ + \"static/media/1.72fd319d.png\";","export default __webpack_public_path__ + \"static/media/2.1312d106.png\";","export default __webpack_public_path__ + \"static/media/3.4e046509.png\";","import { NamedImage } from \"../types\";\r\n\r\nimport i1 from \"./1.png\";\r\nimport i2 from \"./2.png\";\r\nimport i3 from \"./3.png\";\r\nimport i4 from \"./4.png\";\r\nimport i5 from \"./5.png\";\r\nimport i6 from \"./6.png\";\r\nimport i7 from \"./7.png\";\r\nimport i8 from \"./8.png\";\r\nimport i9 from \"./9.png\";\r\nimport i10 from \"./10.png\";\r\nimport i11 from \"./11.png\";\r\nimport i12 from \"./12.png\";\r\n\r\nconst images: NamedImage[] = [\r\n  { name: \"one\", image: i1 },\r\n  { name: \"two\", image: i2 },\r\n  { name: \"three\", image: i3 },\r\n  { name: \"four\", image: i4 },\r\n  { name: \"five\", image: i5 },\r\n  { name: \"six\", image: i6 },\r\n  { name: \"seven\", image: i7 },\r\n  { name: \"eight\", image: i8 },\r\n  { name: \"nine\", image: i9 },\r\n  { name: \"ten\", image: i10 },\r\n  { name: \"elevent\", image: i11 },\r\n  { name: \"twelve\", image: i12 }\r\n];\r\n\r\nexport default images;\r\n","export default __webpack_public_path__ + \"static/media/1.7e1ce832.png\";","export default __webpack_public_path__ + \"static/media/2.3d630252.png\";","export default __webpack_public_path__ + \"static/media/3.23ba8d15.png\";","export default __webpack_public_path__ + \"static/media/4.22ab7910.png\";","export default __webpack_public_path__ + \"static/media/5.b11dc4b3.png\";","export default __webpack_public_path__ + \"static/media/6.c0af7769.png\";","export default __webpack_public_path__ + \"static/media/7.0073d243.png\";","export default __webpack_public_path__ + \"static/media/8.adfbe995.png\";","export default __webpack_public_path__ + \"static/media/9.cc2dcc89.png\";","export default __webpack_public_path__ + \"static/media/10.8c9e2220.png\";","export default __webpack_public_path__ + \"static/media/11.f2f562ec.png\";","export default __webpack_public_path__ + \"static/media/12.3f3440ed.png\";","import p5, { Image } from \"p5\";\nimport { NamedImage } from \"./types\";\n\nclass ImageSwitcher {\n  images: Image[];\n  imageIndex: number;\n\n  constructor(s: p5, namedImages: NamedImage[]) {\n    this.images = namedImages.map((n) => s.loadImage(n.image));\n    this.imageIndex = 0;\n    this.randomImage();\n  }\n\n  nextImage() {\n    this.imageIndex += 1;\n    this.imageIndex %= this.images.length;\n  }\n\n  randomImage() {\n    this.imageIndex = Math.floor(Math.random() * this.images.length);\n  }\n\n  currentImage(): Image {\n    return this.images[this.imageIndex];\n  }\n}\n\nexport default ImageSwitcher;\n","import p5 from \"p5\";\n\nimport ships from \"./images/ships\";\nimport { ImageSwitcher } from \"./images\";\nimport { GameObject } from \"./types\";\n\nclass Ship implements GameObject {\n  s: p5;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  acceleration: p5.Vector;\n  heading: number;\n  radius: number;\n  imageSwitcher: ImageSwitcher;\n\n  constructor(s: p5, position: p5.Vector, radius: number) {\n    this.s = s;\n    this.position = position;\n    this.velocity = s.createVector();\n    this.acceleration = s.createVector();\n    this.heading = 0;\n    this.radius = radius;\n    this.imageSwitcher = new ImageSwitcher(s, ships);\n  }\n\n  nextImage() {\n    this.imageSwitcher.nextImage();\n  }\n\n  hitBy(other: GameObject) {}\n\n  isStillActive() {\n    return true;\n  }\n\n  update() {\n    let steer = 0;\n    let thrust = 0;\n    if (this.s.keyIsDown((this.s as any).LEFT_ARROW)) {\n      steer = -1;\n    } else if (this.s.keyIsDown((this.s as any).RIGHT_ARROW)) {\n      steer = 1;\n    } else if (this.s.keyIsDown((this.s as any).UP_ARROW)) {\n      thrust = 1;\n    }\n\n    this.heading += steer * 0.1;\n\n    let thrustForce = this.s.createVector(0, thrust * 0.4);\n    thrustForce.rotate(this.heading);\n    this.acceleration.add(thrustForce);\n    this.velocity.add(this.acceleration);\n    this.velocity.limit(4);\n    this.velocity.mult(0.95);\n    this.position.add(this.velocity);\n    this.acceleration.mult(0);\n\n    // Cycle around the edges\n    this.position.x += this.s.width;\n    this.position.x %= this.s.width;\n    this.position.y += this.s.height;\n    this.position.y %= this.s.height;\n  }\n\n  draw() {\n    this.s.push();\n    this.s.noFill();\n    this.s.stroke(\"green\");\n    this.s.translate(this.position.x, this.position.y);\n    this.s.rotate(this.heading);\n    this.s.image(\n      this.imageSwitcher.currentImage(),\n      -this.radius,\n      -this.radius,\n      this.radius * 2,\n      this.radius * 2\n    );\n    // this.s.triangle(\n    //   -this.radius,\n    //   -this.radius,\n    //   this.radius,\n    //   -this.radius,\n    //   0,\n    //   this.radius\n    // );\n    this.s.pop();\n  }\n}\n\nexport default Ship;\n","import p5 from \"p5\";\nimport asteroids from \"./images/asteroids\";\nimport { ImageSwitcher } from \"./images\";\nimport { GameObject } from \"./types\";\n\ntype AsteroidConsumer = (a: Asteroid) => void;\n\nclass Asteroid implements GameObject {\n  s: p5;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  angularVelocity: number;\n  heading: number;\n  radius: number;\n  imageSwitcher: ImageSwitcher;\n  isDead: boolean;\n  addAsteroid: AsteroidConsumer;\n\n  constructor(s: p5, addAsteroid: AsteroidConsumer) {\n    this.s = s;\n    this.position = s.createVector(s.random(s.width), s.random(s.height));\n    this.velocity = s.createVector(s.random(-1, 1), s.random(-1, 1));\n    this.angularVelocity = s.map(s.random(), 0, 1, -s.PI, s.PI) * 0.01;\n    this.heading = s.map(s.random(), 0, 1, -s.PI, s.PI);\n    this.radius = s.floor(s.random(40, 60));\n    this.imageSwitcher = new ImageSwitcher(s, asteroids);\n    this.imageSwitcher.randomImage();\n    this.isDead = false;\n    this.addAsteroid = addAsteroid;\n  }\n\n  hitBy(other: GameObject) {\n    if (!this.isDead && this.radius > 30) {\n      for (let x = 0; x < 2; x++) {\n        let a = new Asteroid(this.s, this.addAsteroid);\n        a.radius = this.radius / 2;\n        a.position = this.position;\n        a.velocity.rotate(x * this.s.PI);\n        this.addAsteroid(a);\n      }\n    }\n\n    this.isDead = true;\n  }\n\n  isStillActive() {\n    return !this.isDead;\n  }\n\n  update() {\n    this.position.add(this.velocity);\n    this.heading += this.angularVelocity;\n\n    // Cycle around the edges\n    this.position.x += this.s.width;\n    this.position.x %= this.s.width;\n    this.position.y += this.s.height;\n    this.position.y %= this.s.height;\n  }\n\n  draw() {\n    this.s.push();\n    this.s.translate(this.position.x, this.position.y);\n    this.s.rotate(this.heading);\n\n    this.s.noFill();\n    this.s.stroke(255);\n    this.s.image(\n      this.imageSwitcher.currentImage(),\n      -this.radius / 2,\n      -this.radius / 2,\n      this.radius,\n      this.radius\n    );\n\n    this.s.pop();\n  }\n}\n\nexport default Asteroid;\n","import p5 from \"p5\";\nimport monsters from \"./images/monsters\";\nimport { ImageSwitcher } from \"./images\";\nimport { GameObject } from \"./types\";\n\nclass Asteroid implements GameObject {\n  s: p5;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  angularVelocity: number;\n  heading: number;\n  radius: number;\n  imageSwitcher: ImageSwitcher;\n  isDead: boolean;\n\n  constructor(s: p5) {\n    this.s = s;\n    this.position = s.createVector(s.random(s.width), s.random(s.height));\n    this.velocity = s.createVector(s.random(-1, 1), s.random(-1, 1));\n    this.angularVelocity = s.map(s.random(), 0, 1, -s.PI, s.PI) * 0.01;\n    this.heading = s.map(s.random(), 0, 1, -s.PI, s.PI);\n    this.radius = s.floor(s.random(20, 60));\n    this.imageSwitcher = new ImageSwitcher(s, monsters);\n    this.imageSwitcher.randomImage();\n    this.isDead = false;\n  }\n\n  hitBy(other: GameObject) {\n    this.isDead = true;\n  }\n\n  isStillActive() {\n    return !this.isDead;\n  }\n\n  update() {\n    this.position.add(this.velocity);\n    this.heading += this.angularVelocity;\n\n    // Cycle around the edges\n    this.position.x += this.s.width;\n    this.position.x %= this.s.width;\n    this.position.y += this.s.height;\n    this.position.y %= this.s.height;\n  }\n\n  draw() {\n    this.s.push();\n    this.s.translate(this.position.x, this.position.y);\n    this.s.rotate(this.heading);\n\n    this.s.noFill();\n    this.s.stroke(255);\n    this.s.image(\n      this.imageSwitcher.currentImage(),\n      -this.radius / 2,\n      -this.radius / 2,\n      this.radius,\n      this.radius\n    );\n\n    this.s.pop();\n  }\n}\n\nexport default Asteroid;\n","import p5 from \"p5\";\nimport { GameObject } from \"./types\";\n\nconst COLOURS = [\n  \"red\",\n  \"orange\",\n  \"yellow\",\n  \"green\",\n  \"blue\",\n  \"indigo\",\n  \"violet\"\n];\n\nclass Bullet implements GameObject {\n  s: p5;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  radius: number;\n  color: string;\n  isDead: boolean;\n\n  constructor(s: p5, position: p5.Vector, velocity: p5.Vector, radius: number) {\n    this.s = s;\n    this.position = position;\n    this.velocity = velocity;\n    this.radius = radius;\n    this.color = COLOURS[Math.floor(Math.random() * COLOURS.length)];\n    this.isDead = false;\n  }\n\n  hitBy(other: GameObject) {\n    this.isDead = true;\n  }\n\n  isStillActive() {\n    return (\n      !this.isDead &&\n      this.position.x > 0 &&\n        this.position.x < this.s.width &&\n        this.position.y > 0 &&\n        this.position.y < this.s.height\n    );\n  }\n\n  update() {\n    this.position.add(this.velocity);\n  }\n\n  draw() {\n    this.s.push();\n    this.s.translate(this.position.x, this.position.y);\n    this.s.noStroke();\n    this.s.fill(this.color);\n    this.s.circle(0, 0, this.radius);\n    this.s.pop();\n  }\n}\n\nexport default Bullet;\n","import p5 from \"p5\";\r\nimport { AbstractSketch } from \"../../p5/useSketch\";\r\nimport Ship from \"./Ship\";\r\nimport Asteroid from \"./Asteroid\";\r\nimport Monster from \"./Monster\";\r\nimport Bullet from \"./Bullet\";\r\n\r\nimport { GameObject } from \"./types\";\r\n\r\ninterface Config { }\r\n\r\nconst defaultConfig: Config = {};\r\n\r\nconst BULLET_SPEED = 10;\r\n\r\nexport function isColliding(obj1: GameObject, obj2: GameObject): boolean {\r\n  let diff = p5.Vector.sub(obj1.position, obj2.position);\r\n  let sumRadii = obj1.radius + obj2.radius;\r\n\r\n  return diff.mag() < sumRadii;\r\n}\r\n\r\nclass Sketch extends AbstractSketch<Config> {\r\n  constructor() {\r\n    super(defaultConfig);\r\n  }\r\n\r\n  sketch(s: p5) {\r\n    // const that = this;\r\n    let ship: Ship;\r\n    let asteroids: Asteroid[] = [];\r\n    let monsters: Monster[] = [];\r\n    let bullets: Bullet[] = [];\r\n    let numberAsteroids = 5;\r\n    let numberMonsters = 5;\r\n    const spawnAsteroid = (a: Asteroid) => asteroids.push(a);\r\n\r\n    s.setup = function () {\r\n      // const {} = that.config;\r\n      s.createCanvas(600, 600);\r\n\r\n      let position = s.createVector(s.width / 2, s.height / 2);\r\n      let radius = s.width / 20;\r\n      ship = new Ship(s, position, radius);\r\n\r\n      for (let i = 0; i < numberAsteroids; i++) {\r\n        asteroids.push(new Asteroid(s, spawnAsteroid));\r\n      }\r\n\r\n      for (let i = 0; i < numberMonsters; i++) {\r\n        monsters.push(new Monster(s));\r\n      }\r\n    };\r\n\r\n    s.keyPressed = function () {\r\n      if (s.keyCode === (s as any).ENTER) {\r\n        ship.nextImage();\r\n      } else if (s.keyCode === 32) {\r\n        // space\r\n        let bulletVelocity = s.createVector(0, 1);\r\n        bulletVelocity.setMag(BULLET_SPEED);\r\n        bulletVelocity.rotate(ship.heading);\r\n        let bullet = new Bullet(s, ship.position.copy(), bulletVelocity, 5);\r\n        bullets.push(bullet);\r\n      }\r\n    };\r\n\r\n    s.draw = function () {\r\n      s.background(0);\r\n\r\n      bullets.forEach((bullet) =>\r\n        [...asteroids, ...monsters]\r\n          .filter((a) => isColliding(a, bullet))\r\n          .forEach((a) => {\r\n            bullet.hitBy(a);\r\n            a.hitBy(bullet);\r\n          })\r\n      );\r\n\r\n      [ship, ...asteroids, ...monsters, ...bullets].forEach((a) => {\r\n        a.update();\r\n        a.draw();\r\n      });\r\n\r\n      bullets = bullets.filter((b) => b.isStillActive());\r\n      asteroids = asteroids.filter((b) => b.isStillActive());\r\n      monsters = monsters.filter((b) => b.isStillActive());\r\n\r\n      while (asteroids.length < numberAsteroids) {\r\n        asteroids.push(new Asteroid(s, spawnAsteroid));\r\n      }\r\n      while (monsters.length < numberMonsters) {\r\n        monsters.push(new Monster(s));\r\n      }\r\n\r\n      // Debug info\r\n      s.noStroke();\r\n      s.fill(255);\r\n      s.text(`Bullets ${bullets.length}`, 50, 50);\r\n    };\r\n  };\r\n}\r\n\r\nexport default Sketch;\r\n","import React from \"react\";\r\n\r\nimport Sketch from \"./Sketch\";\r\nimport useSketch from \"../../p5/useSketch\";\r\n\r\nconst Graphs: React.FunctionComponent = () => {\r\n  const { refContainer } = useSketch(Sketch);\r\n\r\n  return <div ref={refContainer} />;\r\n};\r\n\r\nexport default Graphs;\r\n","import React from \"react\";\n\ninterface Props {\n  items: string[];\n  remove: (item: string) => void;\n  clear: () => void;\n}\n\nconst ItemTable: React.FunctionComponent<Props> = ({\n  items,\n  remove,\n  clear,\n}) => {\n  const itemsWithHandlers = React.useMemo(\n    () => items.map((item) => ({ item, onRemove: () => remove(item) })),\n    [items, remove]\n  );\n\n  return (\n    <table className=\"table table-sm\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Name</th>\n          <th scope=\"col\">\n            <button\n              type=\"button\"\n              className=\"btn btn-sm btn-outline-danger\"\n              onClick={clear}\n            >\n              Clear All\n            </button>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {itemsWithHandlers.map(({ item, onRemove }) => (\n          <tr key={item}>\n            <td>{item}</td>\n            <td>\n              <button\n                type=\"button\"\n                className=\"btn btn-sm btn-outline-danger\"\n                onClick={onRemove}\n              >\n                Remove\n              </button>\n            </td>\n          </tr>\n        ))}\n        <tr />\n      </tbody>\n    </table>\n  );\n};\n\nexport default ItemTable;\n","import React from \"react\";\n\ninterface Props {\n  add: (item: string) => void;\n}\n\nconst NewItemForm: React.FunctionComponent<Props> = ({ add }) => {\n  const [newItem, setNewItem] = React.useState<string>(\"\");\n  const onNewItemChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewItem(value),\n    [setNewItem]\n  );\n  const onAdd = React.useCallback(() => {\n    add(newItem);\n    setNewItem(\"\");\n  }, [add, newItem, setNewItem]);\n\n  return (\n    <form>\n      <div className=\"form-group\">\n        <label htmlFor=\"itemInput\">Item to Add</label>\n        <input\n          className=\"form-control\"\n          type=\"text\"\n          id=\"itemInput\"\n          aria-describedby=\"itemInput\"\n          placeholder=\"Enter items\"\n          value={newItem}\n          onChange={onNewItemChange}\n        />\n        <small id=\"itemInputHelp\" className=\"form-text text-muted\">\n          Use spaces between multiple items.\n        </small>\n      </div>\n      <button type=\"button\" className=\"btn btn-primary\" onClick={onAdd}>\n        Add\n      </button>\n    </form>\n  );\n};\n\nexport default NewItemForm;\n","import React from \"react\";\nimport { Card } from \"./types\";\n\ninterface Props {\n  items: string[];\n}\n\ninterface UseCards {\n  cards: Card[];\n  itemsRequired: number;\n}\n\nconst useCards = ({ items }: Props): UseCards => {\n  return React.useMemo(() => {\n    let cards: Card[] = [];\n    let itemsRequired = 0;\n\n    if (items.length < 3) {\n      itemsRequired = 3 - items.length;\n    } else {\n      cards.push({ cardItems: [items[0], items[1]] });\n      cards.push({ cardItems: [items[0], items[2]] });\n      cards.push({ cardItems: [items[1], items[2]] });\n      let index = 3;\n\n      while (items.length - index >= cards.length) {\n        let newCard: Card = { cardItems: [] };\n        for (let x = index; x < index + cards.length; x++) {\n          newCard.cardItems.push(items[x]);\n        }\n        for (let x = 0; x < cards.length; x++) {\n          cards[x].cardItems.push(newCard.cardItems[x]);\n          index += 1;\n        }\n        cards.push(newCard);\n      }\n\n      if (index < items.length) {\n        itemsRequired = cards.length - (items.length - index);\n      }\n    }\n\n    return {\n      cards,\n      itemsRequired,\n    };\n  }, [items]);\n};\n\nexport default useCards;\n","import React from \"react\";\n\nimport { Card } from \"./types\";\nimport useCards from \"./useCards\";\n\ninterface Props {\n  items: string[];\n}\n\nconst Cards: React.FunctionComponent<Props> = ({ items }) => {\n  const { cards, itemsRequired } = useCards({ items });\n\n  return (\n    <div>\n      {itemsRequired > 0 ? (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          Please add {itemsRequired} more items\n        </div>\n      ) : null}\n      <ul>\n        {cards.map(({ cardItems }: Card, i) => (\n          <li key={i}>{cardItems.join(\", \")}</li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Cards;\n","import React from \"react\";\n\ninterface AddItem {\n  type: \"add\";\n  item: string;\n}\n\ninterface RemoveItem {\n  type: \"remove\";\n  item: string;\n}\n\ninterface ClearList {\n  type: \"clear\";\n}\n\ntype Action = AddItem | RemoveItem | ClearList;\n\nfunction listReducer(state: string[], action: Action) {\n  switch (action.type) {\n    case \"add\":\n      let items: string[] = action.item.split(\" \");\n      return [...state.filter((s) => !items.includes(s)), ...items].sort();\n    case \"remove\":\n      return state.filter((s) => s !== action.item);\n    case \"clear\":\n      return [];\n  }\n\n  return state;\n}\n\ninterface ListReducer {\n  add: (item: string) => void;\n  remove: (item: string) => void;\n  clear: () => void;\n  items: string[];\n}\n\nconst useList = (initialItems: string[] = []): ListReducer => {\n  const [items, dispatch] = React.useReducer(listReducer, initialItems);\n\n  const add = React.useCallback(\n    (item: string) => dispatch({ type: \"add\", item }),\n    []\n  );\n  const remove = React.useCallback(\n    (item: string) => dispatch({ type: \"remove\", item }),\n    []\n  );\n  const clear = React.useCallback(() => dispatch({ type: \"clear\" }), []);\n\n  return {\n    add,\n    remove,\n    clear,\n    items,\n  };\n};\n\nexport default useList;\n","import React from \"react\";\n\nimport ItemTable from \"./ItemTable\";\nimport NewItemForm from \"./NewItemForm\";\nimport Cards from \"./Cards\";\nimport useList from \"./useList\";\n\nconst Dobble: React.FunctionComponent = () => {\n  const { items, add, remove, clear } = useList([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"]);\n\n  return (\n    <div>\n      <NewItemForm {...{ add }} />\n\n      <h2>Cards to Make</h2>\n      <Cards {...{ items }} />\n\n      <h2>Registered Items (alphabetically ordered)</h2>\n      <ItemTable {...{ items, remove, clear }} />\n    </div>\n  );\n};\n\nexport default Dobble;\n","import React from \"react\";\r\n\r\nimport { IGuess } from \"./types\";\r\n\r\ninterface Props {\r\n  numberDigits: number;\r\n  value: number[];\r\n  onChange: (v: number[]) => any;\r\n}\r\n\r\ninterface DigitUpdateAction {\r\n  index: number;\r\n  value: number;\r\n}\r\n\r\nconst boundValue = (v: number): number => {\r\n  if (v < 0) return 0;\r\n  if (v > 9) return 9;\r\n  return v;\r\n};\r\n\r\nconst valueReducer = (state: IGuess, action: DigitUpdateAction): IGuess => {\r\n  const { index, value } = action;\r\n  return state.map((v, i) => (i === index ? boundValue(value) : v));\r\n};\r\n\r\ninterface DigitWithHandlers {\r\n  digit: number;\r\n  onChange: React.ChangeEventHandler<HTMLSelectElement>;\r\n}\r\n\r\nconst GuessEntry: React.FunctionComponent<Props> = ({\r\n  numberDigits,\r\n  value,\r\n  onChange,\r\n}) => {\r\n  const [digits, dispatchDigits] = React.useReducer(valueReducer, value);\r\n\r\n  const digitWithHandlers: DigitWithHandlers[] = React.useMemo(\r\n    () =>\r\n      digits.map((digit, index) => ({\r\n        digit,\r\n        onChange: (e) =>\r\n          dispatchDigits({ value: Number.parseInt(e.target.value), index }),\r\n      })),\r\n    [digits, dispatchDigits]\r\n  );\r\n\r\n  React.useEffect(() => onChange(digits), [digits, onChange]);\r\n\r\n  if (value.length !== numberDigits) {\r\n    return <div>INVALID NUMBER OF DIGITS</div>;\r\n  }\r\n\r\n  return (\r\n    <form className=\"form-inline\">\r\n      {digitWithHandlers.map(({ digit, onChange }, i) => (\r\n        <div key={i} className=\"form-group\">\r\n          <select className=\"form-control\" value={digit} onChange={onChange}>\r\n            {Array(10)\r\n              .fill(null)\r\n              .map((d, i) => (\r\n                <option>{i}</option>\r\n              ))}\r\n          </select>\r\n        </div>\r\n      ))}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default GuessEntry;\r\n","export type EvaluateFunction = (guess: number[], clue: number[]) => boolean;\r\n\r\nexport type IGuess = number[];\r\n\r\nexport interface IClue {\r\n  description: string;\r\n  evaluate: EvaluateFunction;\r\n}\r\n\r\nexport interface IClueWithValue {\r\n  value: IGuess;\r\n  clue: IClue;\r\n}\r\n\r\ntype CountFunction = (guess: number[], clue: number[]) => number;\r\n\r\nconst numberCommonDigits: CountFunction = (guess, clue) =>\r\n  guess.reduce((acc, curr) => (clue.includes(curr) ? acc + 1 : acc), 0);\r\nconst numberCorrectDigits: CountFunction = (guess, clue) =>\r\n  guess.reduce((acc, curr, i) => (clue[i] === curr ? acc + 1 : acc), 0);\r\n\r\nconst commonEvaluate = (\r\n  commonDigits: number,\r\n  correctDigits: number\r\n): EvaluateFunction => (guess: number[], clue: number[]) =>\r\n  numberCommonDigits(guess, clue) === commonDigits &&\r\n  numberCorrectDigits(guess, clue) === correctDigits;\r\n\r\nexport const oneDigitInCorrectPlace: IClue = {\r\n  description: \"One digit is right and in it's place\",\r\n  evaluate: commonEvaluate(1, 1),\r\n};\r\n\r\nexport const oneDigitInWrongPlace: IClue = {\r\n  description: \"One digit is right but in the wrong place\",\r\n  evaluate: commonEvaluate(1, 0),\r\n};\r\n\r\nexport const twoDigitsInWrongPlace: IClue = {\r\n  description: \"Two digits are right but both are in the wrong place\",\r\n  evaluate: commonEvaluate(2, 0),\r\n};\r\n\r\nexport const allDigitsWrong: IClue = {\r\n  description: \"All digits are wrong\",\r\n  evaluate: commonEvaluate(0, 0),\r\n};\r\n","import React from \"react\";\r\n\r\nimport { IGuess } from \"./types\";\r\n\r\ninterface Props {\r\n  value: IGuess;\r\n}\r\n\r\nconst ValueDisplay: React.FunctionComponent<Props> = ({ value }) => (\r\n  <div className=\"valueDisplay\">\r\n    {value.map((v, i) => (\r\n      <span className=\"valueDisplay__digit\" key={i}>\r\n        {v}\r\n      </span>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default ValueDisplay;\r\n","import React from \"react\";\r\n\r\nimport { IClueWithValue, IGuess } from \"./types\";\r\nimport ValueDisplay from \"./ValueDisplay\";\r\n\r\ninterface Props {\r\n  guess: IGuess;\r\n  clueWithValue: IClueWithValue;\r\n}\r\n\r\nconst Clue: React.FunctionComponent<Props> = ({\r\n  guess,\r\n  clueWithValue: {\r\n    clue: { description, evaluate },\r\n    value,\r\n  },\r\n}) => {\r\n  const guessMatches: boolean = React.useMemo(() => evaluate(guess, value), [\r\n    guess,\r\n    value,\r\n    evaluate,\r\n  ]);\r\n\r\n  return (\r\n    <div className=\"clueWithValue\">\r\n      <div className=\"clueWithValue__display\">\r\n        <ValueDisplay value={value} />\r\n      </div>\r\n      <div className=\"clueWithValue__description\">{description}</div>\r\n      <div\r\n        className={`clueWithValue__guessMatches alert alert-${\r\n          guessMatches ? \"success\" : \"danger\"\r\n        }`}\r\n      >\r\n        {guessMatches ? \"YES\" : \"NO\"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Clue;\r\n","import React from \"react\";\r\n\r\nimport \"./styles.css\";\r\n\r\nimport GuessEntry from \"./GuessEntry\";\r\nimport {\r\n  IGuess,\r\n  IClueWithValue,\r\n  allDigitsWrong,\r\n  oneDigitInCorrectPlace,\r\n  oneDigitInWrongPlace,\r\n  twoDigitsInWrongPlace,\r\n} from \"./types\";\r\nimport Clue from \"./Clue\";\r\n\r\nconst cluesWithValues: IClueWithValue[] = [\r\n  {\r\n    clue: oneDigitInCorrectPlace,\r\n    value: [6, 8, 2],\r\n  },\r\n  {\r\n    clue: oneDigitInWrongPlace,\r\n    value: [6, 1, 4],\r\n  },\r\n  {\r\n    clue: twoDigitsInWrongPlace,\r\n    value: [2, 0, 6],\r\n  },\r\n  {\r\n    clue: allDigitsWrong,\r\n    value: [7, 3, 8],\r\n  },\r\n  {\r\n    clue: oneDigitInWrongPlace,\r\n    value: [3, 8, 0],\r\n  },\r\n];\r\n\r\nconst AllAreCorrect: React.FunctionComponent = () => (\r\n  <div className=\"alert alert-success\" role=\"alert\">\r\n    All the clues match your value!\r\n  </div>\r\n);\r\n\r\nconst SomeIncorrect: React.FunctionComponent = () => (\r\n  <div className=\"alert alert-danger\" role=\"alert\">\r\n    Some of the clues do not match your value\r\n  </div>\r\n);\r\n\r\nconst LogicPadlock: React.FunctionComponent = () => {\r\n  const [guess, setGuess] = React.useState<IGuess>([0, 0, 0]);\r\n\r\n  const allCorrect = React.useMemo(\r\n    () =>\r\n      cluesWithValues.reduce(\r\n        (acc, curr) => (curr.clue.evaluate(guess, curr.value) ? acc : false),\r\n        true\r\n      ),\r\n    [guess]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <p>Can you open the lock using these clues?</p>\r\n      {cluesWithValues.map((clueWithValue, i) => (\r\n        <Clue key={i} guess={guess} clueWithValue={clueWithValue} />\r\n      ))}\r\n      <p>Set your guess here</p>\r\n      <GuessEntry numberDigits={3} value={guess} onChange={setGuess} />\r\n      <div>Guess: {guess}</div>\r\n      {allCorrect ? <AllAreCorrect /> : <SomeIncorrect />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogicPadlock;\r\n","import LogicPadlock from \"./LogicPadlock\";\r\n\r\nexport default LogicPadlock;\r\n","const FREQ_A4 = 440;\n\n/**\n * Get the pitch frequency in herzs (with custom concert tuning) from a midi number\n *\n * @param {Integer} midi - the midi number\n * @return {Float} the frequency of the note\n *\n * @example\n * // 69 midi is A4\n * freq(null, 69) // => 440\n * freq(444, 69) // => 444\n *\n * @example\n * // partially applied\n * var freq = require('midi-freq')(440)\n * freq(69) // => 440\n */\nconst midiToFreq = (m: number): number => {\n    return m === 0 || (m > 0 && m < 128) ? Math.pow(2, (m - 69) / 12) * FREQ_A4 : FREQ_A4\n}\n\nexport default midiToFreq;","import React from \"react\";\r\nimport midiToFreq from \"./midiToFreq\";\r\n\r\ninterface Props {\r\n  noteOn: (note: number, velocity: number) => void;\r\n  noteOff: (note: number) => void;\r\n}\r\n\r\ninterface UseMidi {\r\n  inputDevices: WebMidi.MIDIInputMap;\r\n  selectedInputDeviceId?: string;\r\n  onInputDeviceSelected: (id: string) => void;\r\n  playNote: (frequency: number, volume: number, duration: number) => void;\r\n  error: string;\r\n}\r\n\r\n// Create audio oscillator\r\n\r\nconst useMidi = ({ noteOn, noteOff }: Props): UseMidi => {\r\n  const { gain, audio } = React.useMemo(() => {\r\n    const audio = new window.AudioContext();\r\n    var gain = audio.createGain()\r\n    gain.connect(audio.destination) // so you actually hear the output\r\n\r\n    return {\r\n      audio, gain\r\n    };\r\n  }, [])\r\n\r\n  const [inputDevices, setInputDevices] = React.useState(new Map());\r\n  const [error, setError] = React.useState<string>(\"init\");\r\n  const [selectedInputDeviceId, onInputDeviceSelected] = React.useState<\r\n    string | undefined\r\n  >();\r\n\r\n  React.useEffect(() => {\r\n    if (!navigator.requestMIDIAccess !== undefined) {\r\n      setError(\"WebMIDI is not supported in this browser.\");\r\n    }\r\n\r\n    const onMIDISuccess = (midiAccess: WebMidi.MIDIAccess) => {\r\n      setInputDevices(midiAccess.inputs);\r\n    };\r\n\r\n    const onMIDIFailure = () => {\r\n      setError(\"Could not access Web MIDI, this only works in recent versions of Chrome\");\r\n    };\r\n\r\n    navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\r\n  }, [setInputDevices, setError]);\r\n\r\n  React.useEffect(() => {\r\n    if (!!selectedInputDeviceId) {\r\n      const inputDevice = inputDevices.get(selectedInputDeviceId);\r\n      if (!!inputDevice) {\r\n        inputDevice.onmidimessage = (e: WebMidi.MIDIMessageEvent) => {\r\n          // Mask off the lower nibble (MIDI channel, which we don't care about)\r\n          switch (e.data[0] & 0xf0) {\r\n            case 0x90: {\r\n              if (e.data[2] !== 0) {\r\n                // if velocity != 0, this is a note-on message\r\n                noteOn(e.data[1], e.data[2]);\r\n                return;\r\n              } else {\r\n                noteOff(e.data[1]);\r\n              }\r\n              break;\r\n            }\r\n            // if velocity == 0, fall thru: it's a note-off.  MIDI's weird, y'all.\r\n            case 0x80: {\r\n              noteOff(e.data[1]);\r\n              return;\r\n            }\r\n          }\r\n        };\r\n      }\r\n\r\n      return () => {\r\n        inputDevice.onmidimessage = undefined;\r\n      };\r\n    }\r\n\r\n    return () => { };\r\n  }, [noteOn, noteOff, selectedInputDeviceId, inputDevices]);\r\n\r\n  const playNote = function (note: number, volume: number, duration: number) {\r\n    const frequency = midiToFreq(note);\r\n    var halfPeriod = 1 / frequency / 2\r\n    if (duration > halfPeriod) duration -= duration % halfPeriod\r\n    else duration = halfPeriod\r\n\r\n    var oscillator = audio.createOscillator()\r\n    oscillator.connect(gain)\r\n    \r\n    oscillator.frequency.value = frequency\r\n    gain.gain.value = volume\r\n    oscillator.start(0)\r\n    oscillator.stop(audio.currentTime + duration)\r\n  }\r\n\r\n  return { inputDevices, playNote, error, selectedInputDeviceId, onInputDeviceSelected };\r\n};\r\n\r\nexport default useMidi;\r\n","import p5 from \"p5\";\nimport { Drawable } from \"./types\";\n\nabstract class AbstractDrawable implements Drawable {\n    note: number;\n    noteIsDown: boolean;\n    velocity: number;\n    position: p5.Vector;\n    size: number;\n    colour: p5.Color;\n    tailLength: number = 0;\n\n    abstract draw(s: p5): void;\n  \n    constructor(note: number,\n      velocity: number,\n      position: p5.Vector,\n      size: number,\n      colour: p5.Color,\n      noteIsDown: boolean) {\n      this.note = note;\n      this.velocity = velocity;\n      this.position = position;\n      this.size = size;\n      this.colour = colour;\n      this.noteIsDown = noteIsDown;\n    }\n  \n    update() {\n      this.position.add(this.velocity);\n      if (this.noteIsDown) {\n        this.tailLength += 1;\n      }\n    }\n  }\n  \n  export default AbstractDrawable;","import p5 from \"p5\";\r\nimport AbstractDrawable from \"./AbstractDrawable\";\r\n\r\ninterface Coord {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nconst TShape: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 0, y: -1 },\r\n  { x: 1, y: 0 }\r\n];\r\nconst LongOne: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 0, y: -1 },\r\n  { x: 0, y: 2 }\r\n];\r\nconst ZRIght: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: -1, y: 1 },\r\n  { x: 1, y: 0 }\r\n];\r\nconst ZLeft: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 1, y: 1 },\r\n  { x: -1, y: 0 }\r\n];\r\nconst LLeft: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 0, y: 2 },\r\n  { x: -1, y: 2 }\r\n];\r\nconst LRight: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 0, y: 2 },\r\n  { x: 1, y: 2 }\r\n];\r\nconst Block: Coord[] = [\r\n  { x: 0, y: 0 },\r\n  { x: 0, y: 1 },\r\n  { x: 1, y: 1 },\r\n  { x: 1, y: 0 }\r\n];\r\nconst SHAPES: Coord[][] = [\r\n  TShape,\r\n  LongOne,\r\n  ZRIght,\r\n  ZLeft,\r\n  LLeft,\r\n  LRight,\r\n  Block\r\n];\r\n\r\nclass Tetronimo extends AbstractDrawable {\r\n  squares: Coord[] = SHAPES[Math.floor(Math.random() * SHAPES.length)];;\r\n\r\n  update() {\r\n    this.position.y += this.size;\r\n    if (this.noteIsDown) {\r\n      this.tailLength += 1;\r\n    }\r\n  }\r\n\r\n  draw(s: p5) {\r\n    s.strokeWeight(2);\r\n    s.stroke(\"black\");\r\n    s.fill(this.colour);\r\n    this.squares.forEach(({ x, y }) => {\r\n      s.push();\r\n      s.translate(\r\n        this.position.x + this.size * x,\r\n        this.position.y + this.size * y\r\n      );\r\n      s.square(0, 0, this.size);\r\n      s.pop();\r\n    });\r\n\r\n    // Draw tail\r\n    s.push();\r\n    s.translate(this.position.x, this.position.y);\r\n    for (let i = 0; i < this.tailLength; i++) {\r\n      s.translate(0, -this.size);\r\n      s.square(0, 0, this.size);\r\n    }\r\n    s.pop();\r\n  }\r\n}\r\n\r\nexport default Tetronimo;\r\n","import p5 from \"p5\";\r\nimport AbstractDrawable from \"./AbstractDrawable\";\r\n\r\nclass Triforce extends AbstractDrawable {\r\n  draw(s: p5) {\r\n    s.strokeWeight(2);\r\n    s.stroke(this.colour);\r\n    s.fill(\"gold\");\r\n\r\n    s.push();\r\n    s.translate(this.position.x, this.position.y);\r\n    s.triangle(0, -this.size, -(this.size / 2), 0, this.size / 2, 0);\r\n    s.triangle(-this.size / 2, 0, -this.size, this.size, 0, this.size);\r\n    s.triangle(this.size / 2, 0, this.size, this.size, 0, this.size);\r\n    s.pop();\r\n\r\n    s.push();\r\n    s.translate(this.position.x, this.position.y);\r\n    for (let i = 0; i < this.tailLength; i++) {\r\n      s.translate(0, -this.size * 2);\r\n      s.scale(0.9);\r\n      s.triangle(0, -this.size, -(this.size / 2), 0, this.size / 2, 0);\r\n    }\r\n    s.pop();\r\n  }\r\n}\r\n\r\nexport default Triforce;\r\n","import p5 from \"p5\";\nimport { Drawable } from \"./types\";\n\nclass PianoKey implements Drawable {\n    name: string;\n    note: number;\n        \n    constructor(name: string, note: number) {\n        this.name = name;\n        this.note = note;\n    }\n\n    update(s: p5) {\n\n    }\n\n    draw(s: p5) {\n\n    }\n}\n\nexport default PianoKey;","import p5 from \"p5\";\nimport PianoKey from \"./PianoKey\";\nimport { Drawable } from \"./types\";\n\n\n\nclass Piano implements Drawable {\n    keys: PianoKey[];\n\n    constructor() {\n        this.keys = [];\n\n        this.keys.push(new PianoKey('C', 0));\n        this.keys.push(new PianoKey('C#/Db', 1));\n        this.keys.push(new PianoKey('D', 2));\n        this.keys.push(new PianoKey('D#/Eb', 2));\n        this.keys.push(new PianoKey('E', 3));\n        this.keys.push(new PianoKey('F', 4));\n        this.keys.push(new PianoKey('F#/Gb', 5));\n        this.keys.push(new PianoKey('G', 6));\n        this.keys.push(new PianoKey('G#/Ab', 7));\n        this.keys.push(new PianoKey('A', 8));\n        this.keys.push(new PianoKey('A#/Bb', 9));\n        this.keys.push(new PianoKey('B', 10));\n    }\n\n    update(s: p5) {\n\n    }\n\n    draw(s: p5) {\n\n    }\n}\n\nexport default Piano;","import React from \"react\";\r\nimport p5 from \"p5\";\r\n\r\nimport Tetronimo from \"./Drawables/Tetronimo\";\r\nimport Triforce from \"./Drawables/Triforce\";\r\nimport { NoteBoid } from \"./Drawables/types\";\r\nimport Piano from \"./Drawables/Piano\";\r\nimport { PlayNoteFn } from \"./types\";\r\n\r\nconst NOTE_MIN = 21;\r\nconst NOTE_MAX = 108;\r\nconst NUMBER_NOTES = NOTE_MAX - NOTE_MIN;\r\n\r\nconst TETRIS_MODE = 0;\r\nconst ZELDA_MODE = 1;\r\n\r\ninterface Note {\r\n  note: number;\r\n  velocity: number;\r\n  noteIsDown: boolean;\r\n}\r\n\r\nexport class SketchContainer {\r\n  blockWidth: number = 0;\r\n  pendingNotes: Note[] = [];\r\n  drawables: NoteBoid[] = [];\r\n  width: number = 0;\r\n  mode: number = TETRIS_MODE;\r\n  piano: Piano = new Piano();\r\n  playNote: PlayNoteFn;\r\n\r\n  constructor() {\r\n    this.playNote = () => { };\r\n  }\r\n\r\n  setWidth(w: number) {\r\n    this.width = w;\r\n  }\r\n\r\n  noteOn(note: number, velocity: number) {\r\n    this.pendingNotes.push({ note, velocity, noteIsDown: true });\r\n\r\n    switch (note) {\r\n      case 21:\r\n        this.mode = TETRIS_MODE;\r\n        break;\r\n      case 22:\r\n        this.mode = ZELDA_MODE;\r\n        break;\r\n    }\r\n  }\r\n\r\n  noteOff(note: number) {\r\n    this.drawables\r\n      .filter((t) => t.note === note)\r\n      .forEach((t) => (t.noteIsDown = false));\r\n    this.pendingNotes\r\n      .filter((p) => p.note === note)\r\n      .forEach((p) => (p.noteIsDown = false));\r\n  }\r\n\r\n  sketch(s: p5) {\r\n    const that = this;\r\n\r\n    s.setup = function () {\r\n      s.createCanvas(that.width, 600);\r\n      s.frameRate(15);\r\n      s.colorMode(s.HSB, s.width);\r\n      that.blockWidth = Math.round(s.width / NUMBER_NOTES);\r\n    };\r\n\r\n    s.keyPressed = function () {\r\n      switch (s.keyCode) {\r\n        case 37: // Left Arrow\r\n          that.mode = TETRIS_MODE;\r\n          break;\r\n        case 39: // Right Arrow\r\n          that.mode = ZELDA_MODE;\r\n          break;\r\n        default:\r\n          let note = s.keyCode;\r\n          that.noteOn(note, 50);\r\n          break;\r\n      }\r\n    };\r\n\r\n    s.keyReleased = function () {\r\n      let note = s.keyCode;\r\n      that.noteOff(note);\r\n      return false; // prevent any default behavior\r\n    }\r\n\r\n    s.draw = function () {\r\n      switch (that.mode) {\r\n        case TETRIS_MODE:\r\n          s.background(\"darkblue\");\r\n          break;\r\n        case ZELDA_MODE:\r\n          s.background(\"darkgreen\");\r\n          break;\r\n      }\r\n\r\n      that.pendingNotes.forEach(({ note, velocity, noteIsDown }) => {\r\n        let x = (note - NOTE_MIN) * that.blockWidth;\r\n        let y = 0;\r\n        let colour = s.color(x, s.width, s.width);\r\n        let newDrawable: NoteBoid | undefined = undefined;\r\n        switch (that.mode) {\r\n          case TETRIS_MODE:\r\n            newDrawable = new Tetronimo(\r\n              note,\r\n              velocity,\r\n              s.createVector(x, y),\r\n              that.blockWidth,\r\n              colour,\r\n              noteIsDown\r\n            );\r\n            break;\r\n          case ZELDA_MODE:\r\n            newDrawable = new Triforce(\r\n              note,\r\n              velocity,\r\n              s.createVector(x, y),\r\n              that.blockWidth,\r\n              colour,\r\n              noteIsDown\r\n            );\r\n        }\r\n\r\n        if (!!newDrawable) {\r\n          that.drawables.unshift(newDrawable);\r\n        }\r\n      });\r\n      that.pendingNotes = [];\r\n\r\n      that.piano.update(s);\r\n      that.drawables.forEach((t) => t.update(s));\r\n\r\n      that.piano.draw(s);\r\n      that.drawables.forEach((t) => t.draw(s));\r\n\r\n      // Filter out any tetronimos that have fallen off the bottom of the screen\r\n      that.drawables = that.drawables.filter((t) => t.position.y < s.height);\r\n    };\r\n  }\r\n}\r\n\r\ninterface UseMidiSketch {\r\n  sketchContainer: SketchContainer;\r\n  noteOn: (note: number, velocity: number) => void;\r\n  noteOff: (note: number) => void;\r\n}\r\n\r\nexport function useMidiSketch(): UseMidiSketch {\r\n  const sketchContainer = React.useMemo(() => new SketchContainer(), []);\r\n\r\n  return {\r\n    sketchContainer,\r\n    noteOn: sketchContainer.noteOn.bind(sketchContainer),\r\n    noteOff: sketchContainer.noteOff.bind(sketchContainer),\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport Select from \"react-select\";\r\nimport p5 from \"p5\";\r\n\r\nimport useMidi from \"./useMidi\";\r\nimport { useMidiSketch } from \"./midiSketch\";\r\n\r\nconst MidiFun: React.FunctionComponent = () => {\r\n  const refContainer = React.useRef(null);\r\n\r\n  const { sketchContainer, noteOn, noteOff } = useMidiSketch();\r\n\r\n  const {\r\n    inputDevices,\r\n    error,\r\n    selectedInputDeviceId,\r\n    onInputDeviceSelected,\r\n  } = useMidi({ noteOn, noteOff });\r\n\r\n  const inputOptions = React.useMemo(() => {\r\n    const options = [];\r\n\r\n    for (let [key, value] of inputDevices.entries()) {\r\n      options.push({ value: key, label: value.name });\r\n    }\r\n\r\n    return options;\r\n  }, [inputDevices]);\r\n\r\n  const selectedValue = React.useMemo(\r\n    () =>\r\n      inputOptions.find(\r\n        (inputOption) => inputOption.value === selectedInputDeviceId\r\n      ),\r\n    [selectedInputDeviceId, inputOptions]\r\n  );\r\n  const onSelectedInputChange = React.useCallback(\r\n    (e) => {\r\n      if (!!e.value) {\r\n        onInputDeviceSelected(e.value);\r\n      }\r\n    },\r\n    [onInputDeviceSelected]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    let sketchInUse: p5;\r\n\r\n    if (!!refContainer) {\r\n      sketchContainer.setWidth(\r\n        ((refContainer.current as unknown) as HTMLElement).clientWidth\r\n      );\r\n      sketchInUse = new p5(\r\n        sketchContainer.sketch.bind(sketchContainer),\r\n        (refContainer.current as unknown) as HTMLElement\r\n      );\r\n    }\r\n\r\n    return () => {\r\n      if (!!sketchInUse) {\r\n        sketchInUse.remove();\r\n      }\r\n    };\r\n  }, [sketchContainer, refContainer]);\r\n\r\n  return (\r\n    <div>\r\n      <p>{error}</p>\r\n\r\n      <Select\r\n        value={selectedValue}\r\n        onChange={onSelectedInputChange}\r\n        options={inputOptions}\r\n      />\r\n      <div ref={refContainer} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MidiFun;\r\n","import React from \"react\";\n\nimport { ControlledInput } from \"../../../types\";\n\ninterface Props extends ControlledInput<string> {\n  sketchNames: string[];\n  className?: string;\n}\n\nconst SketchPicker: React.FunctionComponent<Props> = ({\n  sketchNames,\n  value,\n  onChange,\n  className,\n}: Props) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => onChange(value),\n    [onChange]\n  );\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      <option />\n      {sketchNames.map((s) => (\n        <option key={s} value={s}>\n          {s}\n        </option>\n      ))}\n    </select>\n  );\n};\n\nexport default SketchPicker;\n","import p5 from \"p5\";\nimport { AbstractSketch } from \"../useSketch\";\n\nconst WIDTH = 600;\nconst HEIGHT = 300;\nconst FIRST_MOONS = 3;\nconst SECOND_MOONS = 3;\n\nexport default class GravityOrbits extends AbstractSketch<{}> {\n  sketch(s: p5) {\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.angleMode(s.DEGREES);\n    };\n\n    s.draw = function () {\n      s.background(0);\n      s.fill(\"yellow\");\n\n      s.translate(WIDTH / 2, HEIGHT / 2);\n      s.ellipse(0, 0, WIDTH / 10);\n\n      for (let i = 0; i < FIRST_MOONS; i++) {\n        s.push();\n        s.fill(\n          s.color(\n            (s.frameCount + s.map(i, 0, FIRST_MOONS, 0, 255)) % 255,\n            255,\n            255\n          )\n        );\n        s.rotate(s.frameCount * 0.5 + s.map(i, 0, FIRST_MOONS, 0, 360));\n        s.translate(WIDTH / 12, HEIGHT / 12);\n        s.ellipse(0, 0, WIDTH / 13);\n        for (let j = 0; j < SECOND_MOONS; j++) {\n          s.push();\n          s.fill(\n            s.color(\n              (s.frameCount + s.map(j, 0, FIRST_MOONS, 0, 255)) % 255,\n              255,\n              255\n            )\n          );\n          s.rotate(s.frameCount * 0.5 + s.map(j, 0, SECOND_MOONS, 0, 360));\n          s.translate(WIDTH / 12, HEIGHT / 12);\n          s.ellipse(0, 0, WIDTH / 20);\n\n          s.pop();\n        }\n\n        s.pop();\n      }\n    };\n  };\n}\n","/**\n * Retrieve a vertex from the graph\n *\n * @param state The graph state\n * @param asString The vertex as a string\n * @returns The original vertex value, if found\n */\nexport const getVertex = ({ vertices }, asString) => vertices.find(v => v === asString);\n/**\n * Retrieve the value associated with a given vertex.\n * @param Graph state\n * @param vertex The vertex we want to find\n * @returns The associated value with that vertex, if such a value has been registered.\n */\nexport const getVertexValue = ({ vertexValues }, vertex) => vertexValues !== undefined ? vertexValues[vertex] : undefined;\n/**\n * Retrieve the edge that exists between the two given vertices\n *\n * @param state The graph state\n * @param from The from vertex\n * @param to The to vertex\n * @returns The edge that exists between the two (if there is one)\n */\nexport const getEdge = ({ edges }, from, to) => edges.find((l) => l.from === from && l.to === to);\n/**\n * Access edges coming into a specific vertex\n * @param vertex The from vertex\n */\nexport const getIncoming = ({ edges }, toKey) => edges.filter((l) => l.to === toKey);\n/**\n *\n * @param state of graph\n * @param fromKey The from vertex\n * @returns The edges\n */\nexport const getOutgoing = ({ edges }, fromKey) => edges.filter((l) => l.from === fromKey);\n/**\n * This function will look for a Edge between the two vertexs (in that specific direction)\n * It will return the weight of the Edge between the two.\n * If there is no Edge, it will return Infinity.\n *\n * @param {string} from The source vertex\n * @param {string} to The destination vertex\n * @return The weight of the Edge, or Infinity if there is no Edge.\n */\nexport const getEdgeWeight = (state, from, to) => {\n    const edge = getEdge(state, from, to);\n    return !!edge ? edge.weight : Infinity;\n};\n/**\n * Create a new graph state.\n *\n * @param toString A function that can convert the given type to a string\n * @param areVerticesEqual A function that can compare two vertices\n * @returns An empty graph state.\n */\nexport const createInitialState = () => ({\n    vertices: [],\n    edges: [],\n    vertexValues: {}\n});\n/**\n * Add a vertex to the graph.\n *\n * @param state Current graph state\n * @param vertex The vertex to add\n * @returns new graph state after changes\n */\nexport const addVertex = (state, vertex, value = undefined) => ({\n    ...state,\n    vertices: [\n        ...state.vertices.filter(v => v !== vertex),\n        vertex\n    ],\n    vertexValues: {\n        ...state.vertexValues,\n        [vertex]: value\n    }\n});\nexport const disconnectVertex = (state, vertex) => ({\n    ...state,\n    edges: state.edges.filter(({ from, to }) => !((from === vertex) || (to === vertex)))\n});\n/**\n *\n * @param state Current graph state\n * @param vertex The vertex to remove\n * @returns new graph state after changes\n */\nexport const removeVertex = (state, vertex) => ({\n    ...state,\n    vertices: state.vertices.filter(v => (v !== vertex)),\n    edges: state.edges.filter(({ from, to }) => !((from === vertex) || (to === vertex)))\n});\n/**\n *\n * @param state Current graph state\n * @param from\n * @param to\n * @returns new graph state after changes\n */\nexport const removeEdge = (state, from, to) => ({\n    ...state,\n    edges: state.edges.filter((l) => !(l.from === from && l.to === to))\n});\n/**\n *\n * @param state Current graph state\n * @param from\n * @param to\n * @param weight\n * @returns new graph state after changes\n */\nexport const addUnidirectionalEdge = (state, from, to, weight = 1.0) => ({\n    ...state,\n    vertices: [\n        ...state.vertices,\n        ...[from, to].filter(vertex => state.vertices.find(v => v === vertex) === undefined)\n    ],\n    edges: [\n        ...state.edges.filter((l) => !(l.from === from && l.to === to)),\n        { from, to, weight },\n    ]\n});\n/**\n *\n * @param state Current graph state\n * @param from\n * @param to\n * @param weight\n * @returns new graph state after changes\n */\nexport const addBidirectionalEdge = (state, from, to, weight = 1.0) => ({\n    ...state,\n    vertices: [\n        ...state.vertices,\n        ...[from, to].filter(vertex => state.vertices.find(v => v === vertex) === undefined)\n    ],\n    edges: [\n        ...state.edges.filter((l) => !(((l.from === from) && (l.to === to)) ||\n            ((l.from === to) && (l.to === from)))),\n        { from, to, weight },\n        { from: to, to: from, weight },\n    ]\n});\n/**\n *\n * @param state Current graph state\n * @param action\n * @returns new graph state after changes\n */\nexport const reduce = (state, action) => {\n    switch (action.type) {\n        case 'addVertex': return addVertex(state, action.vertex);\n        case 'removeVertex': return removeVertex(state, action.vertex);\n        case 'removeEdge': return removeEdge(state, action.from, action.to);\n        case 'addUnidirectionalEdge': return addUnidirectionalEdge(state, action.from, action.to, action.weight);\n        case 'addBidirectionalEdge': return addBidirectionalEdge(state, action.from, action.to, action.weight);\n        case 'reset': return createInitialState();\n        case 'disconnectVertex': return disconnectVertex(state, action.vertex);\n        case 'replace': return action.newState;\n    }\n};\nexport default {\n    reduce,\n    createInitialState,\n    getEdge,\n    getIncoming,\n    getOutgoing,\n    getEdgeWeight,\n    getVertexValue,\n    addVertex,\n    removeVertex,\n    addUnidirectionalEdge,\n    addBidirectionalEdge\n};\n//# sourceMappingURL=graphReducer.js.map","import graphApi, { Graph } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport React from \"react\";\nimport p5 from \"p5\";\nimport { Point } from \"../../../../p5/Boid/types\";\n\ninterface Props {\n  rows: number;\n  columns: number;\n}\n\nexport interface UseGridGraph {\n  version: number;\n  topLeft: Point;\n  bottomRight: Point;\n  graph: Graph<string>;\n  connect: (vertex: Point) => void;\n  disconnect: (vertex: Point) => void;\n  toggleConnection: (vertex: Point) => void;\n}\n\nexport function createP5Vector(x: number, y: number): p5.Vector {\n  return p5.Vector.random2D().set(x, y);\n}\n\nexport function pointToStr({ x, y }: Point): string {\n  return `${x}-${y}`;\n}\n\nconst initialState: Graph<Point> = graphApi.createInitialState<Point>();\n\nconst useGridGraph = ({ rows, columns }: Props): UseGridGraph => {\n  const [version, tickVersion] = React.useReducer((s) => s + 1, 0);\n\n  let [graph, graphDispatch] = React.useReducer(graphApi.reduce, initialState);\n\n  const connect = React.useCallback(\n    (point: Point) => {\n      const from = pointToStr(point);\n      if (point.y > 0) {\n        graphDispatch({\n          type: 'addBidirectionalEdge',\n          from,\n          to: pointToStr({ x: point.x, y: point.y - 1 })\n        })\n      }\n      if (point.y < rows - 1) {\n        graphDispatch({\n          type: 'addBidirectionalEdge', from, to: pointToStr({\n            x: point.x,\n            y: point.y + 1\n          })\n        })\n      }\n      if (point.x > 0) {\n        graphDispatch({\n          type: 'addBidirectionalEdge', from, to: pointToStr({\n            x: point.x - 1,\n            y: point.y\n          })\n        })\n      }\n      if (point.x < columns - 1) {\n\n        graphDispatch({\n          type: 'addBidirectionalEdge', from, to: pointToStr({\n            x: point.x + 1,\n            y: point.y\n          })\n        })\n      }\n    },\n    [rows, columns, graph, tickVersion]\n  );\n  const disconnect = React.useCallback(\n    (vertex: Point) => graphDispatch({ type: 'disconnectVertex', vertex: pointToStr(vertex) }),\n    [graph]\n  );\n\n  const toggleConnection = React.useCallback(\n    (vertex: Point) => {\n      if (\n        graphApi.getIncoming(graph, pointToStr(vertex)).length > 0 ||\n        graphApi.getOutgoing(graph, pointToStr(vertex)).length > 0\n      ) {\n        disconnect(vertex);\n      } else {\n        connect(vertex);\n      }\n    },\n    [graph, disconnect, connect]\n  );\n\n  React.useEffect(() => {\n    graphDispatch({ type: 'reset' });\n\n    for (let col = 0; col < columns; col++) {\n      for (let row = 0; row < rows; row++) {\n        graphDispatch({ type: 'addVertex', vertex: createKeyedPoint(col, row) })\n        graph.current.addVertex(createKeyedPoint(col, row));\n      }\n    }\n\n    graph.current.vertices.forEach((v) => connect(v));\n    disconnect(createKeyedPoint(0, 7));\n    disconnect(createKeyedPoint(1, 6));\n    disconnect(createKeyedPoint(2, 5));\n    disconnect(createKeyedPoint(3, 4));\n    disconnect(createKeyedPoint(4, 3));\n    disconnect(createKeyedPoint(4, 4));\n    disconnect(createKeyedPoint(4, 5));\n\n    disconnect(createKeyedPoint(8, 1));\n    disconnect(createKeyedPoint(8, 2));\n    disconnect(createKeyedPoint(8, 3));\n    disconnect(createKeyedPoint(8, 4));\n\n    disconnect(createKeyedPoint(9, 4));\n    disconnect(createKeyedPoint(9, 7));\n    disconnect(createKeyedPoint(10, 3));\n    disconnect(createKeyedPoint(11, 1));\n    disconnect(createKeyedPoint(11, 6));\n    disconnect(createKeyedPoint(11, 7));\n\n    disconnect(createKeyedPoint(12, 1));\n    disconnect(createKeyedPoint(12, 4));\n    disconnect(createKeyedPoint(12, 5));\n  }, [rows, columns, connect, disconnect]);\n\n  return {\n    version,\n    topLeft: React.useMemo(() => createKeyedPoint(0, 0), []),\n    bottomRight: React.useMemo(() => createKeyedPoint(columns - 1, rows - 1), [\n      rows,\n      columns,\n    ]),\n    graph: graph.current,\n    connect,\n    disconnect,\n    toggleConnection,\n  };\n};\n\nexport default useGridGraph;","import p5 from \"p5\";\nimport { AbstractBoid } from \"./types\";\nimport { createP5Vector } from \"../../ComputerScience/Algorithms/Routing/GridRouting/useGridGraph\";\n\nconst DEFAULT_COLOUR = \"red\";\nconst DEFAULT_BORDER_COLOUR = \"black\";\nconst DEFAULT_BORDER_WEIGHT = 1;\nconst DEFAULT_MAX_SPEED = 1.5;\nconst DEFAULT_MAX_FORCE = 0.5;\nconst DEFAULT_MIN_FORCE = 0.01;\n\nexport default class Boid<T> implements AbstractBoid<T> {\n  entity: T;\n  label?: string;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  acceleration: p5.Vector;\n  radius: number;\n  colour: string;\n  borderWeight: number;\n  borderColour: string;\n  maxSpeed: number;\n  maxForce: number;\n  minForce: number;\n  environmentalFriction: number;\n  grabbed: boolean;\n  lockX: boolean;\n  lockY: boolean;\n  initialPosition: p5.Vector;\n\n  constructor({\n    entity,\n    position,\n    radius,\n    label,\n    colour = DEFAULT_COLOUR,\n    borderWeight = DEFAULT_BORDER_WEIGHT,\n    borderColour = DEFAULT_BORDER_COLOUR,\n    maxSpeed = DEFAULT_MAX_SPEED,\n    maxForce = DEFAULT_MAX_FORCE,\n    minForce = DEFAULT_MIN_FORCE,\n    environmentalFriction = 0.9,\n    lockX = false,\n    lockY = false,\n  }: AbstractBoid<T>) {\n    this.entity = entity;\n    this.position = position;\n    this.label = label;\n    this.velocity = createP5Vector(0, 0);\n    this.acceleration = createP5Vector(0, 0);\n    this.radius = radius;\n    this.colour = colour;\n    this.borderWeight = borderWeight;\n    this.borderColour = borderColour;\n    this.maxSpeed = maxSpeed;\n    this.maxForce = maxForce;\n    this.minForce = minForce;\n    this.environmentalFriction = environmentalFriction;\n    this.grabbed = false;\n    this.lockX = lockX;\n    this.lockY = lockY;\n    this.initialPosition = position.copy();\n  }\n\n  grab() {\n    this.grabbed = true;\n    this.velocity.mult(0);\n    this.acceleration.mult(0);\n  }\n\n  dragged(mousePosition: p5.Vector) {\n    if (this.grabbed) {\n      this.position = mousePosition;\n      this.lockAxis();\n    }\n  }\n\n  releaseGrab() {\n    this.grabbed = false;\n  }\n\n  applyForce(force: p5.Vector) {\n    force.limit(this.maxForce);\n    this.acceleration.add(force);\n  }\n\n  lockAxis() {\n    // Implement axis locking\n    if (this.lockX) {\n      this.position.x = this.initialPosition.x;\n    }\n    if (this.lockY) {\n      this.position.y = this.initialPosition.y;\n    }\n  }\n\n  update(s: p5) {\n    if (!this.grabbed && this.acceleration.mag() > this.minForce) {\n      this.velocity.add(this.acceleration);\n      this.velocity.mult(this.environmentalFriction);\n      this.position.add(this.velocity);\n    }\n    this.acceleration.mult(0);\n    this.lockAxis();\n  }\n\n  draw(s: p5) {\n    // Expect to be overridden\n    s.stroke(this.borderColour);\n    s.strokeWeight(this.borderWeight);\n    s.fill(this.colour);\n    s.circle(this.position.x, this.position.y, this.radius);\n  }\n\n  seek(target: p5.Vector): void {\n    let desired = p5.Vector.sub(target, this.position);\n    desired.normalize();\n    desired.mult(this.maxSpeed);\n    desired.sub(this.velocity);\n    this.applyForce(desired);\n  }\n\n  flee(target: p5.Vector, radius: number = 20): void {\n    let desired = p5.Vector.sub(target, this.position);\n    if (desired.mag() === 0) {\n      this.applyForce(p5.Vector.random2D().mult(0.01));\n    } else if (desired.mag() < radius) {\n      desired.normalize();\n      desired.mult(-this.maxSpeed);\n      desired.sub(this.velocity);\n      this.applyForce(desired);\n    }\n  }\n\n  spring(tether: p5.Vector, springLength: number, tolerance: number) {\n    let desired = p5.Vector.sub(tether, this.position);\n    let diff = desired.mag() - springLength;\n    if (diff < -tolerance) {\n      desired.mult(-this.maxSpeed);\n      this.applyForce(desired);\n    } else if (diff > tolerance) {\n      desired.mult(+this.maxSpeed);\n      this.applyForce(desired);\n    }\n  }\n\n  arrive(s: p5, target: p5.Vector, arriveRadius: number): void {\n    let desired = p5.Vector.sub(target, this.position);\n    let d = desired.mag();\n    desired.normalize();\n    if (d < arriveRadius) {\n      let m = s.map(d, 0, arriveRadius, 0, this.maxSpeed);\n      desired.mult(m);\n    } else {\n      desired.mult(this.maxSpeed);\n    }\n    desired.sub(this.velocity);\n    this.applyForce(desired);\n  }\n\n  onScreen(s: p5) {\n    const { x, y } = this.position;\n    const { width, height } = s;\n    return x > 0 && x < width && y > 0 && y < height;\n  }\n}\n","import FlowField from \"./FlowField\";\nimport Boid from \"../../Boid/Boid\";\nimport p5 from \"p5\";\n\nexport default class ArrowBoidBoid extends Boid<number> {\n  colour: string = \"red\";\n\n  follow(flow: FlowField) {\n    let desired = flow.lookup(this.position);\n    desired.mult(this.maxSpeed);\n    desired.sub(this.velocity);\n    desired.limit(this.maxForce);\n    return desired;\n  }\n\n  draw(s: p5) {\n    let theta = this.velocity.heading() + s.PI / 2;\n    s.fill(this.colour);\n    s.noStroke();\n    s.push();\n    s.translate(this.position.x, this.position.y);\n    s.rotate(theta);\n    s.beginShape();\n    s.vertex(0, -this.radius * 2);\n    s.vertex(-this.radius, this.radius * 2);\n    s.vertex(this.radius, this.radius * 2);\n    s.endShape();\n    s.pop();\n  }\n}\n","import p5 from \"p5\";\n\ninterface ArrowProps {\n  sketch: p5;\n  position: p5.Vector;\n  angle: number;\n  colour: any;\n  radius: number;\n}\n\nconst drawArrow = ({ sketch: s, position, angle, colour, radius }: ArrowProps) => {\n  let theta = angle + s.PI / 2;\n  s.fill(colour);\n  s.noStroke();\n  s.push();\n  s.translate(position.x, position.y);\n  s.rotate(theta);\n  s.beginShape();\n  s.vertex(0, -radius * 2);\n  s.vertex(-radius, radius * 2);\n  s.vertex(radius, radius * 2);\n  s.endShape();\n  s.pop();\n};\n\nexport default drawArrow;","import p5 from \"p5\";\nimport drawArrow from \"./drawArrow\";\n\ninterface FlowFieldArgs {\n  resolution: number;\n  sketch: p5;\n}\n\ninterface FlowCell {\n  position: p5.Vector;\n  angle: number;\n  force: p5.Vector;\n}\n\nexport default class FlowField {\n  resolution: number;\n  sketch: p5;\n  cols: number;\n  rows: number;\n  field: Array<Array<FlowCell>>;\n  flowCells: Array<FlowCell>;\n\n  constructor({ sketch, resolution }: FlowFieldArgs) {\n    this.sketch = sketch;\n    const { width, height } = this.sketch;\n    this.resolution = resolution;\n    this.cols = width / resolution;\n    this.rows = height / resolution;\n    this.field = [];\n    this.flowCells = [];\n    this.init();\n  }\n\n  init() {\n    const s = this.sketch;\n    let xoff = 0;\n    for (let i = 0; i < this.cols; i++) {\n      let yoff = 0;\n      let yField: Array<FlowCell> = [];\n      for (let j = 0; j < this.rows; j++) {\n        let theta = s.map(s.noise(xoff, yoff), 0, 1, 0, s.TWO_PI);\n        let flowCell: FlowCell = {\n          position: s.createVector(i * this.resolution, j * this.resolution),\n          angle: theta,\n          force: s.createVector(s.cos(theta), s.sin(theta)),\n        };\n        yField.push(flowCell);\n        this.flowCells.push(flowCell);\n        yoff += 0.1;\n      }\n      this.field.push(yField);\n\n      xoff += 0.1;\n    }\n  }\n\n  attract(focalPoint: p5.Vector, range: number) {\n    const s = this.sketch;\n\n    this.flowCells.forEach((flowCell) => {\n      let diff: p5.Vector = p5.Vector.sub(focalPoint, flowCell.position);\n      if (diff.mag() < range) {\n        let a: number = diff.heading();\n        flowCell.angle = a;\n        flowCell.force = s.createVector(s.cos(a), s.sin(a));\n      }\n    });\n  }\n\n  display() {\n    this.field.forEach((row) => {\n      row.forEach(({ position, angle, force }) => {\n        drawArrow({\n          sketch: this.sketch,\n          position,\n          angle,\n          colour: 50,\n          radius: force.mag() * 2,\n        });\n      });\n    });\n  }\n\n  lookup(lookup: p5.Vector) {\n    const s = this.sketch;\n    let column = Math.floor(\n      s.constrain(lookup.x / this.resolution, 0, this.cols - 1)\n    );\n    let row = Math.floor(\n      s.constrain(lookup.y / this.resolution, 0, this.rows - 1)\n    );\n    return this.field[column][row].force.copy();\n  }\n}\n","import p5 from \"p5\";\nimport Boid from \"./ArrowBoid\";\nimport FlowField from \"./FlowField\";\nimport { AbstractSketch } from \"../../useSketch\";\n\nconst COLOURS = [\n  \"red\",\n  \"orange\",\n  \"yellow\",\n  \"green\",\n  \"blue\",\n  \"indigo\",\n  \"violet\",\n];\nconst MINIMUM_BOIDS = 200;\nconst RADIUS = 3;\nconst RESOLUTION = 10;\nconst MOUSE_RANGE = RESOLUTION * 3;\n\nfunction randomInt(s: p5, from: number, to: number) {\n  return Math.floor(s.map(Math.random(), 0, 1, from, to));\n}\n\nexport default class RainbowFlowField extends AbstractSketch<{}> {\n  sketch(s: p5) {\n    let boids: Array<Boid> = [];\n    let flowField: FlowField;\n\n    s.setup = function () {\n      s.createCanvas(400, 400);\n      flowField = new FlowField({\n        sketch: s,\n        resolution: RESOLUTION,\n      });\n    };\n\n    s.mouseDragged = function () {\n      flowField.attract(s.createVector(s.mouseX, s.mouseY), MOUSE_RANGE);\n    };\n\n    s.draw = function () {\n      s.background(0);\n\n      // let mouseTarget = createVector(mouseX, mouseY);\n      // boids.forEach(boid => {\n      //   let findMouse = boid.arrive(mouseTarget, 50);\n      //   boid.applyForce(findMouse);\n      // });\n\n      boids.forEach((boid) => {\n        let force = boid.follow(flowField);\n        boid.applyForce(force);\n      });\n\n      flowField.display();\n      boids.forEach((boid) => {\n        boid.update(s);\n        boid.draw(s);\n      });\n\n      boids = boids.filter((b) => b.onScreen(s));\n\n      // Keep the population up\n      while (boids.length < MINIMUM_BOIDS) {\n        let aBoid = new Boid({\n          entity: boids.length,\n          position: s.createVector(\n            randomInt(s, 0, s.width),\n            randomInt(s, 0, s.height)\n          ),\n          radius: RADIUS,\n        });\n        aBoid.colour = s.random(COLOURS);\n        boids.push(aBoid);\n      }\n    };\n  };\n}\n","import p5 from \"p5\";\n\nimport ArrowBoid from \"../rainbowFlowField/ArrowBoid\";\nimport { AbstractSketch } from \"../../useSketch\";\n\n/**\n * Generate a random integer within a p5 sketch.\n *\n * @param s The p5 sketch, provides library function .map()\n * @param from The lower bound of the number (inclusive)\n * @param to The upper bound of the number to generate (exclusive)\n */\nfunction randomInt(s: p5, from: number, to: number) {\n  return Math.floor(s.map(Math.random(), 0, 1, from, to));\n}\n\n// Each boid will be one of these colours\nconst COLOURS: string[] = [\"red\", \"blue\", \"green\"];\n\n// Clip the speed of all boids to this\nconst MAX_SPEED = 1.5;\n\n// Clip the force applied per frame\nconst MAX_FORCE = 0.5;\n\n// Size of boid\nconst RADIUS = 3;\n\nexport default class GravitySketch extends AbstractSketch<{}> {\n  sketch(s: p5) {\n    let boids: Array<ArrowBoid> = [];\n    let centreScreen: p5.Vector;\n\n    // Create the initial list of boids\n    s.setup = function () {\n      s.createCanvas(400, 400);\n      centreScreen = s.createVector(200, 200);\n\n      for (let i = 0; i < 5; i++) {\n        // Place the boids randomly anywhere within the view\n        let position = s.createVector(\n          randomInt(s, 0, s.width),\n          randomInt(s, 0, s.height)\n        );\n\n        // Each boid will be a random colour\n        let aBoid = new ArrowBoid({\n          entity: i,\n          position,\n          radius: RADIUS,\n          maxSpeed: MAX_SPEED,\n          maxForce: MAX_FORCE,\n        });\n        aBoid.colour = s.random(COLOURS);\n        boids.push(aBoid);\n      }\n    };\n\n    s.draw = function () {\n      // Draw the background\n      s.background(0);\n\n      // Loop through the boids\n      boids.forEach((b) => {\n        b.seek(centreScreen);\n      });\n\n      // Loop through each boid, calling update\n      boids.forEach((b) => b.update(s));\n\n      // Loop through each boid, calling display\n      boids.forEach((b) => b.draw(s));\n\n      // Filter boids by calling onScreen\n      boids = boids.filter((b) => b.onScreen(s));\n    };\n  };\n}\n","import gravityOrbits from \"./gravityOrbits\";\nimport rainbowFlowField from \"./rainbowFlowField\";\nimport gravityDemo from \"./gravityDemo\";\n\ninterface SketchByName {\n  [name: string]: any;\n}\n\nconst sketches: SketchByName = {\n  gravityOrbits,\n  rainbowFlowField,\n  gravityDemo,\n};\n\nexport default sketches;","import React from \"react\";\n\nimport Asteroids from \"./Asteroids\";\nimport Dobble from \"./Dobble\";\nimport LogicPadlock from \"./LogicPadlock\";\nimport MidiFun from \"./MidiFun\";\nimport { Page } from \"../../types\";\nimport P5SketchLibrary from \"../p5/P5SketchLibrary\";\nimport CardCollection from \"../Bootstrap/CardCollection\";\n\nconst experimentPages: Page[] = [\n  {\n    component: Asteroids,\n    href: \"/experiments/asteroids\",\n    description: \"A demonstration of simple game development for year 7\",\n    title: \"Asteroids\",\n  },\n  {\n    component: Dobble,\n    href: \"/experiments/dobble\",\n    description: \"Derive a card set for Dobble\",\n    title: \"Dobble\",\n  },\n  {\n    component: LogicPadlock,\n    href: \"/experiments/logicPadlock\",\n    description:\n      \"Logic puzzle involving a series of rules that can be used to determine the secret combination\",\n    title: \"Logic Padlock\",\n  },\n  {\n    component: MidiFun,\n    href: \"/experiments/midiFun\",\n    description: \"A digital piano (Chrome only...I think)\",\n    title: \"MIDI\",\n  },\n  {\n    component: P5SketchLibrary,\n    href: \"/experiments/sketches\",\n    description: \"A series of random sketches in p5.js\",\n    title: \"P5 Sketches\",\n  },\n] as Page[];\n\nconst Experiments: React.FunctionComponent = () => (\n  <CardCollection cards={experimentPages} />\n);\n\nexport const page: Page = {\n  href: \"/experiments\",\n  title: \"Experiments\",\n  description: \"Random projects of my own\",\n  component: Experiments,\n};\nexport const pages: Page[] = [page, ...experimentPages];\n","import React from \"react\";\n\nimport SketchPicker from \"../SketchPicker\";\nimport sketches from \"../sketches\";\nimport useSketch from \"../useSketch\";\n\nconst P5SketchLibrary: React.FunctionComponent = () => {\n  const [sketch, onSketchChange] = React.useState<string>(\n    Object.keys(sketches)[0]\n  );\n\n  const { refContainer } = useSketch(sketches[sketch]);\n\n  return (\n    <div>\n      <h1>Sketches</h1>\n      <form>\n        <div className=\"form-group\">\n          <label>Sketch</label>\n          <SketchPicker\n            sketchNames={Object.keys(sketches)}\n            className=\"form-control\"\n            value={sketch}\n            onChange={onSketchChange}\n          />\n        </div>\n      </form>\n\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default P5SketchLibrary;\n","import React from \"react\";\n\ninterface Props {\n  min?: number;\n  max?: number;\n}\n\ninterface UseLoopCounter {\n  count: number;\n  goToFirst: () => void;\n  goToLast: () => void;\n  increment: (amount?: number) => void;\n  decrement: (amount?: number) => void;\n}\n\ninterface ReducerState {\n  min: number;\n  max: number;\n  count: number;\n}\ninterface BaseAction {\n  type: string;\n  amount: number;\n}\ninterface SetMinAction extends BaseAction {\n  type: \"setmin\";\n}\ninterface SetMaxAction extends BaseAction {\n  type: \"setmax\";\n}\ninterface GoToFirstAction extends BaseAction {\n  type: \"goToFirst\";\n}\ninterface GoToLastAction extends BaseAction {\n  type: \"goToLast\";\n}\ninterface IncrementAction extends BaseAction {\n  type: \"increment\";\n}\ninterface DecrementAction extends BaseAction {\n  type: \"decrement\";\n}\ntype Action =\n  | SetMinAction\n  | SetMaxAction\n  | GoToFirstAction\n  | GoToLastAction\n  | IncrementAction\n  | DecrementAction;\n\nconst reducer = (\n  state: ReducerState,\n  { type, amount = 1 }: Action\n): ReducerState => {\n  switch (type) {\n    case \"goToFirst\": {\n      return {\n        ...state,\n        count: state.min,\n      };\n    }\n    case \"goToLast\": {\n      return {\n        ...state,\n        count: state.max,\n      };\n    }\n    case \"setmin\": {\n      return {\n        ...state,\n        min: amount,\n        count: state.count >= amount ? state.count : amount,\n      };\n    }\n    case \"setmax\": {\n      return {\n        ...state,\n        count: state.count <= amount ? state.count : amount,\n        max: amount,\n      };\n    }\n    case \"increment\": {\n      let count = state.count + amount;\n      if (count > state.max) {\n        count -= state.max - state.min + 1;\n      }\n      return {\n        ...state,\n        count,\n      };\n    }\n    case \"decrement\": {\n      let count = state.count - amount;\n      if (count < state.min) {\n        count += state.max - state.min + 1;\n      }\n      return {\n        ...state,\n        count,\n      };\n    }\n  }\n};\n\nconst useLoopCounter = ({ min = 0, max = 100 }: Props): UseLoopCounter => {\n  const [{ count }, dispatch] = React.useReducer(reducer, {\n    min,\n    max,\n    count: min,\n  });\n\n  React.useEffect(() => dispatch({ type: \"setmin\", amount: min }), [min]);\n  React.useEffect(() => dispatch({ type: \"setmax\", amount: max }), [max]);\n\n  return {\n    count,\n    goToFirst: React.useCallback(\n      () => dispatch({ type: \"goToFirst\", amount: 0 }),\n      []\n    ),\n    goToLast: React.useCallback(\n      () => dispatch({ type: \"goToLast\", amount: 0 }),\n      []\n    ),\n    increment: React.useCallback(\n      (amount: number = 1) => dispatch({ type: \"increment\", amount }),\n      []\n    ),\n    decrement: React.useCallback(\n      (amount: number = 1) => dispatch({ type: \"decrement\", amount }),\n      []\n    ),\n  };\n};\n\nexport default useLoopCounter;\n","import React from \"react\";\n\nimport useLoopCounter from \"./useLoopCounter\";\n\ninterface Props<T> {\n  items: T[];\n}\n\nexport interface UseItemInArray<T> {\n  item?: T;\n  index: number;\n  goToFirst: () => void;\n  goToLast: () => void;\n  stepForward: () => void;\n  stepBackward: () => void;\n}\n\nconst useItemInArray = <T>({ items }: Props<T>): UseItemInArray<T> => {\n  const {\n    count: index,\n    goToFirst,\n    goToLast,\n    decrement,\n    increment,\n  } = useLoopCounter({\n    max: items.length > 0 ? items.length - 1 : 0,\n  });\n\n  // The items can be updated before the index has a chance to change,\n  // so we must guard against running off the end of the items list.\n  const item = React.useMemo(() => items[index], [items, index]);\n\n  return {\n    item,\n    index,\n    goToFirst,\n    goToLast,\n    stepForward: React.useCallback(() => increment(1), [increment]),\n    stepBackward: React.useCallback(() => decrement(1), [decrement]),\n  };\n};\n\nexport default useItemInArray;\n","import React from \"react\";\n\nimport \"./searchBox.css\";\n\nimport useItemInArray from \"../lib/useLoopCounter/useItemInArray\";\n\ninterface Props<T> {\n  items: T[];\n  filter: (item: T, criteria: string) => boolean;\n  itemChosen: (item: T) => void;\n  itemToString: (item: T) => string;\n}\n\nconst SearchBox = <T,>({\n  items,\n  filter,\n  itemChosen,\n  itemToString,\n}: Props<T>) => {\n  const [criteria, setCriteria] = React.useState<string>(\"\");\n\n  const inputRef = React.useRef<HTMLInputElement>(null);\n\n  const matchedItems: T[] = React.useMemo(\n    () => (criteria.length > 2 ? items.filter((p) => filter(p, criteria)) : []),\n    [items, criteria, filter]\n  );\n\n  const [hasFocus, setHasFocus] = React.useState<boolean>(false);\n\n  const onCriteriaFocus: React.FocusEventHandler<HTMLInputElement> = React.useCallback(\n    () => setHasFocus(true),\n    [setHasFocus]\n  );\n  const onCriteriaBlur: React.FocusEventHandler<HTMLInputElement> = React.useCallback(\n    () => setHasFocus(false),\n    [setHasFocus]\n  );\n\n  const {\n    item,\n    index: selectedIndex,\n    stepForward,\n    stepBackward,\n  } = useItemInArray({ items: matchedItems });\n\n  const matchedItemsWithHandlers = React.useMemo(\n    () =>\n      matchedItems.map((item, i) => ({\n        key: i.toString(10),\n        itemStr: itemToString(item),\n        onClick: () => itemChosen(item),\n        className: i === selectedIndex ? \"autocomplete-active\" : \"\",\n      })),\n    [matchedItems, selectedIndex, itemChosen, itemToString]\n  );\n\n  const onCriteriaChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setCriteria(value),\n    [setCriteria]\n  );\n\n  const onCriteriaKeyDown: React.KeyboardEventHandler<HTMLInputElement> = React.useCallback(\n    (e) => {\n      switch (e.keyCode) {\n        case 40: {\n          /*If the arrow DOWN key is pressed,\n            increase the currentFocus variable:*/\n          stepForward();\n          break;\n        }\n        case 38: {\n          /*If the arrow UP key is pressed,\n        decrease the currentFocus variable:*/\n          stepBackward();\n          break;\n        }\n        case 13: {\n          /*If the ENTER key is pressed, prevent the form from being submitted,*/\n          e.preventDefault();\n          if (item !== undefined) {\n            if (inputRef.current !== null) {\n              inputRef.current.blur();\n            }\n            /*and simulate a click on the \"active\" item:*/\n            itemChosen(item);\n            setCriteria(itemToString(item));\n          }\n        }\n      }\n    },\n    [item, setCriteria, itemToString, itemChosen, stepForward, stepBackward]\n  );\n\n  return (\n    <form className=\"form-inline my-2 my-lg-0\">\n      <div className=\"autocomplete\">\n        <input\n          ref={inputRef}\n          className=\"form-control mr-sm-2\"\n          type=\"search\"\n          placeholder=\"Search\"\n          aria-label=\"Search\"\n          value={criteria}\n          onChange={onCriteriaChange}\n          onKeyDown={onCriteriaKeyDown}\n          onFocus={onCriteriaFocus}\n          onBlur={onCriteriaBlur}\n        />\n        {hasFocus && matchedItems.length > 0 && (\n          <div className=\"autocomplete-items\">\n            {matchedItemsWithHandlers.map(\n              ({ itemStr, onClick, key, className }) => (\n                <div key={key} className={className} onMouseDown={onClick}>\n                  {itemStr}\n                  <input type=\"hidden\" value={itemStr}></input>\n                </div>\n              )\n            )}\n          </div>\n        )}\n      </div>\n      <button className=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default SearchBox;\n","export const PRE_ORDER = \"Pre Order\";\nexport const IN_ORDER = \"In Order\";\nexport const POST_ORDER = \"Post Order\";\n\nexport const binaryTreeTraversalAlgorithms: string[] = [\n  PRE_ORDER,\n  IN_ORDER,\n  POST_ORDER,\n];\n","import React from \"react\";\n\nimport { ControlledInput } from \"../../../../types\";\nimport { binaryTreeTraversalAlgorithms } from \"./common\";\n\ninterface Props extends ControlledInput<string> {\n  className?: string;\n}\n\nconst BinaryTreeTraversalAlgorithmPicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => onChange(value),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(binaryTreeTraversalAlgorithms[0]), [onChange]);\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      <option />\n      {binaryTreeTraversalAlgorithms.map((value) => (\n        <option key={value} value={value}>\n          {value}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  algorithmName: string;\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<string>(\n    binaryTreeTraversalAlgorithms[0]\n  );\n\n  return {\n    algorithmName: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default BinaryTreeTraversalAlgorithmPicker;\n","function traversePreOrder(tree, visit) {\n    if (!!tree.value) {\n        visit(tree.value);\n    }\n    if (!!tree.leftBranch) {\n        traversePreOrder(tree.leftBranch, visit);\n    }\n    if (!!tree.rightBranch) {\n        traversePreOrder(tree.rightBranch, visit);\n    }\n}\nexport default traversePreOrder;\n//# sourceMappingURL=traversePreOrder.js.map","function traverseInOrder(tree, visit) {\n    if (!!tree.leftBranch) {\n        traverseInOrder(tree.leftBranch, visit);\n    }\n    if (!!tree.value) {\n        visit(tree.value);\n    }\n    if (!!tree.rightBranch) {\n        traverseInOrder(tree.rightBranch, visit);\n    }\n}\nexport default traverseInOrder;\n//# sourceMappingURL=traverseInOrder.js.map","function traversePostOrder(tree, visit) {\n    if (!!tree.leftBranch) {\n        traversePostOrder(tree.leftBranch, visit);\n    }\n    if (!!tree.rightBranch) {\n        traversePostOrder(tree.rightBranch, visit);\n    }\n    if (!!tree.value) {\n        visit(tree.value);\n    }\n}\nexport default traversePostOrder;\n//# sourceMappingURL=traversePostOrder.js.map","import React from \"react\";\nimport BinaryTree from \"@comp-sci-maths/lib/dist/dataStructures/binaryTree/BinaryTree\";\nimport traversePreOrder from \"@comp-sci-maths/lib/dist/algorithms/binaryTreeTraversal/traversePreOrder\";\nimport traverseInOrder from \"@comp-sci-maths/lib/dist/algorithms/binaryTreeTraversal/traverseInOrder\";\nimport traversePostOrder from \"@comp-sci-maths/lib/dist/algorithms/binaryTreeTraversal/traversePostOrder\";\nimport { VisitFunction } from \"@comp-sci-maths/lib/dist/types\";\n\nimport { PRE_ORDER, IN_ORDER, POST_ORDER } from \"./common\";\n\ninterface Props<T> {\n  version: number;\n  algorithmName: string;\n  binaryTree: BinaryTree<T>;\n}\n\nexport interface UseBinaryTreeTraversal<T> {\n  visitedItems: T[];\n}\n\nconst useBinaryTreeTraversal = <T>({\n  version,\n  algorithmName,\n  binaryTree,\n}: Props<T>): UseBinaryTreeTraversal<T> => {\n  const visitedItems: T[] = React.useMemo(() => {\n    const items: T[] = [];\n    const visit: VisitFunction<T> = (d: T) => items.push(d);\n\n    switch (algorithmName) {\n      case PRE_ORDER:\n        traversePreOrder(binaryTree, visit);\n        break;\n      case IN_ORDER:\n        traverseInOrder(binaryTree, visit);\n        break;\n      case POST_ORDER:\n        traversePostOrder(binaryTree, visit);\n        break;\n    }\n\n    return items;\n    /// ewwww\n    // eslint-disable-next-line\n  }, [version, algorithmName, binaryTree]);\n\n  return { visitedItems };\n};\n\nexport default useBinaryTreeTraversal;\n","function isString(x) {\n    return typeof x === \"string\";\n}\nlet nextId = 0;\nconst generateUniqueId = () => `${nextId++}`;\nexport const generateLineRef = (rawLineRef) => {\n    if (rawLineRef === undefined) {\n        return {\n            id: generateUniqueId()\n        };\n    }\n    if (isString(rawLineRef)) {\n        return {\n            id: generateUniqueId(),\n            originalLine: rawLineRef\n        };\n    }\n    if ('id' in rawLineRef) {\n        return rawLineRef;\n    }\n    else {\n        return {\n            id: generateUniqueId(),\n            ...rawLineRef\n        };\n    }\n};\nexport const ROOT_RECURSION_KEY = 50;\nexport const bytesToString = (contents, columns, window) => {\n    return contents\n        .filter((_, i) => i >= window.start && i < window.end)\n        .map((x, i) => i % columns === 0 ? `\\n${(i + window.start).toString(10)}: ${x.toString(10)}` : x.toString(10))\n        .join(\", \");\n};\nexport const defaultEqualityCheck = (a, b) => a === b;\nexport const defaultToString = (a) => `${a}`;\nexport function simpleSwap(arr, from, to) {\n    const swapItem = arr[from];\n    arr[from] = arr[to];\n    arr[to] = swapItem;\n}\nexport function objToString(o) {\n    return !!o\n        ? Object.entries(o)\n            .map((k) => `${k[0]}=${k[1]}`)\n            .join(\" \")\n        : \"none\";\n}\n// tslint:disable-next-line: no-empty\nexport const emptyObserver = () => { };\n// This needs to work for strings and numbers, which is why I cannot use b-a\nexport const anyComparator = (a, b) => {\n    if (a > b) {\n        return +1;\n    }\n    else if (b > a) {\n        return -1;\n    }\n    else {\n        return 0;\n    }\n};\n/**\n * Comparator function that uses simple arithmetic comparison.\n * based on https://www.w3schools.com/js/js_array_sort.asp\n * If the result is negative a is sorted before b.\n * If the result is positive b is sorted before a.\n * If the result is 0 no changes are done with the sort order of the two values.\n *\n * @param {number | string} a First item\n * @param {number | string} b Second item\n */\nexport const arithmeticComparator = (a, b) => a - b;\nexport const stringComparator = (a, b) => a.localeCompare(b);\nconst defaultGenOpts = {\n    sorted: false,\n    unique: false,\n};\nexport function fisherYatesShuffle(array) {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i);\n        const temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n    }\n}\nexport const generateRandomNumber = (from, to) => from + Math.floor((to - from) * Math.random());\n/**\n * Generate a list of random numbers in array of given length\n * @param {number} length\n * @return {array} the list of random numbers\n */\nexport function generateRandomNumbers(from, to, length, opts) {\n    const { sorted = false, unique = true } = { ...defaultGenOpts, ...opts };\n    let data;\n    if (unique) {\n        data = Array(length)\n            .fill(null)\n            .map((i) => from + i);\n        fisherYatesShuffle(data);\n    }\n    else {\n        data = Array(length)\n            .fill(null)\n            .map(generateRandomNumber);\n    }\n    if (sorted) {\n        data.sort();\n    }\n    return data;\n}\nconst LETTERS = [];\nfor (let i = \"A\".charCodeAt(0); i <= \"Z\".charCodeAt(0); i++) {\n    LETTERS.push(String.fromCharCode(i));\n}\nexport const generateRandomLetter = () => LETTERS[Math.floor(Math.random() * LETTERS.length)];\nexport class ObservableVersioned {\n    constructor() {\n        this.version = 0;\n        this.tickObserver = emptyObserver;\n    }\n    setTickObserver(tickObserver) {\n        this.tickObserver = tickObserver;\n    }\n    tickVersion() {\n        this.version += 1;\n        this.tickObserver();\n    }\n}\nexport const generateRandomLetters = (length, opts) => {\n    const { sorted = false, unique = true } = { ...defaultGenOpts, ...opts };\n    let data = [];\n    if (unique) {\n        data = Array(length)\n            .fill(null)\n            .map((_, i) => LETTERS[i]);\n        fisherYatesShuffle(data);\n    }\n    else {\n        data = Array(length).fill(null).map(generateRandomLetter);\n    }\n    if (sorted) {\n        data.sort();\n    }\n    return data;\n};\nexport const getAllEnumKeys = (enumType) => Object.keys(enumType).filter(key => isNaN(Number(key)));\nexport const getAllEnumValues = (enumType) => getAllEnumKeys(enumType).map((key) => enumType[key]);\nexport const getAllEnumEntries = (enumType) => getAllEnumKeys(enumType).map((key) => [key, enumType[key]]);\nexport function pickRandomIndex(from) {\n    return Math.floor(from.length * Math.random());\n}\n/**\n * Given an array, picks a random element\n */\nexport function pickRandom(from) {\n    return from[pickRandomIndex(from)];\n}\n//# sourceMappingURL=common.js.map","import BinaryTree from \"@comp-sci-maths/lib/dist/dataStructures/binaryTree/BinaryTree\";\n\nexport enum TreeDirection {\n  up = \"up\",\n  down = \"down\",\n}\n\nexport interface Config<T> {\n  binaryTree: BinaryTree<T>;\n  treeDirection: TreeDirection;\n  toString: (v: T) => string;\n}\n","import { ObservableVersioned } from \"../../common\";\nexport default class BinaryTree extends ObservableVersioned {\n    constructor(compare, value) {\n        super();\n        this.compare = compare;\n        this.value = value;\n        this.leftBranch = null;\n        this.rightBranch = null;\n    }\n    clear() {\n        this.value = undefined;\n        this.leftBranch = null;\n        this.rightBranch = null;\n    }\n    toString() {\n        if (this.leftBranch !== null && this.rightBranch !== null) {\n            return `(${this.leftBranch.toString()} ${this.value} ${this.rightBranch.toString()})`;\n        }\n        else if (this.leftBranch !== null) {\n            return `(${this.leftBranch.toString()} ${this.value} null)`;\n        }\n        else if (this.rightBranch !== null) {\n            return `(null ${this.value} ${this.rightBranch.toString()})`;\n        }\n        else {\n            return `${this.value}`;\n        }\n    }\n    contains(item) {\n        if (this.value === item) {\n            return true;\n        }\n        else if (this.leftBranch && this.leftBranch.contains(item)) {\n            return true;\n        }\n        else if (this.rightBranch && this.rightBranch.contains(item)) {\n            return true;\n        }\n        return false;\n    }\n    add(item) {\n        if (this.value === undefined) {\n            this.value = item;\n        }\n        else if (this.compare(item, this.value) < 0) {\n            if (!!this.leftBranch) {\n                this.leftBranch.add(item);\n            }\n            else {\n                this.leftBranch = new BinaryTree(this.compare, item);\n            }\n        }\n        else {\n            if (!!this.rightBranch) {\n                this.rightBranch.add(item);\n            }\n            else {\n                this.rightBranch = new BinaryTree(this.compare, item);\n            }\n        }\n        this.tickVersion();\n        return this;\n    }\n}\n//# sourceMappingURL=BinaryTree.js.map","import React from \"react\";\nimport BinaryTree from \"@comp-sci-maths/lib/dist/dataStructures/binaryTree/BinaryTree\";\nimport { stringComparator } from \"@comp-sci-maths/lib/dist/common\";\n\nexport interface UseBinaryTreeBuilder {\n  binaryTree: BinaryTree<string>;\n  version: number;\n  addValue: (value: string) => void;\n  clearAll: () => void;\n}\n\nexport const defaultBinaryTree: BinaryTree<string> = new BinaryTree<string>(\n  stringComparator\n)\n  .add(\"B\")\n  .add(\"A\")\n  .add(\"D\")\n  .add(\"E\")\n  .add(\"C\")\n  .add(\"F\");\n\nconst useBinaryTreeBuilder = (\n  initialTree: BinaryTree<string> = defaultBinaryTree\n): UseBinaryTreeBuilder => {\n  const binaryTree = React.useRef(initialTree);\n  const [version, tickVersion] = React.useReducer((s) => s + 1, 0);\n\n  const addValue = React.useCallback(\n    (value: string) => {\n      binaryTree.current.add(value);\n      tickVersion();\n    },\n    [binaryTree]\n  );\n\n  const clearAll = React.useCallback(() => {\n    binaryTree.current.value = undefined;\n    binaryTree.current.leftBranch = undefined;\n    binaryTree.current.rightBranch = undefined;\n    tickVersion();\n  }, []);\n\n  return {\n    binaryTree: binaryTree.current,\n    clearAll,\n    addValue,\n    version,\n  };\n};\n\nexport default useBinaryTreeBuilder;\n","import p5 from \"p5\";\nimport Boid from \"./Boid\";\n\nexport default class DataItemBoid<T> extends Boid<T> {\n  isMouseOver(mousePosition: p5.Vector) {\n    // Is the mouse pointer within the radius of our boid circle?\n    let diff = p5.Vector.sub(this.position, mousePosition);\n    return diff.mag() < this.radius;\n  }\n\n  update(s: p5) {\n    super.update(s);\n\n    // Clip to Sides\n    if (this.position.x > s.width) {\n      this.position.x = s.width;\n    } else if (this.position.x < 0) {\n      this.position.x = 0;\n    }\n\n    // Clip to top and bottom\n    if (this.position.y > s.height) {\n      this.position.y = s.height;\n    } else if (this.position.y < 0) {\n      this.position.y = 0;\n    }\n  }\n\n  draw(s: p5) {\n    s.stroke(this.borderColour);\n    if (this.grabbed) {\n      s.strokeWeight(4);\n    } else {\n      s.strokeWeight(this.borderWeight);\n    }\n\n    s.fill(this.colour);\n    s.ellipse(this.position.x, this.position.y, this.radius);\n\n    if (this.label !== undefined) {\n      s.fill(\"white\");\n      s.stroke(\"black\");\n      s.textAlign(s.CENTER, s.CENTER);\n      s.text(this.label, this.position.x, this.position.y);\n    }\n  }\n}\n","import { AbstractSketch } from \"../../p5/useSketch\";\nimport BinaryTree from \"@comp-sci-maths/lib/dist/dataStructures/binaryTree/BinaryTree\";\nimport DataItemBoid from \"../../p5/Boid/DataItemBoid\";\nimport p5 from \"p5\";\nimport { createP5Vector } from \"../../ComputerScience/Algorithms/Routing/GridRouting/useGridGraph\";\nimport { Config, TreeDirection } from \"./types\";\n\nconst WIDTH = 1024;\nconst HEIGHT = 500;\n\nconst RADIUS = 50;\nconst LEVEL_X_DIFF = 50;\nconst LEVEL_Y_DIFF = 70;\n\nconst getDefaultConfig = (): Config<any> => ({\n  binaryTree: new BinaryTree<any>((a, b) => a - b),\n  treeDirection: TreeDirection.down,\n  toString: (v: any) => `${v}`,\n});\n\nclass BinaryTreeSketch<T> extends AbstractSketch<Config<T>> {\n  boids: {\n    [id: string]: DataItemBoid<BinaryTree<T>>;\n  };\n  headLeft: p5.Vector;\n  headRight: p5.Vector;\n  boidLevels: {\n    [id: string]: number;\n  };\n  maxLevel: number;\n\n  constructor() {\n    super(getDefaultConfig());\n    this.boids = {};\n    this.headLeft = createP5Vector(-LEVEL_X_DIFF, LEVEL_Y_DIFF);\n    this.headRight = createP5Vector(LEVEL_X_DIFF, LEVEL_Y_DIFF);\n    this.boidLevels = {};\n    this.maxLevel = 0;\n  }\n\n  sortHorizontalPositions() {\n    for (let l = 0; l <= this.maxLevel; l++) {\n      let boids: DataItemBoid<BinaryTree<T>>[] = Object.entries(this.boids)\n        .filter(([id]) => this.boidLevels[id] === l)\n        .map(([_, b]) => b);\n\n      boids.forEach((a) => {\n        boids\n          .filter((b) => a !== b)\n          .forEach((b) => a.flee(b.position, RADIUS * 2));\n      });\n\n      // Sort the positions by x-value\n      let positions: p5.Vector[] = boids\n        .map(({ position }) => position)\n        .sort((a, b) => a.x - b.x);\n      boids\n        .sort((a, b) =>\n          a.entity.compare(a.entity.value as T, b.entity.value as T)\n        )\n        .map((b) => {\n          return b;\n        })\n        .forEach((b, index) => {\n          b.position = positions[index];\n        });\n    }\n  }\n\n  visitBoids(\n    sketch: p5,\n    treeNode: BinaryTree<T>,\n    position: p5.Vector,\n    boidReceiver: (boid: DataItemBoid<BinaryTree<T>>) => void,\n    id: string,\n    parentBoid?: DataItemBoid<BinaryTree<T>>,\n    level: number = 0\n  ): void {\n    if (treeNode.value === undefined) {\n      return;\n    }\n\n    if (level > this.maxLevel) {\n      this.maxLevel = level;\n    }\n    this.boidLevels[id] = level;\n\n    if (!this.boids[id]) {\n      this.boids[id] = new DataItemBoid({\n        radius: RADIUS,\n        entity: treeNode,\n        label: this.config.toString(treeNode.value),\n        position,\n        lockY: true,\n      });\n    } else {\n      // position = this.boids[id].position;\n      this.boids[id].entity = treeNode;\n      this.boids[id].label = this.config.toString(treeNode.value);\n    }\n    const thisBoid = this.boids[id];\n    boidReceiver(thisBoid);\n\n    // Draw the line between this boid and it's parents\n    if (!!parentBoid) {\n      sketch.strokeWeight(2);\n      sketch.stroke(\"black\");\n      sketch.line(\n        thisBoid.position.x,\n        thisBoid.position.y,\n        parentBoid.position.x,\n        parentBoid.position.y\n      );\n\n      let midpoint: p5.Vector = (p5.Vector.lerp(\n        parentBoid.position,\n        thisBoid.position,\n        0.5\n      ) as unknown) as p5.Vector; // error in p5 type definition\n\n      sketch.fill(\"white\");\n      sketch.circle(midpoint.x, midpoint.y, 30);\n      sketch.fill(\"black\");\n      sketch.strokeWeight(1);\n      sketch.textFont(\"Helvetica\", 14);\n      sketch.textAlign(sketch.CENTER, sketch.CENTER);\n      sketch.text(id[id.length - 1], midpoint.x, midpoint.y);\n    }\n\n    if (!!treeNode.leftBranch) {\n      this.visitBoids(\n        sketch,\n        treeNode.leftBranch,\n        p5.Vector.add(position, this.headLeft),\n        boidReceiver,\n        id + \"L\",\n        thisBoid,\n        level + 1\n      );\n    }\n    if (!!treeNode.rightBranch) {\n      this.visitBoids(\n        sketch,\n        treeNode.rightBranch,\n        p5.Vector.add(position, this.headRight),\n        boidReceiver,\n        id + \"R\",\n        thisBoid,\n        level + 1\n      );\n    }\n  }\n\n  sketch(s: import(\"p5\")) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textAlign(s.CENTER, s.CENTER);\n      s.angleMode(s.DEGREES);\n    };\n\n    s.mousePressed = function () {\n      const mousePosition = s.createVector(s.mouseX, s.mouseY);\n      const boid = Object.values(that.boids).find((boid) =>\n        boid.isMouseOver(mousePosition)\n      );\n      if (boid !== undefined) {\n        boid.grab();\n      }\n    };\n\n    s.mouseDragged = function () {\n      const mousePosition = s.createVector(s.mouseX, s.mouseY);\n      Object.values(that.boids).forEach((boid) => boid.dragged(mousePosition));\n    };\n\n    s.mouseReleased = function () {\n      Object.values(that.boids).forEach((boid) => boid.releaseGrab());\n    };\n\n    s.draw = () => {\n      s.background(230);\n\n      const { binaryTree } = that.config;\n      s.push();\n\n      that.maxLevel = 0;\n      that.boidLevels = {};\n      const boids: DataItemBoid<BinaryTree<T>>[] = [];\n      that.visitBoids(\n        s,\n        binaryTree,\n        s.createVector(s.width / 2, 30),\n        (b) => boids.push(b),\n        \"ROOT\"\n      );\n\n      that.sortHorizontalPositions();\n\n      // All boids should seek the midpoint of both children...if they have them\n      boids.forEach((boid) => {\n        const {\n          entity: { leftBranch, rightBranch },\n        } = boid;\n        const leftBoid = Object.values(that.boids).find(\n          (b) => b.entity === leftBranch\n        );\n        const rightBoid = Object.values(that.boids).find(\n          (b) => b.entity === rightBranch\n        );\n\n        if (leftBoid !== undefined && rightBoid !== undefined) {\n          boid.arrive(\n            s,\n            s.createVector(\n              (leftBoid.position.x + rightBoid.position.x) / 2,\n              boid.position.y\n            ),\n            10\n          );\n        }\n      });\n\n      Object.values(boids)\n        .filter((_, i) => i > 0)\n        .forEach((b) => b.update(s));\n\n      s.textFont(\"Helvetica\", 24);\n      Object.values(boids).forEach((b) => b.draw(s));\n\n      s.pop();\n    };\n  };\n}\n\nexport default BinaryTreeSketch;\n","export var LinearDataStructureMessages;\n(function (LinearDataStructureMessages) {\n    LinearDataStructureMessages[\"newStructure\"] = \"New Data Structure Created\";\n    LinearDataStructureMessages[\"full\"] = \"Structure was Full\";\n    LinearDataStructureMessages[\"empty\"] = \"Structure was Empty\";\n    LinearDataStructureMessages[\"removed\"] = \"Item Removed\";\n    LinearDataStructureMessages[\"added\"] = \"Item Added\";\n    LinearDataStructureMessages[\"peeked\"] = \"Item Peeked\";\n    LinearDataStructureMessages[\"notFound\"] = \"Item Not Found\";\n})(LinearDataStructureMessages || (LinearDataStructureMessages = {}));\nexport const DEFAULT_CAPACITY = 10;\nexport const getInitialLinearStructureState = (capacity = DEFAULT_CAPACITY) => ({\n    contents: Array(capacity).fill(null),\n    capacity,\n    lastResult: null,\n    lastMessage: LinearDataStructureMessages.newStructure,\n    size: 0\n});\nexport const linearStructureError = (state, lastMessage) => ({\n    ...state,\n    lastMessage,\n    lastResult: null\n});\n//# sourceMappingURL=linearDataStructure.js.map","import React from \"react\";\r\n\r\nexport interface Props extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  text: string;\r\n  styleType:\r\n    | \"primary\"\r\n    | \"secondary\"\r\n    | \"success\"\r\n    | \"danger\"\r\n    | \"warning\"\r\n    | \"info\"\r\n    | \"light\"\r\n    | \"dark\"\r\n    | \"link\";\r\n  onClick: React.MouseEventHandler;\r\n}\r\n\r\nconst Button: React.FunctionComponent<Props> = ({\r\n  text,\r\n  styleType,\r\n  onClick,\r\n  ...rest\r\n}) => (\r\n  <button\r\n    {...rest}\r\n    className={`btn btn-${styleType} ${rest.className}`}\r\n    onClick={onClick}\r\n  >\r\n    {text}\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\n\r\nimport Button, { Props as ButtonProps } from \"./Button\";\r\n\r\nexport interface Props {\r\n  className?: string;\r\n  buttons: ButtonProps[];\r\n}\r\n\r\nconst ButtonBar: React.FunctionComponent<Props> = ({ className, buttons }) => (\r\n  <div\r\n    className={`btn-toolbar ${className}`}\r\n    role=\"toolbar\"\r\n    aria-label=\"Course Actions\"\r\n  >\r\n    {buttons.map((button, i) => (\r\n      <div key={i} className=\"btn-group mr-2\" role=\"group\" aria-label=\"Edit\">\r\n        <Button {...button} />\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default ButtonBar;\r\n","import React from \"react\";\nimport { UseBinaryTreeBuilder } from \"./useBinaryTreeBuilder\";\nimport useSketch from \"../../p5/useSketch\";\nimport BinaryTreeSketch from \"./BinaryTreeSketch\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"../../Bootstrap/Buttons/ButtonBar\";\nimport { TreeDirection } from \"./types\";\n\ninterface Props {\n  binaryTreeBuilder: UseBinaryTreeBuilder;\n}\n\nconst BinaryTreeBuilder: React.FunctionComponent<Props> = ({\n  binaryTreeBuilder: { addValue, binaryTree, version, clearAll },\n}) => {\n  const [newValue, setNewValue] = React.useState(\"\");\n\n  const [treeDirection, setTreeDirection] = React.useState<TreeDirection>(\n    TreeDirection.down\n  );\n\n  const onTreeDirectionChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => setTreeDirection(value as TreeDirection),\n    [setTreeDirection]\n  );\n\n  const onNewValueChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewValue(value),\n    [setNewValue]\n  );\n  const onAddNewItem: React.MouseEventHandler = React.useCallback(\n    () => newValue.length > 0 && addValue(newValue),\n    [addValue, newValue]\n  );\n\n  const { refContainer, updateConfig } = useSketch(BinaryTreeSketch);\n\n  React.useEffect(() => updateConfig({ binaryTree, treeDirection }), [\n    binaryTree,\n    treeDirection,\n    updateConfig,\n  ]);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Add\",\n          onClick: onAddNewItem,\n          styleType: \"primary\",\n        },\n        {\n          text: \"Clear\",\n          styleType: \"danger\",\n          onClick: clearAll,\n        },\n      ],\n    }),\n    [onAddNewItem, clearAll]\n  );\n\n  return (\n    <div>\n      <h4>Binary Tree Builder v{version}</h4>\n      <form>\n        <div className=\"form-group\">\n          <label>New Value</label>\n          <input\n            className=\"form-control\"\n            value={newValue}\n            onChange={onNewValueChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Tree Direction</label>\n          <select\n            className=\"form-control\"\n            value={treeDirection.toString()}\n            onChange={onTreeDirectionChange}\n          >\n            {Object.keys(TreeDirection).map((v) => (\n              <option key={v} value={v}>\n                {v}\n              </option>\n            ))}\n          </select>\n        </div>\n      </form>\n\n      <ButtonBar {...buttonBarProps} />\n\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default BinaryTreeBuilder;\n","import React from \"react\";\nimport BinaryTreeTraversalAlgorithmPicker, {\n  usePicker,\n} from \"./BinaryTreeTraversalAlgorithmPicker\";\nimport useBinaryTreeTraversal from \"./useBinaryTreeTraversal\";\nimport useBinaryTreeBuilder from \"../../BinaryTreeBuilder/useBinaryTreeBuilder\";\nimport BinaryTreeBuilder from \"../../BinaryTreeBuilder\";\n\nconst BinaryTreeTraversal: React.FunctionComponent = () => {\n  const { algorithmName, componentProps } = usePicker(\"form-control\");\n\n  const binaryTreeBuilder = useBinaryTreeBuilder();\n  const { binaryTree, version } = binaryTreeBuilder;\n\n  const { visitedItems } = useBinaryTreeTraversal({\n    binaryTree,\n    algorithmName,\n    version,\n  });\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Algorithm</label>\n          <BinaryTreeTraversalAlgorithmPicker {...componentProps} />\n        </div>\n      </form>\n\n      <h2>Item Visit Order: {visitedItems.join(\" -> \")}</h2>\n\n      <BinaryTreeBuilder binaryTreeBuilder={binaryTreeBuilder} />\n    </div>\n  );\n};\n\nexport default BinaryTreeTraversal;\n","import Component from \"./BinaryTreeTraversal\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/traversal/tree\",\n  title: \"Traversal - Tree\",\n  description:\n    \"Build a binary tree and learn how each traversal algorithm affects the order of visiting nodes\",\n  component: Component,\n};\n\nexport default Component;\n","export const BREADTH_FIRST_SEARCH = \"Breadth First Search\";\nexport const DEPTH_FIRST_SEARCH = \"Depth First Search\";\n\nexport const graphTraversalAlgorithms: string[] = [\n  BREADTH_FIRST_SEARCH,\n  DEPTH_FIRST_SEARCH,\n];\n","import React from \"react\";\n\nimport { ControlledInput } from \"../../../../types\";\nimport { graphTraversalAlgorithms, BREADTH_FIRST_SEARCH } from \"./common\";\n\ninterface Props extends ControlledInput<string> {\n  className?: string;\n}\n\nconst GraphTraversalAlgorithmPicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => onChange(value),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(BREADTH_FIRST_SEARCH), [onChange]);\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      <option />\n      {graphTraversalAlgorithms.map((value) => (\n        <option key={value} value={value}>\n          {value}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  algorithmName: string;\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<string>(BREADTH_FIRST_SEARCH);\n\n  return {\n    algorithmName: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default GraphTraversalAlgorithmPicker;\n","import { LinearDataStructureMessages, DEFAULT_CAPACITY, getInitialLinearStructureState, linearStructureError } from \"../linearDataStructure/linearDataStructure\";\nconst FRONT_IF_EMPTY = -1;\nexport const getInitialQueueState = (capacity = DEFAULT_CAPACITY) => ({\n    ...getInitialLinearStructureState(capacity),\n    front: FRONT_IF_EMPTY,\n    rear: 0,\n});\nexport const isQueueEmpty = ({ front }) => front === FRONT_IF_EMPTY;\nexport const isQueueFull = ({ front, rear }) => front === rear;\nexport const queuePush = (state, value) => {\n    if (isQueueFull(state)) {\n        return linearStructureError(state, LinearDataStructureMessages.full);\n    }\n    const contents = [...state.contents];\n    contents[state.rear] = value;\n    // Iterate the rear of the queue\n    let rear = state.rear;\n    rear += 1;\n    rear %= state.capacity;\n    // Was the queue previously empty?\n    let front = state.front;\n    if (front === FRONT_IF_EMPTY) {\n        front = state.rear;\n    }\n    return {\n        ...state,\n        size: state.size + 1,\n        contents,\n        front,\n        rear,\n        lastMessage: LinearDataStructureMessages.added\n    };\n};\nexport const queuePop = (state) => {\n    if (isQueueEmpty(state)) {\n        return linearStructureError(state, LinearDataStructureMessages.empty);\n    }\n    // Locate the item\n    const contents = [...state.contents];\n    const lastResult = contents[state.front];\n    // Clear this spot in the array, not technically necessary but it looks nicer on the UI\n    contents[state.front] = undefined;\n    // Iterate the front of the queue\n    let front = state.front;\n    front += 1;\n    front %= state.capacity;\n    // Is the queue now empty?\n    if (front === state.rear) {\n        front = FRONT_IF_EMPTY;\n    }\n    return {\n        ...state,\n        size: state.size - 1,\n        contents,\n        front,\n        lastResult,\n        lastMessage: LinearDataStructureMessages.removed\n    };\n};\nexport const queuePeek = (state) => {\n    if (isQueueEmpty(state)) {\n        return linearStructureError(state, LinearDataStructureMessages.empty);\n    }\n    return {\n        ...state,\n        lastResult: state.contents[state.front],\n        lastMessage: LinearDataStructureMessages.peeked\n    };\n};\n/**\n * Implements a simple Queue (FIFO) in a purely functional style.\n *\n * @param state The current state of the queue.\n * @param action The action to undertake\n * @returns The new state after the action is attempted\n */\nexport const queueReducer = (state, action) => {\n    switch (action.type) {\n        case 'push': return queuePush(state, action.value);\n        case 'pop': return queuePop(state);\n        case 'peek': return queuePeek(state);\n        case 'reset': return getInitialQueueState();\n    }\n};\nexport default queueReducer;\n//# sourceMappingURL=queueReducer.js.map","import { getOutgoing } from \"../../dataStructures/graph/graphReducer\";\n/**\n * Breadth first and Depth first traversals have a common shape.\n * This function allows us to create generic traversals with different\n * linear data structures.\n *\n * Given a factory for a linear data structure, this function returns\n * a function which can then be used for traversing a graph.\n */\nconst graphTraversal = (getInitialState, reducer) => (graph, startingVertex, visit) => {\n    const visited = [];\n    let visitDataStructure = getInitialState();\n    visitDataStructure = reducer(visitDataStructure, { type: 'push', value: startingVertex });\n    while (visitDataStructure.size > 0) {\n        visitDataStructure = reducer(visitDataStructure, { type: 'pop' });\n        const visiting = visitDataStructure.lastResult;\n        if (visiting === undefined)\n            break; // shouldn't happen\n        // Stack/Queue may contain same vertex twice, if we've already seen it, skip it\n        if (!visited.includes(visiting)) {\n            visit(visiting);\n            visited.push(visiting);\n        }\n        visitDataStructure = getOutgoing(graph, visiting) // you could attack these in any order\n            .filter(n => !visited.includes(n.to))\n            .reduce((acc, curr) => reducer(acc, { type: 'push', value: curr.to }), visitDataStructure);\n    }\n};\nexport default graphTraversal;\n//# sourceMappingURL=graphTraversal.js.map","import { queueReducer, getInitialQueueState } from \"../../dataStructures/queue/queueReducer\";\nimport graphTraversal from \"./graphTraversal\";\nexport default graphTraversal(getInitialQueueState, queueReducer);\n//# sourceMappingURL=breadthFirstSearch.js.map","import { LinearDataStructureMessages, DEFAULT_CAPACITY, getInitialLinearStructureState, linearStructureError } from \"../linearDataStructure/linearDataStructure\";\nexport const getInitialStackState = (capacity = DEFAULT_CAPACITY) => ({\n    ...getInitialLinearStructureState(capacity),\n    stackPointer: 0,\n});\nexport const isStackEmpty = ({ stackPointer }) => stackPointer === 0;\nexport const isStackFull = ({ stackPointer, capacity }) => stackPointer === capacity;\nexport const getStackItems = ({ contents, stackPointer }) => {\n    return contents.filter((_, i) => i < stackPointer);\n};\nexport const stackPush = (state, value) => {\n    if (isStackFull(state)) {\n        return linearStructureError(state, LinearDataStructureMessages.full);\n    }\n    const contents = [...state.contents];\n    contents[state.stackPointer] = value;\n    return {\n        ...state,\n        size: state.size + 1,\n        contents,\n        stackPointer: state.stackPointer + 1,\n        lastMessage: LinearDataStructureMessages.added\n    };\n};\nexport const stackPop = (state) => {\n    if (isStackEmpty(state)) {\n        return linearStructureError(state, LinearDataStructureMessages.empty);\n    }\n    // Locate the item\n    const contents = [...state.contents];\n    const lastResult = contents[state.stackPointer - 1];\n    // Clear this spot in the array, not technically necessary but it looks nicer on the UI\n    contents[state.stackPointer - 1] = undefined;\n    return {\n        ...state,\n        size: state.size - 1,\n        contents,\n        stackPointer: state.stackPointer - 1,\n        lastResult,\n        lastMessage: LinearDataStructureMessages.removed\n    };\n};\nexport const stackPeek = (state) => {\n    if (isStackEmpty(state)) {\n        return linearStructureError(state, LinearDataStructureMessages.empty);\n    }\n    return {\n        ...state,\n        lastResult: state.contents[state.stackPointer - 1],\n        lastMessage: LinearDataStructureMessages.peeked\n    };\n};\n/**\n * Implements a simple Stack (FIFO) in a purely functional style.\n *\n * @param state The current state of the Stack.\n * @param action The action to undertake\n * @returns The new state after the action is attempted\n */\nexport const stackReducer = (state, action) => {\n    switch (action.type) {\n        case 'push': return stackPush(state, action.value);\n        case 'pop': return stackPop(state);\n        case 'peek': return stackPeek(state);\n        case 'reset': return getInitialStackState();\n    }\n};\nexport default stackReducer;\n//# sourceMappingURL=stackReducer.js.map","import { stackReducer, getInitialStackState } from \"../../dataStructures/stack/stackReducer\";\nimport graphTraversal from \"./graphTraversal\";\nexport default graphTraversal(getInitialStackState, stackReducer);\n//# sourceMappingURL=depthFirstSearch.js.map","import { simpleSwap, emptyObserver, anyComparator } from \"../../common\";\nconst defaultUtility = {\n    compare: anyComparator,\n    observe: emptyObserver,\n    swap: simpleSwap,\n};\nfunction bubbleSort(inputList, { compare = anyComparator, observe = emptyObserver, swap = simpleSwap, } = defaultUtility) {\n    const outputList = [...inputList];\n    for (let top = outputList.length - 1; top > 0; top--) {\n        observe(\"Iterating Top Value\", outputList, { top });\n        let anySwapsMade = false;\n        for (let current = 0; current < top; current++) {\n            observe(\"Bubbling\", outputList, { top, current });\n            if (compare(outputList[current], outputList[current + 1], {\n                aIndex: current,\n                bIndex: current + 1,\n            }) > 0) {\n                swap(outputList, current, current + 1);\n                anySwapsMade = true;\n            }\n        }\n        if (!anySwapsMade)\n            break;\n    }\n    return outputList;\n}\nexport default bubbleSort;\n//# sourceMappingURL=bubbleSort.js.map","import { anyComparator, emptyObserver, simpleSwap } from \"../../common\";\nfunction insertionSort(inputList, { compare = anyComparator, observe = emptyObserver, swap = simpleSwap, }) {\n    if (inputList.length < 2) {\n        return inputList;\n    }\n    // Don't modify the input\n    const outputList = [...inputList];\n    for (let index = 1; index < outputList.length; index++) {\n        observe(\"Placing Item\", outputList, { index });\n        let itemPlace = index;\n        while (itemPlace > 0) {\n            const lower = itemPlace - 1;\n            const upper = itemPlace;\n            observe(\"Seeking Place\", outputList, {\n                index,\n                lower,\n                upper,\n            });\n            const comparison = compare(outputList[lower], outputList[upper], {\n                aIndex: lower,\n                bIndex: upper,\n            });\n            // The compare returns -ve if the first item is 'greater than' the second one\n            if (comparison > 0) {\n                // Temporary variable to prevent overwrites\n                swap(outputList, lower, upper);\n            }\n            else {\n                itemPlace = upper;\n                break;\n            }\n            itemPlace -= 1;\n        }\n    }\n    return outputList;\n}\nexport default insertionSort;\n//# sourceMappingURL=insertionSort.js.map","import { simpleSwap, emptyObserver, anyComparator } from \"../../common\";\n/* This function takes last element as pivot, places\n   the pivot element at its correct position in sorted\n    array, and places all smaller (smaller than pivot)\n   to left of pivot and all greater elements to right\n   of pivot */\nfunction partition(arr, utilities, low, high) {\n    const { compare = anyComparator, observe = emptyObserver, swap = simpleSwap, } = utilities;\n    // pivot (Element to be placed at right position)\n    const pivot = arr[high];\n    let i = low - 1; // Index of smaller element\n    for (let j = low; j <= high - 1; j++) {\n        observe(\"Partioning\", arr, { pivot: high, low, high, i, j });\n        // If current element is smaller than the pivot\n        if (compare(arr[j], pivot, { aIndex: j, bIndex: high }) < 0) {\n            i++; // increment index of smaller element\n            swap(arr, i, j);\n        }\n    }\n    swap(arr, i + 1, high);\n    return i + 1;\n}\n/**\n * Recursive form of the quick sort, this expects the various quick sort parameters to be setup.\n * It then calls itself until it is dealing with a one item list.\n *\n * @param arr The input array to sort, this function DOES modify the array\n * @param utilities The various comparison/swapping utilities\n * @param low Pointer to low point of this division of the list\n * @param high Pointer to high point of this division of the list\n */\nfunction quickSortR(arr, utilities, low, high) {\n    const { observe = emptyObserver } = utilities;\n    observe(\"Recursing\", arr, { low, high });\n    if (low < high) {\n        /* pi is partitioning index, arr[pi] is now\n               at right place */\n        const pi = partition(arr, utilities, low, high);\n        quickSortR(arr, utilities, low, pi - 1); // Before pi\n        quickSortR(arr, utilities, pi + 1, high); // After pi\n    }\n}\n/**\n * The entry point for the quick sort algorithm.\n *\n * @param inputList The list to sort, this function does not modify this list\n * @param utilities The various comparison/swapping uility functions required by observers.\n */\nfunction quickSort(inputList, utilities) {\n    if (inputList.length < 2) {\n        return inputList;\n    }\n    // Make a copy, don't change input list\n    const outputList = [...inputList];\n    // This function recursively operates on the data in place\n    quickSortR(outputList, utilities, 0, inputList.length - 1);\n    return outputList;\n}\nexport default quickSort;\n//# sourceMappingURL=quickSort.js.map","import { emptyObserver, anyComparator, ROOT_RECURSION_KEY, } from \"../../common\";\nfunction mergeSortR(inputList, utilities, leftPointer, rightPointer, parentKey = ROOT_RECURSION_KEY, levelAdjust = ROOT_RECURSION_KEY / 2) {\n    // Have we reached the bottom of our recursion? This is the exit condition!\n    if (leftPointer === rightPointer) {\n        return [inputList[leftPointer]];\n    }\n    const { compare = anyComparator, observe = emptyObserver, split = emptyObserver, join = emptyObserver, } = utilities;\n    // Calculate the mid point\n    const middle = Math.floor((leftPointer + rightPointer) / 2);\n    const listA = {\n        key: (parentKey - levelAdjust).toString(10),\n        data: inputList.slice(leftPointer, middle + 1),\n    };\n    const listB = {\n        key: (parentKey + levelAdjust).toString(10),\n        data: inputList.slice(middle + 1, rightPointer + 1),\n    };\n    observe(\"Recursing\", inputList, { leftPointer, rightPointer, middle });\n    split(parentKey.toString(10), listA, listB);\n    // Recurse sort both halves to yield the two lists to merge\n    const firstHalf = mergeSortR(inputList, utilities, leftPointer, middle, parentKey - levelAdjust, levelAdjust / 2);\n    const secondHalf = mergeSortR(inputList, utilities, middle + 1, rightPointer, parentKey + levelAdjust, levelAdjust / 2);\n    // Merge the two halves into a single sorted list\n    const outputList = [];\n    let firstPtr = 0;\n    let secondPtr = 0;\n    while (firstPtr < firstHalf.length && secondPtr < secondHalf.length) {\n        // Comparator returns +ve if the second item is larger than first\n        if (compare(firstHalf[firstPtr], secondHalf[secondPtr], {\n            aIndex: leftPointer + firstPtr,\n            bIndex: middle + secondPtr,\n        }) > 0) {\n            outputList.push(secondHalf[secondPtr]);\n            secondPtr += 1;\n        }\n        else {\n            outputList.push(firstHalf[firstPtr]);\n            firstPtr += 1;\n        }\n    }\n    // Push any stragglers from whichever list has items remaining\n    firstHalf.filter((_, i) => i >= firstPtr).forEach((i) => outputList.push(i));\n    secondHalf\n        .filter((_, i) => i >= secondPtr)\n        .forEach((i) => outputList.push(i));\n    join(listA, listB, outputList);\n    return outputList;\n}\nfunction mergeSort(inputList, utilities) {\n    // Is it worth sorting?\n    if (inputList.length < 2) {\n        return inputList;\n    }\n    return mergeSortR(inputList, utilities, 0, inputList.length - 1);\n}\nexport default mergeSort;\n//# sourceMappingURL=mergeSort.js.map","export var EdgeCurrentWeightCalcType;\n(function (EdgeCurrentWeightCalcType) {\n    EdgeCurrentWeightCalcType[EdgeCurrentWeightCalcType[\"unknown\"] = 0] = \"unknown\";\n    EdgeCurrentWeightCalcType[EdgeCurrentWeightCalcType[\"shorterRouteFound\"] = 1] = \"shorterRouteFound\";\n    EdgeCurrentWeightCalcType[EdgeCurrentWeightCalcType[\"existingRouteStillQuickest\"] = 2] = \"existingRouteStillQuickest\";\n})(EdgeCurrentWeightCalcType || (EdgeCurrentWeightCalcType = {}));\nexport const getCurrentWeightCalcTypeStr = (value) => {\n    switch (value) {\n        case EdgeCurrentWeightCalcType.existingRouteStillQuickest:\n            return \"Existing Route\";\n        case EdgeCurrentWeightCalcType.shorterRouteFound:\n            return \"Shorter Route\";\n        case EdgeCurrentWeightCalcType.unknown:\n            return \"ERROR\";\n    }\n};\n//# sourceMappingURL=types.js.map","export default class LinkedItem {\n    constructor(value, nextItem) {\n        this.value = value;\n        this.nextItem = nextItem;\n    }\n    setNextItem(item) {\n        this.nextItem = item;\n    }\n    getNextItem() {\n        return this.nextItem;\n    }\n    getValue() {\n        return this.value;\n    }\n}\n//# sourceMappingURL=LinkedItem.js.map","export const NO_MATCH = -1;\n//# sourceMappingURL=common.js.map","import LinkedItem from \"./LinkedItem\";\nimport { ObservableVersioned } from \"../../common\";\nimport { NO_MATCH } from \"../../algorithms/search/common\";\nexport default class LinkedList extends ObservableVersioned {\n    constructor() {\n        super();\n        this.startItem = undefined;\n        this.length = 0;\n    }\n    *[Symbol.iterator]() {\n        let cItem = this.startItem;\n        while (!!cItem) {\n            yield cItem.getValue();\n            cItem = cItem.getNextItem();\n        }\n    }\n    size() {\n        return this.length;\n    }\n    toArray() {\n        const arr = [];\n        for (const i of this) {\n            arr.push(i);\n        }\n        return arr;\n    }\n    isEmpty() {\n        return this.length === 0;\n    }\n    empty() {\n        this.startItem = undefined;\n        this.length = 0;\n        return this;\n    }\n    insert(index, item) {\n        let inserted = false;\n        const newItem = new LinkedItem(item);\n        if (index === 0) {\n            newItem.setNextItem(this.startItem);\n            this.startItem = newItem;\n            inserted = true;\n        }\n        else {\n            let tIndex = 1;\n            let currentItem = this.startItem;\n            while (!!currentItem) {\n                if (tIndex === index) {\n                    newItem.setNextItem(currentItem.getNextItem());\n                    currentItem.setNextItem(newItem);\n                    inserted = true;\n                    break;\n                }\n                tIndex += 1;\n                currentItem = currentItem.getNextItem();\n            }\n        }\n        if (inserted) {\n            this.length += 1;\n            this.tickVersion();\n        }\n        return inserted;\n    }\n    get(index) {\n        let tIndex = 0;\n        let cItem = this.startItem;\n        while (!!cItem) {\n            if (tIndex === index) {\n                return cItem.getValue();\n            }\n            cItem = cItem.getNextItem();\n            tIndex += 1;\n        }\n        return undefined;\n    }\n    appendAll(...items) {\n        items.forEach(i => this.append(i));\n        return this;\n    }\n    append(item) {\n        const newItem = new LinkedItem(item);\n        if (!!this.startItem) {\n            let currentItem = this.startItem;\n            while (!!currentItem.getNextItem()) {\n                currentItem = currentItem.getNextItem();\n            }\n            currentItem.setNextItem(newItem);\n        }\n        else {\n            this.startItem = newItem;\n        }\n        this.length += 1;\n        this.tickVersion();\n        return this;\n    }\n    contains(matchFunction) {\n        return this.findMatch(matchFunction) !== NO_MATCH;\n    }\n    findMatch(matchFunction) {\n        let index = 0;\n        let cItem = this.startItem;\n        while (!!cItem) {\n            if (matchFunction(cItem.getValue())) {\n                return index;\n            }\n            cItem = cItem.getNextItem();\n            index += 1;\n        }\n        this.tickVersion();\n        return NO_MATCH;\n    }\n    /**\n     * Removes\n     * @param {function} matchFunction Returns true for the object being removed\n     * @returns The removed item\n     */\n    removeMatch(matchFunction) {\n        let removed;\n        let index = 0;\n        let cItem = this.startItem;\n        while (!!cItem) {\n            if (matchFunction(cItem.getValue())) {\n                removed = this.remove(index);\n                break;\n            }\n            cItem = cItem.getNextItem();\n            index += 1;\n        }\n        this.tickVersion();\n        return removed;\n    }\n    /**\n     * Remove an item in a specific position\n     * @param {number} index The index of the object to remove\n     * @returns The removed item\n     */\n    remove(index) {\n        let removed;\n        if (index === 0) {\n            if (!!this.startItem) {\n                removed = this.startItem.getValue();\n                this.startItem = this.startItem.getNextItem();\n            }\n        }\n        else {\n            let tIndex = 1;\n            let currentItem = this.startItem;\n            while (!!currentItem.getNextItem()) {\n                if (tIndex === index) {\n                    const toRemove = currentItem.getNextItem();\n                    if (!!toRemove) {\n                        removed = toRemove.getValue();\n                        currentItem.setNextItem(toRemove.getNextItem());\n                        break;\n                    }\n                }\n                currentItem = currentItem.getNextItem();\n                tIndex += 1;\n            }\n        }\n        if (removed) {\n            this.length -= 1;\n            this.tickVersion();\n        }\n        return removed;\n    }\n    toString() {\n        // return [this].reduce((acc, curr) => (acc += ` ${curr.getValue()}`), \"\");\n        const arr = [];\n        for (const i of this) {\n            arr.push(i);\n        }\n        return arr.join(\" \");\n    }\n}\n//# sourceMappingURL=LinkedList.js.map","import { DEFAULT_CAPACITY, getInitialLinearStructureState, LinearDataStructureMessages, linearStructureError } from \"../linearDataStructure/linearDataStructure\";\nimport { getInitialStackState, isStackEmpty, stackPop, stackPush } from \"../stack/stackReducer\";\nexport const INVALID_PTR = -1;\nexport const getInitialLinkedListState = (capacity = DEFAULT_CAPACITY) => ({\n    ...getInitialLinearStructureState(capacity),\n    freeNodes: getInitialStackState(capacity),\n    nextFree: 0,\n    start: INVALID_PTR\n});\nexport const isListEmpty = ({ start }) => start === INVALID_PTR;\nexport const isListFull = ({ capacity, nextFree, freeNodes }) => isStackEmpty(freeNodes) && nextFree >= capacity;\n/**\n * Retrieve the indexes of the list items up to the specified index.\n * This is the main function that traverses the pointers through the logical list.\n *\n * @param state The current linked list state\n * @param logicalIndex The logical index of the item we traverse up to\n * @returns The indexes of the items as they appear in the underlyling array\n */\nexport const linkedListTraverse = (state, stop = () => false) => {\n    const indexes = [];\n    if (isListEmpty(state))\n        return indexes;\n    let currLogicalIndex = 0;\n    let currPhysicalIndex = state.start;\n    while (currPhysicalIndex !== INVALID_PTR && !stop(state.contents[currPhysicalIndex], currLogicalIndex, currPhysicalIndex)) {\n        indexes.push(currPhysicalIndex);\n        const itemTest = state.contents[currPhysicalIndex];\n        currPhysicalIndex = itemTest.nextPtr;\n        currLogicalIndex++;\n    }\n    return indexes;\n};\n/**\n *\n * @param state The current linked list state\n * @param logicalIndex The index within the logical list of the item we are looking for\n * @returns\n */\nexport const linkedListGet = (state, logicalIndex) => {\n    let physicalIndex = INVALID_PTR;\n    linkedListTraverse(state, (_, currLogicalIndex, currPhysicalIndex) => {\n        if (currLogicalIndex === logicalIndex) {\n            physicalIndex = currPhysicalIndex;\n            return true;\n        }\n        return false;\n    });\n    return physicalIndex !== INVALID_PTR ? state.contents[physicalIndex] : undefined;\n};\nexport const linkedListGetAll = (state) => {\n    return linkedListTraverse(state)\n        .map(index => state.contents[index])\n        .map(({ value }) => value);\n};\nexport const linkedListGetStoreIndex = (state) => {\n    let newPhysicalIndex = INVALID_PTR;\n    let freeNodes = state.freeNodes;\n    let nextFree = state.nextFree;\n    if (isStackEmpty(state.freeNodes)) {\n        // If our 'next free' pointer is still within range\n        if (nextFree < state.capacity) {\n            newPhysicalIndex = nextFree;\n            nextFree += 1;\n        }\n    }\n    else {\n        // Just pull an item off the stack\n        freeNodes = stackPop(freeNodes);\n        newPhysicalIndex = freeNodes.lastResult;\n    }\n    return {\n        newPhysicalIndex,\n        nextFree,\n        freeNodes\n    };\n};\nexport const linkedListAppend = (state, value) => {\n    const contents = [...state.contents];\n    let start = state.start;\n    const newItem = {\n        value,\n        nextPtr: INVALID_PTR\n    };\n    // Find the last item in the logical list\n    const indexes = linkedListTraverse(state);\n    const lastItem = indexes.length > 0 ?\n        state.contents[indexes[indexes.length - 1]] : undefined;\n    const { newPhysicalIndex, nextFree, freeNodes } = linkedListGetStoreIndex(state);\n    // The structure is full, can this ever happen?\n    if (newPhysicalIndex === INVALID_PTR) {\n        return linearStructureError(state, LinearDataStructureMessages.full);\n    }\n    contents[newPhysicalIndex] = newItem;\n    if (lastItem !== undefined) {\n        lastItem.nextPtr = newPhysicalIndex;\n    }\n    else {\n        start = newPhysicalIndex;\n    }\n    return {\n        contents,\n        capacity: state.capacity,\n        start,\n        freeNodes,\n        nextFree,\n        lastResult: newItem,\n        lastMessage: LinearDataStructureMessages.added,\n        size: state.size + 1\n    };\n};\nexport const linkedListRemoveLogicalIndex = (state, logicalIndex, physicalIndexes) => {\n    const physicalIndex = physicalIndexes[logicalIndex];\n    const contents = [...state.contents];\n    let start = state.start;\n    let freeNodes = state.freeNodes;\n    if (logicalIndex === 0) {\n        // If we are removing the start of the list\n        start = state.contents[physicalIndex].nextPtr;\n    }\n    else {\n        // We are removing from end or middle of list, point the previous item at our next one\n        state.contents[physicalIndexes[logicalIndex - 1]].nextPtr =\n            state.contents[physicalIndexes[logicalIndex]].nextPtr;\n    }\n    // Clear out that item in the contents\n    freeNodes = stackPush(freeNodes, physicalIndex);\n    const lastResult = contents[physicalIndex];\n    contents[physicalIndex] = undefined;\n    return {\n        ...state,\n        size: state.size - 1,\n        contents,\n        start,\n        freeNodes,\n        lastResult,\n        lastMessage: LinearDataStructureMessages.removed\n    };\n};\nexport const linkedListRemoveMatch = (state, match) => {\n    if (isListEmpty(state))\n        return linearStructureError(state, LinearDataStructureMessages.empty);\n    let logicalIndex = INVALID_PTR;\n    let physicalIndex = INVALID_PTR;\n    const physicalIndexes = linkedListTraverse(state, (_, currLogicalIndex, currPhysicalIndex) => {\n        if (match(state.contents[currPhysicalIndex].value)) {\n            logicalIndex = currLogicalIndex;\n            physicalIndex = currPhysicalIndex;\n            return true; // We can stop traversing\n        }\n        // Keep looking\n        return false;\n    });\n    if (logicalIndex === INVALID_PTR || physicalIndex === INVALID_PTR)\n        return linearStructureError(state, LinearDataStructureMessages.notFound);\n    // Push the last physical index on.\n    physicalIndexes.push(physicalIndex);\n    return linkedListRemoveLogicalIndex(state, logicalIndex, physicalIndexes);\n};\nexport const linkedListRemove = (state, logicalIndex) => {\n    if (isListEmpty(state))\n        return linearStructureError(state, LinearDataStructureMessages.empty);\n    const physicalIndexes = linkedListTraverse(state, (_, currLogicalIndex) => currLogicalIndex > logicalIndex);\n    return linkedListRemoveLogicalIndex(state, logicalIndex, physicalIndexes);\n};\nexport const linkedListInsert = (state, logicalIndex, value) => {\n    // Make copies of those state items likely to change\n    let start = state.start;\n    const contents = [...state.contents];\n    const newItem = {\n        value,\n        nextPtr: INVALID_PTR\n    };\n    // Find somewhere to put the new item\n    const { newPhysicalIndex, nextFree, freeNodes } = linkedListGetStoreIndex(state);\n    // The structure is full, can this ever happen?\n    if (newPhysicalIndex === INVALID_PTR) {\n        return linearStructureError(state, LinearDataStructureMessages.full);\n    }\n    // Are we inserting at start?\n    if (logicalIndex === 0) {\n        newItem.nextPtr = state.start;\n        start = newPhysicalIndex;\n    }\n    else {\n        const physicalIndexes = linkedListTraverse(state, (_, currLogicalIndex) => currLogicalIndex > logicalIndex);\n        // Do we have enough items?\n        if (physicalIndexes.length <= logicalIndex)\n            return linearStructureError(state, LinearDataStructureMessages.notFound);\n        // Where is the previous item held?\n        const physicalIndex = physicalIndexes[physicalIndexes.length - 2];\n        newItem.nextPtr = contents[physicalIndex].nextPtr;\n        contents[physicalIndex].nextPtr = newPhysicalIndex;\n    }\n    // Place the item in the physical list\n    contents[newPhysicalIndex] = newItem;\n    return {\n        ...state,\n        size: state.size + 1,\n        start,\n        contents,\n        nextFree,\n        freeNodes,\n        lastResult: newItem,\n        lastMessage: LinearDataStructureMessages.added\n    };\n};\nexport const linkedListReducer = (state, action) => {\n    switch (action.type) {\n        case \"append\": return linkedListAppend(state, action.value);\n        case \"remove\": return linkedListRemove(state, action.logicalIndex);\n        case \"removeMatch\": return linkedListRemoveMatch(state, action.match);\n        case \"insert\": return linkedListInsert(state, action.logicalIndex, action.value);\n        case \"reset\": return getInitialLinkedListState();\n    }\n};\nexport default linkedListReducer;\n//# sourceMappingURL=linkedListReducer.js.map","import LinkedList from \"../linkedList/LinkedList\";\nimport { ObservableVersioned } from \"../../common\";\nexport default class Queue extends ObservableVersioned {\n    constructor() {\n        super();\n        this.items = new LinkedList();\n    }\n    toString() {\n        return JSON.stringify(this.items);\n    }\n    size() {\n        return this.items.size();\n    }\n    getItems() {\n        return this.items.toArray();\n    }\n    empty() {\n        this.items.empty();\n        return this;\n    }\n    isEmpty() {\n        return this.items.length === 0;\n    }\n    push(item) {\n        this.items.append(item);\n        this.tickVersion();\n        return this;\n    }\n    pop() {\n        if (this.isEmpty()) {\n            throw new Error(\"Queue Empty\");\n        }\n        this.tickVersion();\n        return this.items.remove(0);\n    }\n    peek() {\n        if (this.isEmpty()) {\n            throw new Error(\"Queue Empty\");\n        }\n        return this.items.get(0);\n    }\n}\n//# sourceMappingURL=Queue.js.map","import { ObservableVersioned } from \"../../common\";\nexport default class Stack extends ObservableVersioned {\n    constructor() {\n        super();\n        this.stackPointer = 0;\n        // Use an array for the items, common exam question\n        this.items = [];\n    }\n    size() {\n        return this.stackPointer;\n    }\n    empty() {\n        this.stackPointer = 0;\n        return this;\n    }\n    isEmpty() {\n        return this.stackPointer === 0;\n    }\n    getItems() {\n        return this.items.filter((_, i) => i < this.stackPointer);\n    }\n    toString(itemToString) {\n        return `Items: ${this.items.map(itemToString).join('\\n\\t')}`;\n    }\n    push(item) {\n        this.items[this.stackPointer++] = item;\n        this.tickVersion();\n        return this;\n    }\n    pop() {\n        if (this.isEmpty()) {\n            throw new Error(\"Stack Underflow\");\n        }\n        this.tickVersion();\n        return this.items[--this.stackPointer];\n    }\n    peek() {\n        if (this.isEmpty()) {\n            throw new Error(\"Stack Underflow\");\n        }\n        return this.items[this.stackPointer - 1];\n    }\n}\n//# sourceMappingURL=Stack.js.map","export const addSpacing = (value, spacing) => {\n    return [...value]\n        .map((s, i) => i > 0 && (value.length - i) % spacing.digits === 0\n        ? `${spacing.character}${s}`\n        : s)\n        .join(\"\");\n};\nexport default class PositiveNumberBase {\n    constructor(name, symbols, emojis, spacing, width = 0) {\n        this.name = name;\n        this.symbols = symbols;\n        this.base = this.symbols.length;\n        this.emojis = emojis;\n        this.spacing = spacing;\n        this.width = width;\n        this.max = Math.pow(2, this.width);\n        this.min = 0;\n    }\n    toString(value) {\n        return addSpacing(this.toDigits(value).join(\"\"), this.spacing);\n    }\n    toDigits(value) {\n        const digits = [];\n        // Successive division, using remainder to figure out next digit\n        // Works out from LSD to MSD\n        let divValue = value;\n        while (divValue > 0) {\n            const remainder = divValue % this.base;\n            digits.unshift(this.symbols[remainder]);\n            divValue = Math.floor(divValue / this.base);\n        }\n        // Add any required padding\n        while (digits.length < this.width) {\n            digits.unshift(this.symbols[0]);\n        }\n        return digits;\n    }\n    fromDigits(digits) {\n        return this.fromString(digits.join(\"\"));\n    }\n    fromString(asStringWithSpacing) {\n        const asString = asStringWithSpacing.replace(this.spacing.character, \"\");\n        let value = 0;\n        let placeValue = 1;\n        Array.from(asString)\n            .reverse()\n            .forEach((digit) => {\n            const indexOf = this.symbols.indexOf(digit);\n            value += indexOf * placeValue;\n            placeValue *= this.base;\n        });\n        return value;\n    }\n    withWidth(width) {\n        return new PositiveNumberBase(this.name, this.symbols, this.emojis, this.spacing, width);\n    }\n}\nexport const binaryInteger = new PositiveNumberBase(\"Binary\", [\"0\", \"1\"], [\"0\", \"1\"], {\n    character: \" \",\n    digits: 4,\n}, 8);\nexport const denaryInteger = new PositiveNumberBase(\"Denary\", [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"], [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"], {\n    character: \",\",\n    digits: 3,\n}, 1);\nexport const hexadecimalInteger = new PositiveNumberBase(\"Hexadecimal\", [\n    \"0\",\n    \"1\",\n    \"2\",\n    \"3\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"A\",\n    \"B\",\n    \"C\",\n    \"D\",\n    \"E\",\n    \"F\",\n], [\n    \"0\",\n    \"1\",\n    \"2\",\n    \"3\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n], {\n    character: \" \",\n    digits: 2,\n}, 2);\n//# sourceMappingURL=PositiveNumberBase.js.map","import { binaryInteger, addSpacing, } from \"./PositiveNumberBase\";\nexport default class TwosComplement {\n    constructor(name, width) {\n        this.name = name;\n        this.width = width;\n        this.base = 2;\n        this.spacing = binaryInteger.spacing;\n        this.binaryLessOne = binaryInteger.withWidth(width - 1);\n        const logOfWidth = Math.log2(width);\n        if (!Number.isInteger(logOfWidth))\n            throw new Error(`Width must be a power of 2, but is ${width} with log2 of ${logOfWidth}`);\n        this.max = this.binaryLessOne.max - 1;\n        this.min = -this.binaryLessOne.max;\n    }\n    toString(value) {\n        return addSpacing(this.toDigits(value).join(\"\"), this.spacing);\n    }\n    toDigits(value) {\n        if (value >= 0) {\n            return [\"0\", ...this.binaryLessOne.toDigits(value)];\n        }\n        else {\n            const diff = Math.abs(this.min) - Math.abs(value);\n            const diffBin = this.binaryLessOne.toDigits(diff);\n            return [\"1\", ...diffBin];\n        }\n    }\n    fromDigits(digits) {\n        return this.fromString(digits.join(\"\"));\n    }\n    fromString(asStringRaw) {\n        const asString = asStringRaw.replace(this.spacing.character, \"\");\n        if (asString[0] === \"0\") {\n            return this.binaryLessOne.fromString(asStringRaw);\n        }\n        else {\n            const diff = this.binaryLessOne.fromString(asStringRaw.slice(1));\n            return -(Math.abs(this.min) - diff);\n        }\n    }\n    withWidth(width) {\n        return new TwosComplement(this.name, width);\n    }\n}\nexport const signed8bitBinary = new TwosComplement(\"8-bit Twos Complement\", 8);\nexport const signed16bitBinary = new TwosComplement(\"16-bit Twos Complement\", 16);\n//# sourceMappingURL=TwosComplement.js.map","import { addSpacing, hexadecimalInteger, binaryInteger, } from \"./PositiveNumberBase\";\nimport { signed8bitBinary, signed16bitBinary, } from \"./TwosComplement\";\nconst hexSingleDigit = hexadecimalInteger.withWidth(1);\nexport default class TwosComplementHex {\n    constructor(name, twosComplementBinary) {\n        this.name = name;\n        this.width = twosComplementBinary.width / 4;\n        this.base = 16;\n        this.spacing = hexadecimalInteger.spacing;\n        this.twosComplementBinary = twosComplementBinary;\n        this.max = this.twosComplementBinary.max;\n        this.min = this.twosComplementBinary.min;\n    }\n    toString(value) {\n        return addSpacing(this.toDigits(value).join(\"\"), this.spacing);\n    }\n    toDigits(value) {\n        const binDigits = this.twosComplementBinary.toDigits(value);\n        const asBinInteger = binaryInteger.fromDigits(binDigits);\n        let remaining = asBinInteger;\n        const asHex = Array(this.width)\n            .fill(null)\n            .map(() => {\n            const remainder = remaining % 16;\n            remaining = Math.floor(remaining / 16);\n            return hexSingleDigit.toDigits(remainder)[0];\n        })\n            .reverse();\n        return asHex;\n    }\n    fromDigits(digits) {\n        let value = 0;\n        digits\n            .map((d) => hexSingleDigit.fromDigits([d]))\n            .forEach((d) => {\n            value = 16 * value + d;\n        });\n        const asBinIntegerDigits = binaryInteger.toString(value);\n        return this.twosComplementBinary.fromString(asBinIntegerDigits);\n    }\n    fromString(asStringRaw) {\n        const asString = asStringRaw.replace(this.spacing.character, \"\");\n        return this.fromDigits([...asString]);\n    }\n    withWidth(width) {\n        switch (width) {\n            case 4:\n                return new TwosComplementHex(this.name, signed8bitBinary);\n            case 8:\n                return new TwosComplementHex(this.name, signed16bitBinary);\n        }\n        throw new Error(`Unsupported Width ${width} for Twos Complement Hex`);\n    }\n}\nexport const signed8bitHex = new TwosComplementHex(\"8-bit Twos Complement (Hex)\", signed8bitBinary);\nexport const signed16bitHex = new TwosComplementHex(\"16-bit Twos Complement (Hex)\", signed16bitBinary);\n//# sourceMappingURL=TwosComplementHex.js.map","import { createInitialState } from \"../../dataStructures/graph/graphReducer\";\nconst MAX_ITERATIONS = 20;\n/**\n * Utility function to round a number to 2 decimal places.\n * Required enough to warran it's own function, page ranks should be displayed this way.\n *\n * @param x The number to round\n * @returns The rounded number\n */\nexport const roundTo2Dp = (x) => x !== undefined ? parseFloat(x.toFixed(2)) : 0;\nexport const BLANK_PAGE_RANK_STATE = {\n    iterations: 0,\n    graph: createInitialState(),\n    ranks: {},\n    rankHistory: [],\n    dampingFactor: 0.85,\n};\n/**\n * Create an initial state for the page rank algorithm.\n * The returned state object can be used in a reducer, it stores everything successive iterations will need.\n *\n * @param graph The graph which describes the linked pages.\n * @param dampingFactor The damping factor to apply during the page rank iterations\n */\nexport const initialisePageRank = (graph, dampingFactor = 0.85) => {\n    const firstRanks = [...graph.vertices]\n        .reduce((acc, curr) => ({ ...acc, [curr]: 1 }), {});\n    return {\n        iterations: 0,\n        graph,\n        ranks: firstRanks,\n        rankHistory: [firstRanks],\n        dampingFactor,\n    };\n};\n/**\n * Extracts the page rank of a page, rounded to 2 d.p.\n * @param state The page rank state, as yielded by the iterate function\n * @param page The specific page we are interested in\n */\nexport const extractPageRank = ({ ranks }, page) => {\n    return ranks[page];\n};\n/**\n * Processes one iteration of the page rank algorithm.\n * Is a pure function which accepts current state and returns new state after the iteration.\n *\n * @param state The current page rank state\n * @returns The new page rank state\n */\nexport const iteratePageRank = ({ iterations, graph, ranks, rankHistory, dampingFactor, }) => {\n    if (iterations > MAX_ITERATIONS) {\n        return {\n            iterations,\n            graph,\n            ranks,\n            rankHistory,\n            dampingFactor,\n        };\n    }\n    const newRanks = { ...ranks };\n    graph.vertices.forEach((page) => {\n        const rank = graph.edges\n            .filter((edge) => edge.to === page)\n            .map((edge) => edge.from)\n            .map((incoming) => newRanks[incoming] /\n            graph.edges.filter((l) => l.from === incoming)\n                .length)\n            .reduce((acc, curr) => acc + curr, 0);\n        newRanks[page] = 1 - dampingFactor + dampingFactor * rank;\n    });\n    return {\n        iterations: iterations + 1,\n        graph,\n        ranks: newRanks,\n        rankHistory: [...rankHistory, newRanks],\n        dampingFactor,\n    };\n};\n//# sourceMappingURL=pageRank.js.map","import { getInitialLinkedListState, linkedListReducer, linkedListGet, linkedListTraverse, INVALID_PTR } from '../linkedList/linkedListReducer';\nimport { DEFAULT_CAPACITY, LinearDataStructureMessages } from '../linearDataStructure/linearDataStructure';\nexport const getInitialPriorityQueueState = (capacity = DEFAULT_CAPACITY) => getInitialLinkedListState(capacity);\nexport const priorityQueueEnqueue = (state, newItem, priority) => {\n    let insertIndex = INVALID_PTR;\n    const newPrioritisedItem = { value: newItem, priority };\n    linkedListTraverse(state, (item, logicalIndex) => {\n        // Should we insert ahead of this one?\n        if (item.value.priority < priority) {\n            insertIndex = logicalIndex;\n            return true;\n        }\n        return false;\n    });\n    let newState;\n    if (insertIndex === INVALID_PTR) {\n        newState = linkedListReducer(state, { type: 'append', value: newPrioritisedItem });\n    }\n    else {\n        newState = linkedListReducer(state, { type: 'insert', logicalIndex: insertIndex, value: newPrioritisedItem });\n    }\n    return newState;\n};\nexport const priorityQueueDequeue = (state) => linkedListReducer(state, { type: 'remove', logicalIndex: 0 });\nexport const priorityQueuePeek = (state) => ({\n    ...state,\n    lastResult: linkedListGet(state, 0),\n    lastMessage: LinearDataStructureMessages.peeked\n});\n/**\n * Implements a simple Queue (FIFO) in a purely functional style.\n *\n * @param state The current state of the queue.\n * @param action The action to undertake\n * @returns The new state after the action is attempted\n */\nexport const priorityQueueReducer = (state, action) => {\n    switch (action.type) {\n        case 'enqueue': return priorityQueueEnqueue(state, action.value, action.priority);\n        case 'dequeue': return priorityQueueDequeue(state);\n        case 'peek': return priorityQueuePeek(state);\n        case 'reset': return getInitialLinkedListState();\n    }\n};\nexport default priorityQueueReducer;\n//# sourceMappingURL=priorityQueueReducer.js.map","import { priorityQueueEnqueue, priorityQueueDequeue, getInitialPriorityQueueState } from \"../../dataStructures/queue/priorityQueueReducer\";\nimport { getOutgoing } from \"../../dataStructures/graph/graphReducer\";\nimport { EdgeCurrentWeightCalcType, } from \"./types\";\nimport { emptyObserver } from \"../../common\";\nimport { isListEmpty, linkedListRemoveMatch } from \"../../dataStructures/linkedList/linkedListReducer\";\n/**\n * Calls the walkPath generator function and puts all the nodes into an array, returns the array.\n *\n * @param {object[key=node, value={cost: number, viaNode: string}]} shortestPathTree\n * @param {string} destinationNode\n * @returns An array containing the path (walking backwards), it will be empty if no route was found\n */\nfunction getPathTo({ graph, shortestPathTree, node, }) {\n    const path = [];\n    // If there is no available path to the destination, feed back empty list\n    const endpoint = shortestPathTree[node];\n    if (!endpoint || endpoint.viaNode === undefined) {\n        return path;\n    }\n    for (const p of walkPath({ graph, shortestPathTree, node })) {\n        path.push(p);\n    }\n    return path.reverse();\n}\n/**\n * Given a shortestPathTree taken from the dijkstra function below,\n * this walks from one node to another through the shortest path identified\n *\n * @param {object[key=node, value={cost: number, viaNode: string}]} shortestPathTree\n * @param {string} viaNode The start point of the journey\n * @param {string} destinationNode The end point of the journey\n */\nfunction* walkPath({ shortestPathTree, node, }) {\n    while (!!node) {\n        yield node;\n        const thisShortestPath = shortestPathTree[node];\n        if (thisShortestPath === undefined) {\n            break;\n        }\n        node = thisShortestPath.viaNode;\n    }\n}\n// A hueristic that always returns a constant value will have no effect.\nexport const emptyHeuristic = () => 0;\n/**\n * Executes Dijkstras routing algorithm, returning the shortest path tree for the given source node.\n *\n * This algorithm can end early if the toNode is specified, here is a discussion of the validity of this...\n * https://stackoverflow.com/questions/23906530/dijkstras-end-condition\n *\n * This algorithm accepts a heuristic cost function, which allows it to be used\n * to execute the A* algorithm.\n *\n * @param {Graph} graph The graph that contains all the nodes and links\n * @param {string} sourceNode The node we are travelling from\n * @param {string | undefined} destinationNode // The node we are aiming for, can be omitted\n * @param {function} getHeuristicCost // Given a node, returns an estimated remaining cost to the destination.\n * @param {function} observer // Allows the caller to monitor the steps of the algorithm.\n * @returns Shortest Path Tree { [node] : {cost: number, viaNode: string} }\n */\nfunction dijkstras({ graph, sourceNode, destinationNode, getHeuristicCost = emptyHeuristic, observer = emptyObserver, }) {\n    // The output of this function is the shortest path tree, derived by the algorithm.\n    // The caller can then use this tree to derive a path using the getPathTo function above.\n    const shortestPathTree = {};\n    // Build a priority queue, where the nodes are arranged in order of\n    // distance from the source (smallest to largest)\n    let currentDistances = getInitialPriorityQueueState(graph.vertices.length);\n    // Add the 'from' node, it doesn't go via anything, and it's distance is zero\n    currentDistances = priorityQueueEnqueue(currentDistances, {\n        node: sourceNode,\n        viaNode: undefined,\n        cost: 0,\n    }, Infinity);\n    // Add all the other nodes, with a distance of Infinity\n    currentDistances = graph.vertices\n        .filter((node) => node !== sourceNode)\n        .reduce((acc, node) => priorityQueueEnqueue(acc, { node, viaNode: undefined, cost: Infinity }, 0), currentDistances);\n    // Give the observer the START\n    observer({ shortestPathTree, currentDistances, outgoing: [] });\n    // While there are items in the queue to check...\n    while (!isListEmpty(currentDistances)) {\n        // Take the node that is the shortest distance from our source node\n        currentDistances = priorityQueueDequeue(currentDistances);\n        const { lastResult: { value: { value: currentItem } } } = currentDistances;\n        // Work out what amendments to make to the priority queue\n        const outgoing = getOutgoing(graph, currentItem.node)\n            .filter(({ to }) => shortestPathTree[to] === undefined) // only those that aren't in our tree already\n            .map((edge) => {\n            const { to: node, weight } = edge;\n            let totalCost = weight;\n            let calcResult = EdgeCurrentWeightCalcType.unknown;\n            // Remove the matching item from our current known distances\n            // It will either be replaced as is, or replaced with updated details\n            currentDistances = linkedListRemoveMatch(currentDistances, (d) => d.value.node === node);\n            const { lastResult: { value: { value: otherItem, priority: otherPriority } } } = currentDistances;\n            // What is the distance to this other node, from our current node?\n            const newPotentialDistance = currentItem.cost + weight + getHeuristicCost(currentItem.node);\n            // Have we found a shorter route?\n            if (newPotentialDistance < otherItem.cost) {\n                totalCost = newPotentialDistance;\n                // Replace the node with our new distance and via details\n                currentDistances = priorityQueueEnqueue(currentDistances, {\n                    node, cost: newPotentialDistance,\n                    viaNode: currentItem.node\n                }, 1 / newPotentialDistance);\n                calcResult = EdgeCurrentWeightCalcType.shorterRouteFound;\n            }\n            else {\n                totalCost = otherItem.cost;\n                // Just put the current one back\n                currentDistances = priorityQueueEnqueue(currentDistances, otherItem, otherPriority);\n                calcResult = EdgeCurrentWeightCalcType.existingRouteStillQuickest;\n            }\n            return {\n                edge,\n                totalCost,\n                calcResult,\n            };\n        });\n        // Tell any observer the step\n        observer({ currentItem, shortestPathTree, currentDistances, outgoing });\n        // Put this item into our set (using node as a key)\n        shortestPathTree[currentItem.node] = {\n            cost: currentItem.cost,\n            viaNode: currentItem.viaNode\n        };\n        // Have we reached the destination? Quit early\n        if (!!destinationNode && (currentItem.node === destinationNode)) {\n            break;\n        }\n    }\n    // Give the Observer the END\n    observer({ shortestPathTree, currentDistances, outgoing: [] });\n    return shortestPathTree;\n}\nexport { dijkstras, getPathTo, walkPath };\n//# sourceMappingURL=dijkstras.js.map","import { NO_MATCH } from \"../../algorithms/search/common\";\nimport { emptyObserver } from \"../../common\";\n/**\n * Executes a binary search.\n * This is the recursive form of the function.\n *\n * Based on pseudocode from\n * https://www.geeksforgeeks.org/binary-search/\n *\n * @param data The data to search through\n * @param match A function that can be used to compare any item with our criteria\n * @param left The left pointer, bounds this segment (part of the recursion)\n * @param right The right pointer, bounds this segment (part of the recursion)\n */\nfunction binarySearchR(data, searchItem, utilities, left, right) {\n    // Exit condition...\n    if (right < left) {\n        return NO_MATCH;\n    }\n    const { observe = emptyObserver, compare } = utilities;\n    // Calculate the mid point\n    const mid = Math.floor(left + (right - left) / 2);\n    observe(\"Recursing\", { left, right, mid });\n    // Compare the midpoint to our criteria\n    const compareMid = compare(searchItem, data[mid]);\n    // If the element is present in the middle itself\n    if (compareMid === 0) {\n        return mid;\n    }\n    else if (compareMid < 0) {\n        // If element is smaller than mid, then\n        // it can only be present in left subarray\n        return binarySearchR(data, searchItem, utilities, left, mid - 1);\n    }\n    else {\n        // Else the element can only be present\n        // in right subarray\n        return binarySearchR(data, searchItem, utilities, mid + 1, right);\n    }\n}\nfunction binarySearch(data, searchItem, utilities) {\n    return binarySearchR(data, searchItem, utilities, 0, data.length - 1);\n}\nexport default binarySearch;\n//# sourceMappingURL=binarySearch.js.map","import { NO_MATCH } from \"../../algorithms/search/common\";\nimport { emptyObserver } from \"../../common\";\n/**\n * perform a linear search on an array\n *\n * @param {array} data The array\n * @param {function} compare Accepts each item and\n *  returns 0 if its a match,\n * -ve if the item is 'less than'\n * +ve if item is 'greater than'\n * @return {object} The matching item in the array\n */\nfunction linearSearch(data, searchItem, { compare, observe = emptyObserver }) {\n    for (let i = 0; i < data.length; i++) {\n        observe(\"Looking\", { i });\n        if (compare(data[i], searchItem) === 0) {\n            return i;\n        }\n    }\n    return NO_MATCH;\n}\nexport default linearSearch;\n//# sourceMappingURL=linearSearch.js.map","export const ASM_FILE_EXTENSION = '.asm';\nexport var CpuInstructionType;\n(function (CpuInstructionType) {\n    CpuInstructionType[\"label\"] = \"Label\";\n    CpuInstructionType[\"directAddress\"] = \"Direct_Address\";\n    CpuInstructionType[\"namedAddress\"] = \"Named_Address\";\n    CpuInstructionType[\"compute\"] = \"Comute\";\n})(CpuInstructionType || (CpuInstructionType = {}));\nexport var ComputeDestination;\n(function (ComputeDestination) {\n    ComputeDestination[\"M\"] = \"M\";\n    ComputeDestination[\"D\"] = \"D\";\n    ComputeDestination[\"MD\"] = \"MD\";\n    ComputeDestination[\"A\"] = \"A\";\n    ComputeDestination[\"AM\"] = \"AM\";\n    ComputeDestination[\"AD\"] = \"AD\";\n    ComputeDestination[\"AMD\"] = \"AMD\";\n})(ComputeDestination || (ComputeDestination = {}));\nexport var ComputeComputation;\n(function (ComputeComputation) {\n    ComputeComputation[\"ZERO\"] = \"0\";\n    ComputeComputation[\"ONE\"] = \"1\";\n    ComputeComputation[\"NEGATIVE_ONE\"] = \"-1\";\n    ComputeComputation[\"D\"] = \"D\";\n    ComputeComputation[\"A\"] = \"A\";\n    ComputeComputation[\"NOT_D\"] = \"!D\";\n    ComputeComputation[\"NOT_A\"] = \"!A\";\n    ComputeComputation[\"NEGATIVE_D\"] = \"-D\";\n    ComputeComputation[\"NEGATIVE_A\"] = \"-A\";\n    ComputeComputation[\"D_PLUS_ONE\"] = \"D+1\";\n    ComputeComputation[\"D_MINUS_ONE\"] = \"D-1\";\n    ComputeComputation[\"A_PLUS_ONE\"] = \"A+1\";\n    ComputeComputation[\"A_MINUS_ONE\"] = \"A-1\";\n    ComputeComputation[\"D_PLUS_A\"] = \"D+A\";\n    ComputeComputation[\"D_MINUS_A\"] = \"D-A\";\n    ComputeComputation[\"A_MINUS_D\"] = \"A-D\";\n    ComputeComputation[\"D_AND_A\"] = \"D&A\";\n    ComputeComputation[\"D_OR_A\"] = \"D|A\";\n    ComputeComputation[\"M\"] = \"M\";\n    ComputeComputation[\"NOT_M\"] = \"!M\";\n    ComputeComputation[\"M_PLUS_ONE\"] = \"M+1\";\n    ComputeComputation[\"M_MINUS_ONE\"] = \"M-1\";\n    ComputeComputation[\"D_PLUS_M\"] = \"D+M\";\n    ComputeComputation[\"D_MINUS_M\"] = \"D-M\";\n    ComputeComputation[\"M_MINUS_D\"] = \"M-D\";\n    ComputeComputation[\"D_AND_M\"] = \"D&M\";\n    ComputeComputation[\"D_OR_M\"] = \"D|M\";\n})(ComputeComputation || (ComputeComputation = {}));\nexport var ComputeJump;\n(function (ComputeJump) {\n    ComputeJump[\"JGT\"] = \"JGT\";\n    ComputeJump[\"JEQ\"] = \"JEQ\";\n    ComputeJump[\"JGE\"] = \"JGE\";\n    ComputeJump[\"JLT\"] = \"JLT\";\n    ComputeJump[\"JNE\"] = \"JNE\";\n    ComputeJump[\"JLE\"] = \"JLE\";\n    ComputeJump[\"JMP\"] = \"JMP\";\n})(ComputeJump || (ComputeJump = {}));\n//# sourceMappingURL=types.js.map","const COMMENT_STARTS = ['//', '/**', '*', ' *',];\nconst stripComment = (input) => {\n    for (const c of COMMENT_STARTS) {\n        const commentIndex = input.indexOf(c);\n        if (commentIndex !== -1) {\n            return input.substr(0, commentIndex).trim();\n        }\n    }\n    return input.trim();\n};\nexport default stripComment;\n//# sourceMappingURL=stripComment.js.map","import { CpuInstructionType, ComputeComputation, ComputeDestination, ComputeJump, } from \"./types\";\nimport stripComment from \"../stripComment\";\nimport { generateLineRef } from \"../../common\";\nconst LABEL_REGEX = /\\((?<label>[_A-Za-z0-9\\.]+)\\)/;\nconst A_INSTRUCTION_DIRECT_REGEX = /^@(?<address>[0-9]+)\\s*(?:\\/\\/(?<comment>.*)){0,1}$/;\nconst A_INSTRUCTION_NAMED_REGEX = /^@(?<label>[_A-Za-z0-9._]+)\\s*(?:\\/\\/(?<comment>.*)){0,1}$/;\n// https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\nfunction escapeRegExp(input) {\n    return input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n}\nconst createRegExpOptions = (o) => Object.values(o)\n    .map((s) => escapeRegExp(s))\n    .join(\"|\");\nconst DEST_OPTS = createRegExpOptions(ComputeDestination);\nconst COMP_OPTS = createRegExpOptions(ComputeComputation);\nconst JUMP_OPTS = createRegExpOptions(ComputeJump);\nconst C_INSTRUCTION_REGEX = new RegExp(`^(?:(?:(?<destination>${DEST_OPTS})=)|=){0,1}(?<computation>${COMP_OPTS})(?:;(?<jump>${JUMP_OPTS})){0,1}\\\\s*(?:\\/\\/(?<comment>.*)){0,1}$`);\nconst parseHackAsm = (rawLineRef) => {\n    const ref = generateLineRef(rawLineRef);\n    // strip comment\n    const input = stripComment(ref.originalLine);\n    // Blank lines...\n    if (input.length === 0)\n        return;\n    // Is this a label?\n    const label = input.match(LABEL_REGEX);\n    if (label !== null) {\n        return {\n            ref,\n            type: CpuInstructionType.label,\n            label: label.groups.label,\n        };\n    }\n    // Is this an address instruction with direct value?\n    const aDirect = input.match(A_INSTRUCTION_DIRECT_REGEX);\n    if (aDirect !== null) {\n        return {\n            ref,\n            type: CpuInstructionType.directAddress,\n            address: parseInt(aDirect.groups.address, 10),\n        };\n    }\n    // Is this an address instruction with named value?\n    const aNamed = input.match(A_INSTRUCTION_NAMED_REGEX);\n    if (aNamed !== null) {\n        return {\n            ref,\n            type: CpuInstructionType.namedAddress,\n            label: aNamed.groups.label,\n        };\n    }\n    // Is this a computation?\n    const compute = input.match(C_INSTRUCTION_REGEX);\n    if (compute !== null) {\n        return {\n            ref,\n            type: CpuInstructionType.compute,\n            destination: compute.groups.destination,\n            computation: compute.groups.computation,\n            jump: compute.groups.jump,\n        };\n    }\n    throw new Error(`Invalid Hack ASM Line: ${input}`);\n};\nexport default parseHackAsm;\n//# sourceMappingURL=parseHackAsm.js.map","export var VMInstructionType;\n(function (VMInstructionType) {\n    VMInstructionType[VMInstructionType[\"arithmetic\"] = 0] = \"arithmetic\";\n    VMInstructionType[VMInstructionType[\"push\"] = 1] = \"push\";\n    VMInstructionType[VMInstructionType[\"pop\"] = 2] = \"pop\";\n    VMInstructionType[VMInstructionType[\"label\"] = 3] = \"label\";\n    VMInstructionType[VMInstructionType[\"goto\"] = 4] = \"goto\";\n    VMInstructionType[VMInstructionType[\"ifgoto\"] = 5] = \"ifgoto\";\n    VMInstructionType[VMInstructionType[\"function\"] = 6] = \"function\";\n    VMInstructionType[VMInstructionType[\"return\"] = 7] = \"return\";\n    VMInstructionType[VMInstructionType[\"call\"] = 8] = \"call\";\n})(VMInstructionType || (VMInstructionType = {}));\nexport const SYSTEM_INIT_FUNCTION_NAME = 'Sys.init';\nexport const VM_FILE_EXTENSION = '.vm';\nexport const ASM_MEM_SEG_SYMBOL_STACK_PTR = 'SP';\nexport const ASM_MEM_SEG_SYMBOL_LOCAL = 'LCL';\nexport const ASM_MEM_SEG_SYMBOL_LOCAL_EXP = 'LOCAL';\nexport const ASM_MEM_SEG_SYMBOL_ARGUMENTS = 'ARG';\nexport const ASM_MEM_SEG_SYMBOL_ARGUMENTS_EXP = 'ARGUMENT';\nexport const ASM_MEM_SEG_SYMBOL_THIS = 'THIS';\nexport const ASM_MEM_SEG_SYMBOL_THAT = 'THAT';\nexport const ASM_MEM_SEG_SYMBOL_TEMP = 'Temp';\nexport const MEM_ADDRESS_STACK_PTR = 0;\nexport const MEM_SEG_ADDRESS_ARGUMENTS = 2;\nexport const MEM_SEG_ADDRESS_LOCAL = 1;\nexport const MEM_SEG_ADDRESS_THIS = 3;\nexport const MEM_SEG_ADDRESS_THAT = 4;\nexport const MEM_SEG_TEMP_START = 5;\nexport const MEM_SEG_TEMP_LENGTH = 8;\nexport var VMArithmeticOperation;\n(function (VMArithmeticOperation) {\n    VMArithmeticOperation[\"add\"] = \"add\";\n    VMArithmeticOperation[\"sub\"] = \"sub\";\n    VMArithmeticOperation[\"neg\"] = \"neg\";\n    VMArithmeticOperation[\"eq\"] = \"eq\";\n    VMArithmeticOperation[\"gt\"] = \"gt\";\n    VMArithmeticOperation[\"lt\"] = \"lt\";\n    VMArithmeticOperation[\"and\"] = \"and\";\n    VMArithmeticOperation[\"or\"] = \"or\";\n    VMArithmeticOperation[\"not\"] = \"not\";\n})(VMArithmeticOperation || (VMArithmeticOperation = {}));\nexport var VMSegment;\n(function (VMSegment) {\n    VMSegment[\"local\"] = \"local\";\n    VMSegment[\"argument\"] = \"argument\";\n    VMSegment[\"this\"] = \"this\";\n    VMSegment[\"that\"] = \"that\";\n    VMSegment[\"constant\"] = \"constant\";\n    VMSegment[\"static\"] = \"static\";\n    VMSegment[\"pointer\"] = \"pointer\";\n    VMSegment[\"temp\"] = \"temp\";\n})(VMSegment || (VMSegment = {}));\n//# sourceMappingURL=types.js.map","import { CpuInstructionType, } from \"./types\";\nconst generateHackAsm = (input, registers = {}) => {\n    switch (input.type) {\n        case CpuInstructionType.directAddress:\n            return `@${input.address}`;\n        case CpuInstructionType.namedAddress:\n            return `@${input.label in registers\n                ? registers[input.label]\n                : input.label}`;\n        case CpuInstructionType.label:\n            return `(${input.label})`;\n        case CpuInstructionType.compute:\n            return `${input.destination ? `${input.destination}=` : ``}${input.computation}${input.jump ? `;${input.jump}` : \"\"}`;\n    }\n};\nexport default generateHackAsm;\n//# sourceMappingURL=generateHackAsm.js.map","import AbstractMemorySegment from \"./MemorySegment\";\nexport const generateTempRegisterName = (index) => `R${index + 5}`;\n/**\n * Implements memory segments which are simply arrays located within the CPU memory.\n * POP\n * addr = firstAddress + i, SP--, *addr=*SP\n *\n * PUSH\n * addr = firstAddress + i, *SP = *addr, SP++\n */\nclass MemorySegmentTemp extends AbstractMemorySegment {\n    constructor(memory, stack, firstAddress, length) {\n        super(memory, stack);\n        this.firstAddress = firstAddress;\n        this.lastAddress = this.firstAddress + length;\n        for (let i = 0; i < length; i++) {\n            memory.labels[generateTempRegisterName(i)] = i + this.firstAddress;\n        }\n    }\n    getAddress(index) {\n        const address = this.firstAddress + index;\n        if (address > this.lastAddress) {\n            throw new Error(`This segment does not contain enough registers to access ${index}`);\n        }\n        return address;\n    }\n    toString() {\n        return Array(this.lastAddress - this.firstAddress).fill(null).map((_, i) => this.get(i)).join(', ');\n    }\n}\nexport default MemorySegmentTemp;\n//# sourceMappingURL=MemorySegmentTemp.js.map","import { generateTempRegisterName } from \"../virtualMachine/MemorySegments/MemorySegmentTemp\";\nimport { ASM_MEM_SEG_SYMBOL_ARGUMENTS, ASM_MEM_SEG_SYMBOL_ARGUMENTS_EXP, ASM_MEM_SEG_SYMBOL_LOCAL, ASM_MEM_SEG_SYMBOL_LOCAL_EXP, ASM_MEM_SEG_SYMBOL_STACK_PTR, ASM_MEM_SEG_SYMBOL_THAT, ASM_MEM_SEG_SYMBOL_THIS, MEM_ADDRESS_STACK_PTR, MEM_SEG_ADDRESS_ARGUMENTS, MEM_SEG_ADDRESS_LOCAL, MEM_SEG_ADDRESS_THAT, MEM_SEG_ADDRESS_THIS, MEM_SEG_TEMP_LENGTH, MEM_SEG_TEMP_START } from \"../virtualMachine/types\";\nconst DEFAULT_VALUE = 0;\nconst MEMORY_SIZE = Math.pow(2, 15);\nexport const VARIABLE_START = 0x10;\nexport const SCREEN = 0x4000;\nexport const KBD = 0x6000;\nclass RAMSimulator {\n    constructor(size = MEMORY_SIZE) {\n        this.size = size;\n        this.labels = {};\n        this.reset();\n    }\n    setLabel(name, value) {\n        this.labels[name.toUpperCase()] = value;\n    }\n    reset() {\n        this.contents = [];\n        this.labels = {\n            ...Array(16)\n                .fill(null)\n                .map((_, i) => `R${i}`)\n                .reduce((acc, curr, i) => ({ ...acc, [curr]: i }), {}),\n            SCREEN,\n            KBD,\n        };\n        this.nextNamedRegisterAddress = VARIABLE_START;\n        // These are the named registers required by the Virtual Machine\n        this.labels[ASM_MEM_SEG_SYMBOL_STACK_PTR] = MEM_ADDRESS_STACK_PTR;\n        this.labels[ASM_MEM_SEG_SYMBOL_LOCAL] = MEM_SEG_ADDRESS_LOCAL;\n        this.labels[ASM_MEM_SEG_SYMBOL_LOCAL_EXP] = MEM_SEG_ADDRESS_LOCAL;\n        this.labels[ASM_MEM_SEG_SYMBOL_ARGUMENTS] = MEM_SEG_ADDRESS_ARGUMENTS;\n        this.labels[ASM_MEM_SEG_SYMBOL_ARGUMENTS_EXP] = MEM_SEG_ADDRESS_ARGUMENTS;\n        this.labels[ASM_MEM_SEG_SYMBOL_THIS] = MEM_SEG_ADDRESS_THIS;\n        this.labels[ASM_MEM_SEG_SYMBOL_THAT] = MEM_SEG_ADDRESS_THAT;\n        for (let i = 0; i < MEM_SEG_TEMP_LENGTH; i++) {\n            this.setLabel(generateTempRegisterName(i), i + MEM_SEG_TEMP_START);\n        }\n    }\n    checkIndex(index) {\n        if (index < 0 || index >= this.size)\n            throw new Error(`Invalid memory address ${index}`);\n    }\n    setLabelled(label, ...values) {\n        const index = this.getOrCreateLabel(label);\n        this.set(index, ...values);\n    }\n    set(index, ...values) {\n        this.checkIndex(index);\n        values.forEach((value, i) => (this.contents[index + i] = value));\n    }\n    getLabelled(label) {\n        const index = this.getOrCreateLabel(label);\n        return this.get(index);\n    }\n    get(index) {\n        this.checkIndex(index);\n        return this.contents[index] || DEFAULT_VALUE;\n    }\n    getOrCreateLabel(rawLabel) {\n        const label = rawLabel.toUpperCase();\n        if (!(label in this.labels)) {\n            // Create new variable from 16 onwards\n            this.labels[label] = this.nextNamedRegisterAddress;\n            this.nextNamedRegisterAddress++;\n        }\n        return this.labels[label];\n    }\n    toString(...windows) {\n        return `RAM:\n    ${windows.map(w => `${w.start}-${w.end}: ` + Array(w.end - w.start + 1).fill(null).map((_, i) => this.get(i + w.start)).join(', ')).join('\\n\\t')}\n        \\nNamed Registers:\n${Object.entries(this.labels)\n            .map(([key, value]) => `\\t${key}=${value.toString(10)}`)\n            .join(\",\")}`;\n    }\n}\nexport default RAMSimulator;\n//# sourceMappingURL=RAMSimulator.js.map","export var CpuTestInstructionType;\n(function (CpuTestInstructionType) {\n    CpuTestInstructionType[\"setNamedRegisterIndex\"] = \"Set Named Register (index)\";\n    CpuTestInstructionType[\"setNamedRegister\"] = \"Set Named Register\";\n    CpuTestInstructionType[\"ticktock\"] = \"ticktock\";\n    CpuTestInstructionType[\"vmstep\"] = \"VM Step\";\n    CpuTestInstructionType[\"repeat\"] = \"Repeat\";\n    CpuTestInstructionType[\"repeatEnd\"] = \"Repeat END\";\n    CpuTestInstructionType[\"output\"] = \"Output\";\n    CpuTestInstructionType[\"setOutput\"] = \"Set Output\";\n})(CpuTestInstructionType || (CpuTestInstructionType = {}));\nexport const isOutputRam = (testOutput) => {\n    return testOutput.address !== undefined;\n};\n/* tslint:disable:no-empty */\nexport const NO_OP = () => { };\n//# sourceMappingURL=types.js.map","import parseHackAsm from \"./parseHackAsm\";\nimport generateHackAsm from \"./generateHackAsm\";\nimport RAMSimulator from \"./RAMSimulator\";\nimport { CpuInstructionType, ComputeComputation, ComputeDestination, ComputeJump, } from \"./types\";\nconst EMPTY_ALU = {\n    lastComputation: ComputeComputation.ZERO,\n    lastResult: 0,\n    aRegister: 0,\n    dRegister: 0,\n    mContents: 0,\n};\nclass HackCpu {\n    constructor() {\n        this.dataRegister = 0;\n        this.addressRegister = 0;\n        this.programCounter = 0;\n        this.memory = new RAMSimulator();\n        this.program = [];\n        this.alu = { ...EMPTY_ALU };\n        this.reset();\n    }\n    getMemory() {\n        return this.memory;\n    }\n    toString(...windows) {\n        return `D: ${this.dataRegister}\nA: ${this.addressRegister},\nPC: ${this.programCounter} - Next Instruction: ${this.programCounter < this.program.length ? generateHackAsm(this.program[this.programCounter]) : 'OFF THE END'},\n\\nProgram:\n${this.program.map((s, i) => `\\t${i} (${s.ref.originalLineNumber}) - ${generateHackAsm(s)}`).join(\"\\n\")}\nMemory:\n${this.memory.toString(...windows)}\n`;\n    }\n    setPC(value) {\n        this.programCounter = value;\n    }\n    setA(value) {\n        this.addressRegister = value;\n    }\n    setD(value) {\n        this.dataRegister = value;\n    }\n    reset() {\n        this.programCounter = 0;\n        this.dataRegister = 0;\n        this.addressRegister = 0;\n        this.alu = { ...EMPTY_ALU };\n        this.memory.reset();\n    }\n    loadParsedProgram(rawInstructions) {\n        this.program = [];\n        while (rawInstructions.length > 0) {\n            const instruction = rawInstructions.shift();\n            if (instruction.type === CpuInstructionType.label) {\n                this.memory.setLabel(instruction.label, this.program.length);\n            }\n            else {\n                this.program.push(instruction);\n            }\n        }\n        // Replace any named register jumps with specific jumps\n        this.program = this.program.map((p) => {\n            if (p.type === CpuInstructionType.namedAddress) {\n                const address = this.memory.getOrCreateLabel(p.label);\n                return {\n                    ref: p.ref,\n                    type: CpuInstructionType.directAddress,\n                    address,\n                };\n            }\n            return p;\n        });\n    }\n    loadProgram(input) {\n        const rawInstructions = input\n            .map((s, i) => parseHackAsm({ originalLine: s, originalLineNumber: i }))\n            .filter((l) => l !== undefined);\n        this.loadParsedProgram(rawInstructions);\n    }\n    getNextCodeLine() {\n        // Just return if we have run off end of the memory\n        if (this.programCounter >= this.program.length)\n            return undefined;\n        if (this.programCounter < 0)\n            throw new Error(`CPU Program Counter Became Negative ${this.programCounter}`);\n        return this.program[this.programCounter];\n    }\n    tick() {\n        const instruction = this.getNextCodeLine();\n        if (instruction === undefined)\n            return false;\n        // console.log(`CPU Running ${generateHackAsm(instruction)}`)\n        this.executeInstruction(instruction);\n        return true;\n    }\n    executeInstruction(instruction) {\n        switch (instruction.type) {\n            case CpuInstructionType.directAddress:\n                return this.goToDirectAddress(instruction);\n            case CpuInstructionType.compute:\n                return this.compute(instruction);\n            case CpuInstructionType.namedAddress:\n                throw new Error('GoTo Named Address should have been replaced on program load');\n        }\n    }\n    goToDirectAddress({ address }) {\n        this.addressRegister = address;\n        this.programCounter++;\n        return true;\n    }\n    /* tslint:disable:no-bitwise */\n    compute({ computation, destination, jump }) {\n        let result = 0;\n        this.alu.lastComputation = computation;\n        this.alu.aRegister = this.addressRegister;\n        this.alu.dRegister = this.dataRegister;\n        this.alu.mContents = this.memory.get(this.addressRegister);\n        switch (computation) {\n            case ComputeComputation.ZERO:\n                result = 0;\n                break;\n            case ComputeComputation.ONE:\n                result = 1;\n                break;\n            case ComputeComputation.NEGATIVE_ONE:\n                result = -1;\n                break;\n            case ComputeComputation.D:\n                result = this.dataRegister;\n                break;\n            case ComputeComputation.A:\n                result = this.addressRegister;\n                break;\n            case ComputeComputation.NOT_D:\n                result = ~this.dataRegister;\n                break;\n            case ComputeComputation.NOT_A:\n                result = ~this.addressRegister;\n                break;\n            case ComputeComputation.NEGATIVE_D:\n                result = -this.dataRegister;\n                break;\n            case ComputeComputation.NEGATIVE_A:\n                result = -this.addressRegister;\n                break;\n            case ComputeComputation.D_PLUS_ONE:\n                result = this.dataRegister + 1;\n                break;\n            case ComputeComputation.D_MINUS_ONE:\n                result = this.dataRegister - 1;\n                break;\n            case ComputeComputation.A_PLUS_ONE:\n                result = this.addressRegister + 1;\n                break;\n            case ComputeComputation.A_MINUS_ONE:\n                result = this.addressRegister - 1;\n                break;\n            case ComputeComputation.D_PLUS_A:\n                result = this.dataRegister + this.addressRegister;\n                break;\n            case ComputeComputation.D_MINUS_A:\n                result = this.dataRegister - this.addressRegister;\n                break;\n            case ComputeComputation.A_MINUS_D:\n                result = this.addressRegister - this.dataRegister;\n                break;\n            case ComputeComputation.D_AND_A:\n                result = this.dataRegister & this.addressRegister;\n                break;\n            case ComputeComputation.D_OR_A:\n                result = this.dataRegister | this.addressRegister;\n                break;\n            case ComputeComputation.M:\n                result = this.memory.get(this.addressRegister);\n                break;\n            case ComputeComputation.NOT_M:\n                result = ~this.memory.get(this.addressRegister);\n                break;\n            case ComputeComputation.M_PLUS_ONE:\n                result = this.memory.get(this.addressRegister) + 1;\n                break;\n            case ComputeComputation.M_MINUS_ONE:\n                result = this.memory.get(this.addressRegister) - 1;\n                break;\n            case ComputeComputation.D_PLUS_M:\n                result = this.dataRegister + this.memory.get(this.addressRegister);\n                break;\n            case ComputeComputation.D_MINUS_M:\n                result = this.dataRegister - this.memory.get(this.addressRegister);\n                break;\n            case ComputeComputation.M_MINUS_D:\n                result = this.memory.get(this.addressRegister) - this.dataRegister;\n                break;\n            case ComputeComputation.D_AND_M:\n                result = this.dataRegister & this.memory.get(this.addressRegister);\n                break;\n            case ComputeComputation.D_OR_M:\n                result = this.dataRegister | this.memory.get(this.addressRegister);\n                break;\n        }\n        this.alu.lastResult = result;\n        switch (destination) {\n            case ComputeDestination.M:\n                this.memory.set(this.addressRegister, result);\n                break;\n            case ComputeDestination.D:\n                this.dataRegister = result;\n                break;\n            case ComputeDestination.MD:\n                this.memory.set(this.addressRegister, result);\n                this.dataRegister = result;\n                break;\n            case ComputeDestination.A:\n                this.addressRegister = result;\n                break;\n            case ComputeDestination.AM:\n                this.addressRegister = result;\n                this.memory.set(this.addressRegister, result);\n                break;\n            case ComputeDestination.AD:\n                this.addressRegister = result;\n                this.dataRegister = result;\n                break;\n            case ComputeDestination.AMD:\n                this.addressRegister = result;\n                this.memory.set(this.addressRegister, result);\n                this.dataRegister = result;\n                break;\n        }\n        let shouldJump = false;\n        switch (jump) {\n            case ComputeJump.JGT:\n                shouldJump = result > 0;\n                break;\n            case ComputeJump.JEQ:\n                shouldJump = result === 0;\n                break;\n            case ComputeJump.JGE:\n                shouldJump = result >= 0;\n                break;\n            case ComputeJump.JLT:\n                shouldJump = result < 0;\n                break;\n            case ComputeJump.JNE:\n                shouldJump = result !== 0;\n                break;\n            case ComputeJump.JLE:\n                shouldJump = result <= 0;\n                break;\n            case ComputeJump.JMP:\n                shouldJump = true;\n                break;\n        }\n        if (shouldJump) {\n            this.programCounter = this.addressRegister;\n        }\n        else {\n            this.programCounter++;\n        }\n        return true;\n    }\n}\nexport default HackCpu;\n//# sourceMappingURL=HackCpu.js.map","export const HDL_FILE_EXTENSION = '.hdl';\nexport var NandTestInstructionType;\n(function (NandTestInstructionType) {\n    NandTestInstructionType[NandTestInstructionType[\"setPin\"] = 0] = \"setPin\";\n    NandTestInstructionType[NandTestInstructionType[\"setBus\"] = 1] = \"setBus\";\n    NandTestInstructionType[NandTestInstructionType[\"eval\"] = 2] = \"eval\";\n    NandTestInstructionType[NandTestInstructionType[\"output\"] = 3] = \"output\";\n    NandTestInstructionType[NandTestInstructionType[\"setOutput\"] = 4] = \"setOutput\";\n})(NandTestInstructionType || (NandTestInstructionType = {}));\n//# sourceMappingURL=types.js.map","export const binaryToNumber = (binary) => binary\n    .map((b) => (b ? 1 : 0))\n    .reduce((acc, curr, i) => acc + curr * Math.pow(2, i));\nexport const numberToBinary = (value, minWidth) => {\n    const bin = [];\n    while (value > 0) {\n        bin.push(value % 2 !== 0);\n        value = Math.floor(value / 2);\n    }\n    while (bin.length < minWidth) {\n        bin.push(false);\n    }\n    return bin;\n};\nexport const boolToBin = (v) => {\n    if (v === undefined)\n        return \"-\";\n    if (v === true)\n        return \"1\";\n    if (v === false)\n        return \"0\";\n};\nexport const binToBool = (v) => v === \"1\";\nexport const binaryToBoolArray = (input) => input\n    .split(\"\")\n    .filter((i) => i !== \" \")\n    .map(binToBool)\n    .reverse();\nexport const booleanToBinArray = (input) => input.map(boolToBin).reverse().join(\"\");\n//# sourceMappingURL=simpleBinary.js.map","import { boolToBin } from \"../../dataRepresentation/numberBases/simpleBinary\";\nimport stripComment from \"../stripComment\";\nconst LOAD_REGEX = /^(?:load)\\s(?<load>.+)(?:,|;)$/;\nconst OUTPUT_FILE_REGEX = /^(?:output\\-file)\\s(?<outputFile>.+)(?:,|;)$/;\nconst COMPARE_TO_REGEX = /^(?:compare\\-to)\\s(?<compareTo>.+)(?:,|;)$/;\nconst OUTPUT_RAM_FRAGMENT_REGEX = /^(?:RAM\\[)(?<address>[0-9]+)(?:\\]\\%(?<format>[A-Z]))(?<spacing>(?:[0-9]\\.)*(?:[0-9]+))$/;\nconst OUTPUT_VAR_FRAGMENT_REGEX = /^(?<variable>[^\\%\\%\\[\\]]+)\\%(?<format>[A-Z])(?<spacing>(?:[0-9]\\.)*(?:[0-9]+))$/;\nconst OUTPUT_REGEX = /^\\s*(output;)$/;\nconst REQUIRED_FILE_REGEXES = {\n    load: LOAD_REGEX,\n    outputFile: OUTPUT_FILE_REGEX,\n    compareTo: COMPARE_TO_REGEX,\n};\nexport const parseRequiredFile = (rawInput, name) => {\n    const input = stripComment(rawInput);\n    const match = input.match(REQUIRED_FILE_REGEXES[name]);\n    if (!!match) {\n        return match.groups[name];\n    }\n};\nconst OUTPUT_LIST_START = 'output-list ';\nconst CODE_LINE_END = ';';\nexport const isStartOfOutput = (rawInput) => stripComment(rawInput).startsWith(OUTPUT_LIST_START);\nexport const parseOutputFormat = (rawInput, startedCollectingOutput, results) => {\n    const input = stripComment(rawInput);\n    const isValidOutput = startedCollectingOutput || input.startsWith(OUTPUT_LIST_START);\n    const stillCollecting = !input.endsWith(CODE_LINE_END);\n    if (isValidOutput) {\n        const parts = input.replace(OUTPUT_LIST_START, '')\n            .replace(CODE_LINE_END, '')\n            .split(' ')\n            .map(t => t.trim());\n        parts\n            .map((p) => p.match(OUTPUT_RAM_FRAGMENT_REGEX))\n            .filter((m) => m !== null)\n            .map((m) => ({\n            heading: `RAM[${m.groups.address}]`,\n            address: parseInt(m.groups.address, 10),\n            format: m.groups.format,\n            spacing: m.groups.spacing.split(\".\").map((s) => parseInt(s, 10)),\n        }))\n            .forEach((of) => results.push(of));\n        parts\n            .map((p) => p.match(OUTPUT_VAR_FRAGMENT_REGEX))\n            .filter((m) => m !== null)\n            .map((m) => ({\n            heading: m.groups.variable,\n            variable: m.groups.variable,\n            format: m.groups.format,\n            spacing: m.groups.spacing.split(\".\").map((s) => parseInt(s, 10)),\n        }))\n            .forEach((of) => results.push(of));\n    }\n    return {\n        isValidOutput,\n        stillCollecting\n    };\n};\nexport const parseOutputInstruction = (input) => stripComment(input).match(OUTPUT_REGEX) !== null;\nexport const spacePad = (value, width) => {\n    while (value.length < width) {\n        value = ` ${value}`;\n    }\n    return value;\n};\nconst RADIX_BY_CODE = {\n    D: 10,\n};\nexport const formatString = (value, spacing) => {\n    if (spacing.length === 3) {\n        return `${spacePad(\"\", spacing[0])}${spacePad(value, spacing[1])}${spacePad(\"\", spacing[2])}`;\n    }\n    // Not sure, just dump out the value\n    return value.toString();\n};\nexport const formatNumber = (value, format, spacing) => formatString(value.toString(RADIX_BY_CODE[format]), spacing);\nexport const formatBoolean = (value, format, spacing) => formatString(boolToBin(value), spacing);\n//# sourceMappingURL=parseTestScripts.js.map","import { CpuTestInstructionType } from \"../TestScripts/types\";\nimport Stack from \"../../dataStructures/stack/Stack\";\nimport { isStartOfOutput, parseOutputFormat, parseOutputInstruction, parseRequiredFile } from \"../TestScripts/parseTestScripts\";\nimport stripComment from \"../stripComment\";\nconst SET_NAMED_REGISTER_AT_INDEX_REGEX = /^(set\\s(?<namedRegister>[A-Za-z]+)\\[)(?<index>[0-9]+)+(\\]\\s)(?<value>\\-{0,1}[0-9]+)(,|;)\\s*(?:\\/\\/(?<comment>.*)){0,1}$/;\nconst SET_NAMED_REGISTER_REGEX = /^(set\\s(?<namedRegister>[A-Za-z]+)\\s)(?<value>[0-9]+)(,|;)\\s*(?:\\/\\/(?<comment>.*)){0,1}$/;\nconst TICKTOCK_REGEX = /^\\s*(ticktock;)$/;\nconst VMSTEP_REGEX = /^\\s*(vmstep;)$/;\nconst REPEAT_START_REGEX = /^\\s*(?:repeat)\\s*(?<count>[0-9]+)\\s*(?:\\{)\\s*(?:\\/\\/(?<comment>.*)){0,1}$/;\nconst REPEAT_END_REGEX = /^\\s*(\\})\\s*$/;\nconst LOAD_ALL_REGEX = /^\\s*(load)[;,]{0,1}\\s*$/;\nexport const parseSetNamedRegisterAtIndex = (input, lineNumber) => {\n    const match = input.match(SET_NAMED_REGISTER_AT_INDEX_REGEX);\n    if (!!match) {\n        return {\n            type: CpuTestInstructionType.setNamedRegisterIndex,\n            lineContent: input,\n            lineNumber,\n            registerName: match.groups.namedRegister,\n            index: parseInt(match.groups.index, 10),\n            value: parseInt(match.groups.value, 10),\n        };\n    }\n    return;\n};\nexport const parseSetNamedRegister = (input, lineNumber) => {\n    const match = input.match(SET_NAMED_REGISTER_REGEX);\n    if (!!match) {\n        return {\n            type: CpuTestInstructionType.setNamedRegister,\n            lineContent: input,\n            lineNumber,\n            registerName: match.groups.namedRegister,\n            value: parseInt(match.groups.value, 10),\n        };\n    }\n    return;\n};\nexport const parseTickTockInstruction = (input) => input.match(TICKTOCK_REGEX) !== null;\nexport const parseVmStepInstruction = (input) => input.match(VMSTEP_REGEX) !== null;\nexport const parseLoadAllInstruction = (input) => input.match(LOAD_ALL_REGEX) !== null;\nexport const parseRepeatStart = (input, lineNumber) => {\n    const match = input.match(REPEAT_START_REGEX);\n    if (!!match) {\n        return {\n            type: CpuTestInstructionType.repeat,\n            lineNumber,\n            lineContent: input,\n            count: parseInt(match.groups.count, 10),\n            instructions: [],\n        };\n    }\n    return;\n};\nexport const parseRepeatEnd = (input) => input.match(REPEAT_END_REGEX) !== null;\nexport const parseTestScript = (input) => {\n    let outputFile;\n    let compareTo;\n    let load;\n    let loadAll;\n    let outputList = [];\n    const testInstructions = [];\n    const stackInstructions = new Stack();\n    stackInstructions.push(testInstructions);\n    let stillCollectingOutput = true;\n    let startedCollectingOutput = false;\n    input\n        .map((s, i) => ({ lineContent: stripComment(s), lineNumber: i }))\n        .filter(({ lineContent }) => lineContent.length > 0) // Get rid of empty lines\n        .forEach(({ lineContent, lineNumber }) => {\n        // Check for load file (if not already seen)\n        const checkLoad = parseRequiredFile(lineContent, \"load\");\n        if (!!checkLoad) {\n            load = checkLoad;\n            return;\n        }\n        const checkLoadAll = parseLoadAllInstruction(lineContent);\n        if (checkLoadAll) {\n            loadAll = true;\n            return;\n        }\n        // Check for output file (if not already seen)\n        const checkOutputFile = parseRequiredFile(lineContent, \"outputFile\");\n        if (!!checkOutputFile) {\n            outputFile = checkOutputFile;\n            return;\n        }\n        // Check for output file (if not already seen)\n        if (!compareTo) {\n            compareTo = parseRequiredFile(lineContent, \"compareTo\");\n            if (!!compareTo)\n                return;\n        }\n        // Now we are into commands\n        // Repeat Start\n        const repeatCommand = parseRepeatStart(lineContent, lineNumber);\n        if (!!repeatCommand) {\n            stackInstructions.peek().push(repeatCommand);\n            stackInstructions.push(repeatCommand.instructions);\n            return;\n        }\n        // Repeat End\n        if (parseRepeatEnd(lineContent)) {\n            stackInstructions.pop();\n            return;\n        }\n        // Tick Tock\n        if (parseTickTockInstruction(lineContent)) {\n            const tickTock = {\n                type: CpuTestInstructionType.ticktock,\n                lineContent,\n                lineNumber,\n            };\n            stackInstructions.peek().push(tickTock);\n            return;\n        }\n        if (parseVmStepInstruction(lineContent)) {\n            const vmstep = {\n                type: CpuTestInstructionType.vmstep,\n                lineContent,\n                lineNumber\n            };\n            stackInstructions.peek().push(vmstep);\n            return;\n        }\n        // Output\n        if (parseOutputInstruction(lineContent)) {\n            const output = {\n                type: CpuTestInstructionType.output,\n                lineContent,\n                lineNumber,\n            };\n            stackInstructions.peek().push(output);\n            return;\n        }\n        // Check for Set RAM\n        const setRam = parseSetNamedRegisterAtIndex(lineContent, lineNumber);\n        if (!!setRam) {\n            stackInstructions.peek().push(setRam);\n            return;\n        }\n        // Check for Set PC\n        const setPC = parseSetNamedRegister(lineContent, lineNumber);\n        if (!!setPC) {\n            stackInstructions.peek().push(setPC);\n            return;\n        }\n        // Output format\n        if (isStartOfOutput(lineContent)) {\n            outputList = [];\n        }\n        if (stillCollectingOutput || isStartOfOutput(lineContent)) {\n            const { isValidOutput, stillCollecting } = parseOutputFormat(lineContent, startedCollectingOutput, outputList);\n            stillCollectingOutput = stillCollecting;\n            if (!stillCollecting) {\n                const setOutput = {\n                    type: CpuTestInstructionType.setOutput,\n                    outputList,\n                    lineContent,\n                    lineNumber,\n                };\n                stackInstructions.peek().push(setOutput);\n            }\n            if (isValidOutput) {\n                startedCollectingOutput = true;\n                return;\n            }\n        }\n        // Not recognised in any way...throw error\n        throw new Error(`Invalid test script line: ${lineContent} on line ${lineNumber}`);\n    });\n    return {\n        outputFile,\n        compareTo,\n        load,\n        loadAll,\n        testInstructions,\n    };\n};\n//# sourceMappingURL=hackAsmTestScript.js.map","import Stack from \"../../dataStructures/stack/Stack\";\nimport { readdirSync } from \"fs\";\nexport default class TestRunner {\n    constructor(objectUnderTest, directory, fileLoader, scriptParser, sourceFileExtension) {\n        this.fileLoader = fileLoader;\n        this.directory = directory;\n        this.objectUnderTest = objectUnderTest;\n        this.scriptParser = scriptParser;\n        this.allFilesInDirectory = readdirSync(this.directory).filter(d => d.endsWith(sourceFileExtension));\n    }\n    reset() {\n        this.testOutput = [];\n        this.commandStack = new Stack();\n        this.commandStack.push([...this.testScript.testInstructions]);\n        this.compareTo = this.fileLoader(this.directory, this.testScript.compareTo);\n        this.currentOutputList = [];\n    }\n    loadScript(data) {\n        this.testScript = this.scriptParser(data);\n        const programs = [];\n        if (!!this.testScript.load) {\n            programs.push({\n                filename: this.testScript.load,\n                contents: this.fileLoader(this.directory, this.testScript.load)\n            });\n        }\n        else if (!!this.testScript.loadAll) {\n            this.allFilesInDirectory.forEach(p => programs.push({\n                filename: p,\n                contents: this.fileLoader(this.directory, p)\n            }));\n        }\n        this.loadPrograms(...programs);\n        this.reset();\n    }\n    addToLog(log, check = true) {\n        if (this.testOutput.length >= this.compareTo.length) {\n            throw new Error(`Too many log lines output from test, expecting ${this.compareTo.length}`);\n        }\n        if (check) {\n            // Check against compareTo\n            const nextCompareLine = this.compareTo[this.testOutput.length];\n            if (nextCompareLine !== log) {\n                throw new Error(`Comparing Failure on Line ${this.testOutput.length}\\n\\tExpected: \\'${nextCompareLine}\\'\\n\\tReceived: \\'${log}\\'`);\n            }\n        }\n        // Assume all is good\n        this.testOutput.push(log);\n    }\n    step(toEnd = false) {\n        while (!this.commandStack.isEmpty()) {\n            while (this.commandStack.peek().length > 0) {\n                const instruction = this.commandStack.peek().shift();\n                this.runInstruction(instruction);\n                if (!toEnd)\n                    return; // Just run one command\n            }\n            this.commandStack.pop();\n        }\n    }\n    runToEnd() {\n        this.step(true);\n    }\n}\n//# sourceMappingURL=TestRunner.js.map","import { parseTestScript } from \"./hackAsmTestScript\";\nimport HackCpu from \"./HackCpu\";\nimport { CpuTestInstructionType, } from \"../TestScripts/types\";\nimport { formatNumber, formatString } from \"../TestScripts/parseTestScripts\";\nimport TestRunner from \"../TestScripts/TestRunner\";\nimport { isOutputRam } from \"../TestScripts/types\";\nimport { ASM_FILE_EXTENSION } from \"./types\";\nexport default class HackCpuTestRunner extends TestRunner {\n    constructor(directory, fileLoader) {\n        super(new HackCpu(), directory, fileLoader, parseTestScript, ASM_FILE_EXTENSION);\n    }\n    loadPrograms(...programs) {\n        if (programs.length !== 1)\n            throw new Error('CPU Test Runner can only support a single program file');\n        this.objectUnderTest.loadProgram(programs[0].contents);\n    }\n    runInstruction(instruction) {\n        this.lastInstruction = instruction;\n        switch (instruction.type) {\n            case CpuTestInstructionType.output:\n                return this.handleOutputInstruction();\n            case CpuTestInstructionType.ticktock:\n                return this.handleTickTockInstruction();\n            case CpuTestInstructionType.repeat:\n                return this.handleRepeatInstruction(instruction);\n            case CpuTestInstructionType.setNamedRegisterIndex:\n                return this.handleSetNamedRegisterAtIndexInstruction(instruction);\n            case CpuTestInstructionType.setNamedRegister:\n                return this.handleSetNamedRegisterInstruction(instruction);\n            case CpuTestInstructionType.setOutput:\n                return this.handleSetOutputInstruction(instruction);\n        }\n    }\n    handleSetOutputInstruction(instruction) {\n        this.currentOutputList = instruction.outputList;\n        const log = this.currentOutputList\n            .map(({ heading, spacing }) => formatString(heading, spacing))\n            .join(\"|\");\n        this.addToLog(`|${log}|`, false);\n    }\n    handleTickTockInstruction() {\n        this.objectUnderTest.tick();\n    }\n    handleRepeatInstruction({ count, instructions }) {\n        const newNestedInstructions = [];\n        for (let x = 0; x < count; x++) {\n            instructions.forEach((i) => newNestedInstructions.push(i));\n        }\n        this.commandStack.push(newNestedInstructions);\n    }\n    handleSetNamedRegisterAtIndexInstruction({ registerName, index, value }) {\n        if (registerName === 'RAM') {\n            this.objectUnderTest.memory.set(index, value);\n        }\n    }\n    handleSetNamedRegisterInstruction({ value, registerName }) {\n        switch (registerName) {\n            case 'PC':\n                this.objectUnderTest.setPC(value);\n                break;\n        }\n    }\n    handleOutputInstruction() {\n        const log = this.currentOutputList\n            .map((output) => {\n            if (isOutputRam(output)) {\n                const { address, format, spacing } = output;\n                return formatNumber(this.objectUnderTest.memory.get(address), format, spacing);\n            }\n            else {\n                throw new Error(\"Unsupported method, outputting variables from Hack CPU\");\n            }\n        })\n            .join(\"|\");\n        this.addToLog(`|${log}|`);\n    }\n}\n//# sourceMappingURL=HackCpuTestRunner.js.map","import { NO_OP } from \"../../../computation/TestScripts/types\";\nexport class BinaryPin {\n    constructor(receivers = []) {\n        this.receivers = [];\n        receivers.forEach((r) => this.receivers.push(r));\n        this.newOutputObserver = NO_OP;\n        this.newValueObserver = NO_OP;\n    }\n    withNewOutputObserver(o) {\n        this.newOutputObserver = o;\n        return this;\n    }\n    withNewValueObserver(o) {\n        this.newValueObserver = o;\n        return this;\n    }\n    connectRecipient(...receivers) {\n        receivers.forEach((r) => this.receivers.push(r));\n        this.newOutputObserver();\n        return this;\n    }\n    send(newValue, force = false) {\n        if (force || !this.lastOutput || newValue !== this.lastOutput) {\n            this.lastOutput = newValue;\n            this.receivers.forEach((r) => r.send(newValue));\n            this.newValueObserver();\n        }\n        return this;\n    }\n}\nexport default BinaryPin;\n//# sourceMappingURL=BinaryPin.js.map","import BinaryPin from \"./BinaryPin\";\nclass Chip {\n    constructor(name, inputs, outputs) {\n        this.name = name;\n        this.inputs = inputs;\n        this.outputs = outputs;\n        this.pins = {};\n        this.buses = {};\n    }\n    createPin(name, ...pins) {\n        if (name in this.pins)\n            throw new Error(`Pin already exists on ${this.name}: ${name}`);\n        // Single output\n        if (pins.length === 1) {\n            this.pins[name] = pins[0];\n            return;\n        }\n        // Multiple Outputs, create a splitter\n        if (pins.length > 1) {\n            this.pins[name] = new BinaryPin().connectRecipient(...pins);\n            return;\n        }\n    }\n    createBus(name, bus) {\n        if (name in this.buses)\n            throw new Error(`Pin already exists on ${this.name}: ${name}`);\n        this.buses[name] = bus;\n    }\n    getBus(name) {\n        if (!(name in this.buses))\n            throw new Error(`Output Bus ${name} doesn't exist on ${this.name}`);\n        return this.buses[name];\n    }\n    getPin(name, index = 0) {\n        if (name in this.pins && index === 0) {\n            return this.pins[name];\n        }\n        if (name in this.buses) {\n            return this.buses[name].getPin(index);\n        }\n        throw new Error(`Could not find pin called ${name} at ${index} on ${this.name}`);\n    }\n}\nexport default Chip;\n//# sourceMappingURL=Chip.js.map","export const WORD_LENGTH = 16;\nexport const ZERO_WORD = Array(WORD_LENGTH).fill(false);\n// Arrays need reversing, binary numbers are read right to left\nexport const getTestName = (parameters) => Object.entries(parameters)\n    .map(([k, v]) => `${k}=${v}`)\n    .join(\", \");\nexport const generateRandomBinary = (width) => Array(width)\n    .fill(null)\n    .map(() => Math.random() > 0.5);\nexport const generateRandomWord = () => generateRandomBinary(WORD_LENGTH);\nexport const PIN_A = \"a\";\nexport const PIN_B = \"b\";\nexport const PIN_INPUT = \"in\";\nexport const PIN_OUTPUT = \"out\";\nexport const PIN_SELECTOR = \"sel\";\nexport const PIN_LOAD = \"load\";\nexport const PIN_ADDRESS = \"address\";\n//# sourceMappingURL=types.js.map","import BinaryPin from \"../../BinaryPin\";\nimport Chip from \"../../Chip\";\nimport { PIN_A, PIN_B, PIN_OUTPUT } from \"../../types\";\nclass Nand extends Chip {\n    constructor() {\n        super(\"Nand\", [PIN_A, PIN_B], [PIN_OUTPUT]);\n        this.a = new BinaryPin().withNewValueObserver(() => this.updateValue());\n        this.b = new BinaryPin().withNewValueObserver(() => this.updateValue());\n        this.output = new BinaryPin().withNewOutputObserver(() => this.updateValue(true));\n        this.updateValue();\n        this.createPin(PIN_A, this.a);\n        this.createPin(PIN_B, this.b);\n        this.createPin(PIN_OUTPUT, this.output);\n    }\n    updateValue(force = false) {\n        // This is the only logical expression we calculate natively, everything else is combinations of this!!!\n        const newValue = !(this.a.lastOutput && this.b.lastOutput);\n        this.output.send(newValue, force);\n    }\n}\nexport default Nand;\n//# sourceMappingURL=Nand.js.map","import Nand from \"../../Logic/Nand\";\nimport Chip from \"../../Chip\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT } from \"../../types\";\n/**\n * Not gate:\n * out = not in\n */\n//  CHIP Not {\n//     IN in;\n//     OUT out;\n//     PARTS:\n//     Nand(a=in, b=in, out=out);\n// }\nclass Not extends Chip {\n    constructor() {\n        super(\"Not\", [PIN_INPUT], [PIN_OUTPUT]);\n        this.nand = new Nand();\n        // External Wiring\n        this.createPin(PIN_INPUT, this.nand.getPin(PIN_A), this.nand.getPin(PIN_B));\n        this.createPin(PIN_OUTPUT, this.nand.getPin(PIN_OUTPUT));\n    }\n}\nexport default Not;\n//# sourceMappingURL=Not.js.map","import Chip from \"../../Chip\";\nimport Nand from \"../Nand\";\nimport Not from \"../Not\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT } from \"../../types\";\n/**\n * And gate:\n * out = 1 if (a == 1 and b == 1)\n *       0 otherwise\n */\n//  CHIP And {\n//   IN a, b;\n//   OUT out;\n//   PARTS:\n//   Nand(a=a, b=b, out=notAandB);\n//   Not(in=notAandB, out=out);\n// }\nclass And extends Chip {\n    constructor() {\n        super(\"And\", [PIN_A, PIN_B], [PIN_OUTPUT]);\n        this.nand = new Nand();\n        this.not = new Not();\n        // Internal Wiring\n        this.nand.getPin(PIN_OUTPUT).connectRecipient(this.not.getPin(PIN_INPUT));\n        // External wiring\n        this.createPin(PIN_A, this.nand.getPin(PIN_A));\n        this.createPin(PIN_B, this.nand.getPin(PIN_B));\n        this.createPin(PIN_OUTPUT, this.not.getPin(PIN_OUTPUT));\n    }\n}\nexport default And;\n//# sourceMappingURL=And.js.map","import Not from \"../Not\";\nimport Nand from \"../Nand\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT } from \"../../types\";\nimport Chip from \"../../Chip\";\n/**\n * Or gate:\n * out = 1 if (a == 1 or b == 1)\n *       0 otherwise\n */\n//   CHIP Or {\n//     IN a, b;\n//     OUT out;\n//     PARTS:\n//     // Put your code here:\n//     Not(in=a, out=notA);\n//     Not(in=b, out=notB);\n//     Nand(a=notA, b=notB, out=out);\n// }\nclass Or extends Chip {\n    constructor() {\n        super(\"Or\", [PIN_A, PIN_B], [PIN_OUTPUT]);\n        this.nandNotA = new Not();\n        this.nandNotB = new Not();\n        this.nandNotANotB = new Nand();\n        // Internal Wiring\n        this.nandNotA.getPin(PIN_OUTPUT).connectRecipient(this.nandNotANotB.getPin(PIN_A));\n        this.nandNotB.getPin(PIN_OUTPUT).connectRecipient(this.nandNotANotB.getPin(PIN_B));\n        // External Wiring\n        this.createPin(PIN_A, this.nandNotA.getPin(PIN_INPUT));\n        this.createPin(PIN_B, this.nandNotB.getPin(PIN_INPUT));\n        this.createPin(PIN_OUTPUT, this.nandNotANotB.getPin(PIN_OUTPUT));\n    }\n}\nexport default Or;\n//# sourceMappingURL=Or.js.map","/**\n * Exclusive-or gate:\n * out = not (a == b)\n */\nimport And from \"../../Logic/And\";\nimport Chip from \"../../Chip\";\nimport Not from \"../../Logic/Not\";\nimport Or from \"../../Logic/Or\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT } from \"../../types\";\n//  CHIP Xor {\n//     IN a, b;\n//     OUT out;\n//     PARTS:\n//     Not (in=a, out=nota);\n//     Not (in=b, out=notb);\n//     And (a=a, b=notb, out=aAndNotb);\n//     And (a=nota, b=b, out=notaAndb);\n//     Or (a=aAndNotb, b=notaAndb, out=out);\n// }\nclass Xor extends Chip {\n    constructor() {\n        super(\"Xor\", [PIN_A, PIN_B], [PIN_OUTPUT]);\n        this.notA = new Not();\n        this.notB = new Not();\n        this.aAndNotB = new And();\n        this.notaAndB = new And();\n        this.outOr = new Or();\n        // Internal Wiring\n        this.notA.getPin(PIN_OUTPUT).connectRecipient(this.notaAndB.getPin(PIN_A));\n        this.notB.getPin(PIN_OUTPUT).connectRecipient(this.aAndNotB.getPin(PIN_B));\n        this.aAndNotB.getPin(PIN_OUTPUT).connectRecipient(this.outOr.getPin(PIN_A));\n        this.notaAndB.getPin(PIN_OUTPUT).connectRecipient(this.outOr.getPin(PIN_B));\n        // External Wiring\n        this.createPin(PIN_A, this.notA.getPin(PIN_INPUT), this.aAndNotB.getPin(PIN_A));\n        this.createPin(PIN_B, this.notB.getPin(PIN_INPUT), this.notaAndB.getPin(PIN_B));\n        this.createPin(PIN_OUTPUT, this.outOr.getPin(PIN_OUTPUT));\n    }\n}\nexport default Xor;\n//# sourceMappingURL=Xor.js.map","/**\n * Computes the sum of two bits.\n */\nimport And from \"../../Logic/And\";\nimport Chip from \"../../Chip\";\nimport { PIN_A, PIN_B, PIN_OUTPUT } from \"../../types\";\nimport Xor from \"../../Logic/Xor\";\n//  CHIP HalfAdder {\n//     IN a, b;    // 1-bit inputs\n//     OUT sum,    // Right bit of a + b\n//         carry;  // Left bit of a + b\n//     PARTS:\n//     // Put you code here:\n//     Xor(a=a, b=b, out=sum);\n//     And(a=a, b=b, out=carry);\n// }\nexport const PIN_SUM = \"sum\";\nexport const PIN_CARRY = \"carry\";\nclass HalfAdder extends Chip {\n    constructor() {\n        super(\"HalfAdder\", [PIN_A, PIN_B], [PIN_SUM, PIN_CARRY]);\n        this.sum = new Xor();\n        this.carry = new And();\n        // External Wiring\n        this.createPin(PIN_A, this.sum.getPin(PIN_A), this.carry.getPin(PIN_A));\n        this.createPin(PIN_B, this.sum.getPin(PIN_B), this.carry.getPin(PIN_B));\n        this.createPin(PIN_SUM, this.sum.getPin(PIN_OUTPUT));\n        this.createPin(PIN_CARRY, this.carry.getPin(PIN_OUTPUT));\n    }\n}\nexport default HalfAdder;\n//# sourceMappingURL=HalfAdder.js.map","import And from \"../../Logic/And\";\nimport Chip from \"../../Chip\";\nimport Not from \"../../Logic/Not\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT, PIN_SELECTOR } from \"../../types\";\n/**\n * Demultiplexor:\n * {a, b} = {in, 0} if sel == 0\n *          {0, in} if sel == 1\n */\n//  CHIP DMux {\n//     IN in, sel;\n//     OUT a, b;\n//     PARTS:\n//     // Put your code here:\n//     Not(in=sel, out=notSel);\n//     And(a=in, b=notSel, out=a);\n//     And(a=in, b=sel, out=b);\n// }\nclass Dmux extends Chip {\n    constructor() {\n        super(\"Dmux\", [PIN_INPUT, PIN_SELECTOR], [PIN_A, PIN_B]);\n        this.notSel = new Not();\n        this.inAndNotSel = new And();\n        this.inAndSel = new And();\n        // Internal Wiring\n        this.notSel.getPin(PIN_OUTPUT).connectRecipient(this.inAndNotSel.getPin(PIN_B));\n        // External Wiring\n        this.createPin(PIN_INPUT, this.inAndNotSel.getPin(PIN_A), this.inAndSel.getPin(PIN_A));\n        this.createPin(PIN_SELECTOR, this.notSel.getPin(PIN_INPUT), this.inAndSel.getPin(PIN_B));\n        this.createPin(PIN_A, this.inAndNotSel.getPin(PIN_OUTPUT));\n        this.createPin(PIN_B, this.inAndSel.getPin(PIN_OUTPUT));\n    }\n}\nexport default Dmux;\n//# sourceMappingURL=Dmux.js.map","import BinaryPin from \"./BinaryPin\";\nimport { WORD_LENGTH } from \"./types\";\nexport const createPinArray = (width = WORD_LENGTH) => Array(width)\n    .fill(null)\n    .map(() => new BinaryPin());\nclass BinaryBus {\n    constructor(pins = createPinArray()) {\n        this.pins = pins;\n    }\n    getWidth() {\n        return this.pins.length;\n    }\n    send(values, startIndex = 0) {\n        values.forEach((v, i) => {\n            const index = i + startIndex;\n            if (index >= this.pins.length)\n                throw new Error(`Writing too much data ${values.length} starting at ${startIndex} to bus ${name} which is ${this.pins.length} bits wide`);\n            this.pins[index].send(v);\n        });\n    }\n    getPin(index = 0) {\n        // Is this a pin we have seen before?\n        if (index > this.pins.length || !this.pins[index]) {\n            this.pins[index] = new BinaryPin();\n        }\n        return this.pins[index];\n    }\n    connectPin(pin, index = 0) {\n        if (index > this.pins.length) {\n            throw new Error(`Attempting to connect bus pin ${index} with only ${this.pins.length} available`);\n        }\n        this.pins[index].connectRecipient(pin);\n        return this;\n    }\n    connect(bus, startIndex = 0, endIndex = WORD_LENGTH) {\n        bus.pins.forEach((pin, i) => {\n            const index = startIndex + i;\n            if (index > this.pins.length) {\n                throw new Error(`Attempting to connect bus pin ${index} with only ${this.pins.length} available`);\n            }\n            if (index <= endIndex) {\n                this.pins[index].connectRecipient(pin);\n            }\n        });\n        return this;\n    }\n    getValue() {\n        return this.pins.map((r) => r.lastOutput);\n    }\n}\nexport default BinaryBus;\n//# sourceMappingURL=BinaryBus.js.map","import And from \"../../Logic/And\";\nimport Chip from \"../../Chip\";\nimport Dmux from \"../../Multiplexing/Dmux\";\nimport Not from \"../../Logic/Not\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT, PIN_SELECTOR } from \"../../types\";\nimport BinaryBus from \"../../BinaryBus\";\nimport BinaryPin from \"../../BinaryPin\";\n/**\n * 4-way demultiplexor:\n * {a, b, c, d} = {in, 0, 0, 0} if sel == 00\n *                {0, in, 0, 0} if sel == 01\n *                {0, 0, in, 0} if sel == 10\n *                {0, 0, 0, in} if sel == 11\n */\n//  CHIP DMux4Way {\n//     IN in, sel[2];\n//     OUT a, b, c, d;\n//     PARTS:\n//     Not(in=sel[1], out=notSel1);\n//     And(a=in, b=notSel1, out=inAndNotSel1);\n//     DMux(in=inAndNotSel1, sel=sel[0], a=a, b=b);\n//     And(a=in, b=sel[1], out=inAndSel1);\n//     DMux(in=inAndSel1, sel=sel[0], a=c, b=d);\n// }\nexport const PIN_C = \"c\";\nexport const PIN_D = \"d\";\nclass Dmux4Way extends Chip {\n    constructor() {\n        super(\"Dmux4Way\", [PIN_INPUT, PIN_SELECTOR], [PIN_A, PIN_B, PIN_C, PIN_D]);\n        // in=1, sel=01\n        // Demux AB, CD, sel = sel[0]\n        this.notSel1 = new Not(); // false\n        this.inAndNotSel1 = new And(); // false\n        this.dmuxAB = new Dmux(); // in=false\n        this.inAndSel1 = new And(); // true\n        this.dmuxCD = new Dmux(); // in=true\n        // Internal Wiring\n        this.notSel1.getPin(PIN_OUTPUT).connectRecipient(this.inAndNotSel1.getPin(PIN_B));\n        this.inAndNotSel1.getPin(PIN_OUTPUT).connectRecipient(this.dmuxAB.getPin(PIN_INPUT));\n        this.inAndSel1.getPin(PIN_OUTPUT).connectRecipient(this.dmuxCD.getPin(PIN_INPUT));\n        // External Wiring\n        this.createPin(PIN_INPUT, this.inAndNotSel1.getPin(PIN_A), this.inAndSel1.getPin(PIN_A));\n        this.createBus(PIN_SELECTOR, new BinaryBus([\n            new BinaryPin([\n                this.dmuxAB.getPin(PIN_SELECTOR),\n                this.dmuxCD.getPin(PIN_SELECTOR),\n            ]),\n            new BinaryPin([\n                this.notSel1.getPin(PIN_INPUT),\n                this.inAndSel1.getPin(PIN_B),\n            ]),\n        ]));\n        this.createPin(PIN_A, this.dmuxAB.getPin(PIN_A));\n        this.createPin(PIN_B, this.dmuxAB.getPin(PIN_B));\n        this.createPin(PIN_C, this.dmuxCD.getPin(PIN_A));\n        this.createPin(PIN_D, this.dmuxCD.getPin(PIN_B));\n    }\n}\nexport default Dmux4Way;\n//# sourceMappingURL=Dmux4Way.js.map","/**\n * Computes the sum of three bits.\n */\nimport Chip from \"../../Chip\";\nimport HalfAdder from \"../HalfAdder\";\nimport { PIN_CARRY, PIN_SUM } from \"../HalfAdder/HalfAdder\";\nimport Or from \"../../Logic/Or\";\nimport { PIN_A, PIN_B, PIN_OUTPUT } from \"../../types\";\nimport { PIN_C } from \"../../Multiplexing/Dmux4Way/Dmux4Way\";\n//  CHIP FullAdder {\n//     IN a, b, c;  // 1-bit inputs\n//     OUT sum,     // Right bit of a + b + c\n//         carry;   // Left bit of a + b + c\n//     PARTS:\n//     HalfAdder(a=a, b=b, sum=sumAB, carry=carryAB);\n//     HalfAdder(a=sumAB, b=c, sum=sum, carry=carryABC);\n//     Or(a=carryAB, b=carryABC, out=carry);\n// }\nclass FullAdder extends Chip {\n    constructor() {\n        super(\"FullAdder\", [PIN_A, PIN_B, PIN_C], [PIN_SUM, PIN_CARRY]);\n        this.addAB = new HalfAdder();\n        this.addABC = new HalfAdder();\n        this.carryOr = new Or();\n        // Internal Wiring\n        this.addAB.getPin(PIN_SUM).connectRecipient(this.addABC.getPin(PIN_A));\n        this.addAB.getPin(PIN_CARRY).connectRecipient(this.carryOr.getPin(PIN_A));\n        this.addABC.getPin(PIN_CARRY).connectRecipient(this.carryOr.getPin(PIN_B));\n        // External Wiring\n        this.createPin(PIN_A, this.addAB.getPin(PIN_A));\n        this.createPin(PIN_B, this.addAB.getPin(PIN_B));\n        this.createPin(PIN_C, this.addABC.getPin(PIN_B));\n        this.createPin(PIN_SUM, this.addABC.getPin(PIN_SUM));\n        this.createPin(PIN_CARRY, this.carryOr.getPin(PIN_OUTPUT));\n    }\n}\nexport default FullAdder;\n//# sourceMappingURL=FullAdder.js.map","/**\n * Adds two 16-bit values.\n * The most significant carry bit is ignored.\n */\nimport Chip from \"../../Chip\";\nimport FullAdder from \"../FullAdder\";\nimport HalfAdder from \"../HalfAdder\";\nimport { PIN_CARRY, PIN_SUM } from \"../HalfAdder/HalfAdder\";\nimport { PIN_A, PIN_B, PIN_OUTPUT } from \"../../types\";\nimport { PIN_C } from \"../../Multiplexing/Dmux4Way/Dmux4Way\";\nimport BinaryBus from \"../../BinaryBus\";\n//  CHIP Add16 {\n//     IN a[16], b[16];\n//     OUT out[16];\n//     PARTS:\n//     HalfAdder(a=a[0], b=b[0], sum=out[0], carry=carry0);\n//     FullAdder(a=a[1], b=b[1], c=carry0, sum=out[1], carry=carry1);\n//     FullAdder(a=a[2], b=b[2], c=carry1, sum=out[2], carry=carry2);\n//     FullAdder(a=a[3], b=b[3], c=carry2, sum=out[3], carry=carry3);\n//     FullAdder(a=a[4], b=b[4], c=carry3, sum=out[4], carry=carry4);\n//     FullAdder(a=a[5], b=b[5], c=carry4, sum=out[5], carry=carry5);\n//     FullAdder(a=a[6], b=b[6], c=carry5, sum=out[6], carry=carry6);\n//     FullAdder(a=a[7], b=b[7], c=carry6, sum=out[7], carry=carry7);\n//     FullAdder(a=a[8], b=b[8], c=carry7, sum=out[8], carry=carry8);\n//     FullAdder(a=a[9], b=b[9], c=carry8, sum=out[9], carry=carry9);\n//     FullAdder(a=a[10], b=b[10], c=carry9, sum=out[10], carry=carry10);\n//     FullAdder(a=a[11], b=b[11], c=carry10, sum=out[11], carry=carry11);\n//     FullAdder(a=a[12], b=b[12], c=carry11, sum=out[12], carry=carry12);\n//     FullAdder(a=a[13], b=b[13], c=carry12, sum=out[13], carry=carry13);\n//     FullAdder(a=a[14], b=b[14], c=carry13, sum=out[14], carry=carry14);\n//     FullAdder(a=a[15], b=b[15], c=carry14, sum=out[15], carry=overflow);\n// }\nclass Add16 extends Chip {\n    constructor() {\n        super(\"Add16\", [PIN_A, PIN_B], [PIN_OUTPUT, PIN_CARRY]);\n        this.halfAdd0 = new HalfAdder();\n        this.adder1 = new FullAdder();\n        this.adder2 = new FullAdder();\n        this.adder3 = new FullAdder();\n        this.adder4 = new FullAdder();\n        this.adder5 = new FullAdder();\n        this.adder6 = new FullAdder();\n        this.adder7 = new FullAdder();\n        this.adder8 = new FullAdder();\n        this.adder9 = new FullAdder();\n        this.adder10 = new FullAdder();\n        this.adder11 = new FullAdder();\n        this.adder12 = new FullAdder();\n        this.adder13 = new FullAdder();\n        this.adder14 = new FullAdder();\n        this.adder15 = new FullAdder();\n        const fullAdders = [\n            this.adder1,\n            this.adder2,\n            this.adder3,\n            this.adder4,\n            this.adder5,\n            this.adder6,\n            this.adder7,\n            this.adder8,\n            this.adder9,\n            this.adder10,\n            this.adder11,\n            this.adder12,\n            this.adder13,\n            this.adder14,\n            this.adder15,\n        ];\n        const adders = [this.halfAdd0, ...fullAdders];\n        // Internal wiring\n        this.halfAdd0.getPin(PIN_CARRY).connectRecipient(this.adder1.getPin(PIN_C));\n        fullAdders.forEach((fullAdder, i) => {\n            if (i < fullAdders.length - 1) {\n                fullAdder.getPin(PIN_CARRY).connectRecipient(fullAdders[i + 1].getPin(PIN_C));\n            }\n        });\n        // External Wiring\n        this.createBus(PIN_A, new BinaryBus(adders.map((a) => a.getPin(PIN_A))));\n        this.createBus(PIN_B, new BinaryBus(adders.map((a) => a.getPin(PIN_B))));\n        this.createBus(PIN_OUTPUT, new BinaryBus(adders.map((a) => a.getPin(PIN_SUM))));\n        this.createPin(PIN_CARRY, this.adder15.getPin(PIN_CARRY));\n    }\n}\nexport default Add16;\n//# sourceMappingURL=Add16.js.map","/**\n * 16-bit incrementer:\n * out = in + 1 (arithmetic addition)\n */\nimport Add16 from \"../Add16\";\nimport Chip from \"../../Chip\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT } from \"../../types\";\n//  CHIP Inc16 {\n//     IN in[16];\n//     OUT out[16];\n//     PARTS:\n//    // Put you code here:\n//    Add16(a=in, b[0]=true, b[1..7]=false, out=out);\n// }\nclass Inc16 extends Chip {\n    constructor() {\n        super(\"Inc16\", [PIN_INPUT], [PIN_OUTPUT]);\n        this.adder = new Add16();\n        this.adder\n            .getBus(PIN_B)\n            .send([true, false, false, false, false, false, false, false]);\n        // External wiring\n        this.createBus(PIN_INPUT, this.adder.getBus(PIN_A));\n        this.createBus(PIN_OUTPUT, this.adder.getBus(PIN_OUTPUT));\n    }\n}\nexport default Inc16;\n//# sourceMappingURL=Inc16.js.map","import And from \"../../Logic/And\";\nimport Chip from \"../../Chip\";\nimport Not from \"../../Logic/Not\";\nimport Or from \"../../Logic/Or\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT, PIN_SELECTOR } from \"../../types\";\n/**\n * Multiplexor:\n * out = a if sel == 0\n *       b otherwise\n */\n//  CHIP Mux {\n//     IN a, b, sel;\n//     OUT out;\n//     PARTS:\n//     // Put your code here:\n//     And(a=b, b=sel, out=bAndSel);\n//     Not(in=sel, out=notSel);\n//     And(a=a, b=notSel, out=aAndNotSel);\n//     Or(a=aAndNotSel, b=bAndSel, out=out);\n// }\nclass Mux extends Chip {\n    constructor() {\n        super(\"Mux\", [PIN_A, PIN_B, PIN_SELECTOR], [PIN_OUTPUT]);\n        this.bAndSel = new And();\n        this.notSel = new Not();\n        this.aAndNotSel = new And();\n        this.aAndNotSelOrBAndSel = new Or();\n        // Internal Wiring\n        this.notSel.getPin(PIN_OUTPUT).connectRecipient(this.aAndNotSel.getPin(PIN_B));\n        this.bAndSel\n            .getPin(PIN_OUTPUT)\n            .connectRecipient(this.aAndNotSelOrBAndSel.getPin(PIN_B));\n        this.aAndNotSel\n            .getPin(PIN_OUTPUT)\n            .connectRecipient(this.aAndNotSelOrBAndSel.getPin(PIN_A));\n        // External Wiring\n        this.createPin(PIN_A, this.aAndNotSel.getPin(PIN_A));\n        this.createPin(PIN_B, this.bAndSel.getPin(PIN_A));\n        this.createPin(PIN_SELECTOR, this.notSel.getPin(PIN_INPUT), this.bAndSel.getPin(PIN_B));\n        this.createPin(PIN_OUTPUT, this.aAndNotSelOrBAndSel.getPin(PIN_OUTPUT));\n    }\n}\nexport default Mux;\n//# sourceMappingURL=Mux.js.map","import Chip from \"../..//Chip\";\nimport Mux from \"../../Multiplexing/Mux\";\nimport { PIN_A, PIN_B, PIN_OUTPUT, PIN_SELECTOR, WORD_LENGTH, } from \"../../types\";\nimport BinaryBus from \"../..//BinaryBus\";\n/**\n * 16-bit multiplexor:\n * for i = 0..15 out[i] = a[i] if sel == 0\n *                        b[i] if sel == 1\n */\n//  CHIP Mux16 {\n//     IN a[16], b[16], sel;\n//     OUT out[16];\n//     PARTS:\n//     Not(in=sel, out=notSel);\n//     Mux(a=a[0], b=b[0], sel=sel, out=out[0]);\n//     Mux(a=a[1], b=b[1], sel=sel, out=out[1]);\n//     Mux(a=a[2], b=b[2], sel=sel, out=out[2]);\n//     Mux(a=a[3], b=b[3], sel=sel, out=out[3]);\n//     Mux(a=a[4], b=b[4], sel=sel, out=out[4]);\n//     Mux(a=a[5], b=b[5], sel=sel, out=out[5]);\n//     Mux(a=a[6], b=b[6], sel=sel, out=out[6]);\n//     Mux(a=a[7], b=b[7], sel=sel, out=out[7]);\n//     Mux(a=a[8], b=b[8], sel=sel, out=out[8]);\n//     Mux(a=a[9], b=b[9], sel=sel, out=out[9]);\n//     Mux(a=a[10], b=b[10], sel=sel, out=out[10]);\n//     Mux(a=a[11], b=b[11], sel=sel, out=out[11]);\n//     Mux(a=a[12], b=b[12], sel=sel, out=out[12]);\n//     Mux(a=a[13], b=b[13], sel=sel, out=out[13]);\n//     Mux(a=a[14], b=b[14], sel=sel, out=out[14]);\n//     Mux(a=a[15], b=b[15], sel=sel, out=out[15]);\n// }\nclass Mux16 extends Chip {\n    constructor() {\n        super(\"Mux16\", [PIN_A, PIN_B, PIN_SELECTOR], [PIN_OUTPUT]);\n        this.muxes = Array(WORD_LENGTH)\n            .fill(null)\n            .map((_, i) => new Mux());\n        // External Wiring\n        this.createPin(PIN_SELECTOR, ...this.muxes.map((m) => m.getPin(PIN_SELECTOR)));\n        this.createBus(PIN_A, new BinaryBus(this.muxes.map((m) => m.getPin(PIN_A))));\n        this.createBus(PIN_B, new BinaryBus(this.muxes.map((m) => m.getPin(PIN_B))));\n        this.createBus(PIN_OUTPUT, new BinaryBus(this.muxes.map((m) => m.getPin(PIN_OUTPUT))));\n    }\n}\nexport default Mux16;\n//# sourceMappingURL=Mux16.js.map","import { PIN_INPUT, PIN_OUTPUT, WORD_LENGTH } from \"../../types\";\nimport Not from \"../../Logic/Not\";\nimport Chip from \"../../Chip\";\nimport BinaryBus from \"../../BinaryBus\";\n/**\n * 16-bit Not:\n * for i=0..15: out[i] = not in[i]\n */\n/**\n CHIP Not16 {\n    IN in[16];\n    OUT out[16];\n\n    PARTS:\n    Not(in=in[0], out=out[0]);\n    Not(in=in[1], out=out[1]);\n    Not(in=in[2], out=out[2]);\n    Not(in=in[3], out=out[3]);\n    Not(in=in[4], out=out[4]);\n    Not(in=in[5], out=out[5]);\n    Not(in=in[6], out=out[6]);\n    Not(in=in[7], out=out[7]);\n    Not(in=in[8], out=out[8]);\n    Not(in=in[9], out=out[9]);\n    Not(in=in[10], out=out[10]);\n    Not(in=in[11], out=out[11]);\n    Not(in=in[12], out=out[12]);\n    Not(in=in[13], out=out[13]);\n    Not(in=in[14], out=out[14]);\n    Not(in=in[15], out=out[15]);\n}\n */\nclass Not16 extends Chip {\n    constructor() {\n        super(\"Not16\", [PIN_INPUT], [PIN_OUTPUT]);\n        this.nots = Array(WORD_LENGTH)\n            .fill(null)\n            .map((_, i) => new Not());\n        // External Wiring\n        this.createBus(PIN_INPUT, new BinaryBus(this.nots.map((n) => n.getPin(PIN_INPUT))));\n        this.createBus(PIN_OUTPUT, new BinaryBus(this.nots.map((n) => n.getPin(PIN_OUTPUT))));\n    }\n}\nexport default Not16;\n//# sourceMappingURL=Not16.js.map","/**\n * 8-way Or:\n * out = (in[0] or in[1] or ... or in[7])\n */\nimport Chip from \"../../Chip\";\nimport Or from \"../Or\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT } from \"../../types\";\nimport BinaryBus from \"../../BinaryBus\";\n//  CHIP Or8Way {\n//     IN in[8];\n//     OUT out;\n//     PARTS:\n//     Or(a=in[0], b=in[1], out=or1);\n//     Or(a=or1, b=in[2], out=or2);\n//     Or(a=or2, b=in[3], out=or3);\n//     Or(a=or3, b=in[4], out=or4);\n//     Or(a=or4, b=in[5], out=or5);\n//     Or(a=or5, b=in[6], out=or6);\n//     Or(a=or6, b=in[7], out=out);\n// }\nclass Or8Way extends Chip {\n    constructor() {\n        super(\"Or8Way\", [PIN_A, PIN_B], [PIN_OUTPUT]);\n        this.or1 = new Or();\n        this.or2 = new Or();\n        this.or3 = new Or();\n        this.or4 = new Or();\n        this.or5 = new Or();\n        this.or6 = new Or();\n        this.orOut = new Or();\n        // Internal Wiring\n        this.or1.getPin(PIN_OUTPUT).connectRecipient(this.or2.getPin(PIN_A));\n        this.or2.getPin(PIN_OUTPUT).connectRecipient(this.or3.getPin(PIN_A));\n        this.or3.getPin(PIN_OUTPUT).connectRecipient(this.or4.getPin(PIN_A));\n        this.or4.getPin(PIN_OUTPUT).connectRecipient(this.or5.getPin(PIN_A));\n        this.or5.getPin(PIN_OUTPUT).connectRecipient(this.or6.getPin(PIN_A));\n        this.or6.getPin(PIN_OUTPUT).connectRecipient(this.orOut.getPin(PIN_A));\n        // External Wiring\n        this.createBus(PIN_INPUT, new BinaryBus([\n            this.or1.getPin(PIN_A),\n            ...[\n                this.or1,\n                this.or2,\n                this.or3,\n                this.or4,\n                this.or5,\n                this.or6,\n                this.orOut,\n            ].map((o) => o.getPin(PIN_B)),\n        ]));\n        this.createPin(PIN_OUTPUT, this.orOut.getPin(PIN_OUTPUT));\n    }\n}\nexport default Or8Way;\n//# sourceMappingURL=Or8Way.js.map","import { PIN_A, PIN_B, PIN_OUTPUT, WORD_LENGTH } from \"../../types\";\n;\nimport And from \"../And\";\nimport Chip from \"../../Chip\";\nimport BinaryBus from \"../../BinaryBus\";\n/**\n * 16-bit bitwise And:\n * for i = 0..15: out[i] = (a[i] and b[i])\n */\n//  CHIP And16 {\n//     IN a[16], b[16];\n//     OUT out[16];\n//     PARTS:\n//     And(a=a[0], b=b[0], out=out[0]);\n//     And(a=a[1], b=b[1], out=out[1]);\n//     And(a=a[2], b=b[2], out=out[2]);\n//     And(a=a[3], b=b[3], out=out[3]);\n//     And(a=a[4], b=b[4], out=out[4]);\n//     And(a=a[5], b=b[5], out=out[5]);\n//     And(a=a[6], b=b[6], out=out[6]);\n//     And(a=a[7], b=b[7], out=out[7]);\n//     And(a=a[8], b=b[8], out=out[8]);\n//     And(a=a[9], b=b[9], out=out[9]);\n//     And(a=a[10], b=b[10], out=out[10]);\n//     And(a=a[11], b=b[11], out=out[11]);\n//     And(a=a[12], b=b[12], out=out[12]);\n//     And(a=a[13], b=b[13], out=out[13]);\n//     And(a=a[14], b=b[14], out=out[14]);\n//     And(a=a[15], b=b[15], out=out[15]);\n// }\nclass And16 extends Chip {\n    constructor() {\n        super(\"And16\", [PIN_A, PIN_B], [PIN_OUTPUT]);\n        this.ands = Array(WORD_LENGTH)\n            .fill(null)\n            .map((_, i) => new And());\n        // External Wiring\n        this.createBus(PIN_A, new BinaryBus(this.ands.map((a) => a.getPin(PIN_A))));\n        this.createBus(PIN_B, new BinaryBus(this.ands.map((a) => a.getPin(PIN_B))));\n        this.createBus(PIN_OUTPUT, new BinaryBus(this.ands.map((a) => a.getPin(PIN_OUTPUT))));\n    }\n}\nexport default And16;\n//# sourceMappingURL=And16.js.map","/**\n * The ALU (Arithmetic Logic Unit).\n * Computes one of the following functions:\n * x+y, x-y, y-x, 0, 1, -1, x, y, -x, -y, !x, !y,\n * x+1, y+1, x-1, y-1, x&y, x|y on two 16-bit inputs,\n * according to 6 input bits denoted zx,nx,zy,ny,f,no.\n * In addition, the ALU computes two 1-bit outputs:\n * if the ALU output == 0, zr is set to 1; otherwise zr is set to 0;\n * if the ALU output < 0, ng is set to 1; otherwise ng is set to 0.\n */\nimport Add16 from \"../../Arithmetic/Add16\";\nimport Chip from \"../../Chip\";\nimport Mux16 from \"../../Multiplexing/Mux16\";\nimport Not from \"../../Logic/Not\";\nimport Not16 from \"../../Logic/Not16\";\nimport Or from \"../../Logic/Or\";\nimport Or8Way from \"../../Logic/Or8Way\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT, PIN_SELECTOR, WORD_LENGTH, } from \"../../types\";\nimport And16 from \"../../Logic/And16\";\n// Implementation: the ALU logic manipulates the x and y inputs\n// and operates on the resulting values, as follows:\n// if (zx == 1) set x = 0        // 16-bit constant\n// if (nx == 1) set x = !x       // bitwise not\n// if (zy == 1) set y = 0        // 16-bit constant\n// if (ny == 1) set y = !y       // bitwise not\n// if (f == 1)  set out = x + y  // integer 2's complement addition\n// if (f == 0)  set out = x & y  // bitwise and\n// if (no == 1) set out = !out   // bitwise not\n// if (out == 0) set zr = 1\n// if (out < 0) set ng = 1\n/*\nCHIP ALU {\n    IN\n        x[16], y[16],  // 16-bit inputs\n        zx, // zero the x input?\n        nx, // negate the x input?\n        zy, // zero the y input?\n        ny, // negate the y input?\n        f,  // compute out = x + y (if 1) or x & y (if 0)\n        no; // negate the out output?\n\n    OUT\n        out[16], // 16-bit output\n        zr, // 1 if (out == 0), 0 otherwise\n        ng; // 1 if (out < 0),  0 otherwise\n\n    PARTS:\n\n    // Use the flags for the x input to generate xProcessed\n    Mux16(a=x, b[0..15]=false, sel=zx, out=xZero);\n    Not16(in=xZero, out=notXZero);\n    Mux16(a=xZero, b=notXZero, sel=nx, out=xProcessed);\n\n    // Use the flags for the y input to generate yProcessed\n    Mux16(a=y, b[0..15]=false, sel=zy, out=yZero);\n    Not16(in=yZero, out=notYZero);\n    Mux16(a=yZero, b=notYZero, sel=ny, out=yProcessed);\n\n    // Calculate both results of combining x and y, select the correct one into fOut\n    Add16(a=xProcessed, b=yProcessed, out=xPlusy);\n    And16(a=xProcessed, b=yProcessed, out=xAndy);\n    Mux16(a=xAndy, b=xPlusy, sel=f, out=fOut);\n\n    // Calculate negation of output and select negative flag, output, and split version of output for evaluation of zero\n    Not16(in=fOut, out=notFOut);\n    Mux16(a=fOut, b=notFOut, sel=no, out[15]=ng, out[0..7]=preOut1, out[8..15]=preOut2, out=out);\n\n    // Set the is zero flag\n    Or8Way(in=preOut1, out=zrLsb);\n    Or8Way(in=preOut2, out=zrMsb);\n    Or(a=zrLsb, b=zrMsb, out=nzr);\n    Not(in=nzr, out=zr);\n}\n*/\nexport const PIN_X = \"x\";\nexport const PIN_Y = \"y\";\nexport const PIN_ZX = \"zx\";\nexport const PIN_NX = \"nx\";\nexport const PIN_ZY = \"zy\";\nexport const PIN_NY = \"ny\";\nexport const PIN_F = \"f\";\nexport const PIN_NO = \"no\";\nexport const PIN_ZR = \"zr\";\nexport const PIN_NG = \"ng\";\nclass ALU extends Chip {\n    constructor() {\n        super(\"ALU\", [PIN_X, PIN_Y, PIN_ZX, PIN_NX, PIN_ZY, PIN_NY, PIN_F, PIN_NO], [PIN_OUTPUT, PIN_ZR, PIN_NG]);\n        this.xZero = new Mux16();\n        this.notXZero = new Not16();\n        this.xProcessed = new Mux16();\n        this.yZero = new Mux16();\n        this.notYZero = new Not16();\n        this.yProcessed = new Mux16();\n        this.xPlusy = new Add16();\n        this.xAndy = new And16();\n        this.fOut = new Mux16();\n        this.notFOut = new Not16();\n        this.out = new Mux16();\n        this.zrLsb = new Or8Way();\n        this.zrMsb = new Or8Way();\n        this.nzr = new Or();\n        this.zr = new Not();\n        this.xZero.getBus(PIN_B).send(Array(WORD_LENGTH).fill(false));\n        this.xZero.getBus(PIN_OUTPUT).connect(this.notXZero.getBus(PIN_INPUT));\n        this.xZero.getBus(PIN_OUTPUT).connect(this.xProcessed.getBus(PIN_A));\n        this.notXZero.getBus(PIN_OUTPUT).connect(this.xProcessed.getBus(PIN_B));\n        this.yZero.getBus(PIN_B).send(Array(WORD_LENGTH).fill(false));\n        this.yZero.getBus(PIN_OUTPUT).connect(this.notYZero.getBus(PIN_INPUT));\n        this.yZero.getBus(PIN_OUTPUT).connect(this.yProcessed.getBus(PIN_A));\n        this.notYZero.getBus(PIN_OUTPUT).connect(this.yProcessed.getBus(PIN_B));\n        this.xProcessed.getBus(PIN_OUTPUT).connect(this.xPlusy.getBus(PIN_A));\n        this.yProcessed.getBus(PIN_OUTPUT).connect(this.xPlusy.getBus(PIN_B));\n        this.xProcessed.getBus(PIN_OUTPUT).connect(this.xAndy.getBus(PIN_A));\n        this.yProcessed.getBus(PIN_OUTPUT).connect(this.xAndy.getBus(PIN_B));\n        this.xAndy.getBus(PIN_OUTPUT).connect(this.fOut.getBus(PIN_A));\n        this.xPlusy.getBus(PIN_OUTPUT).connect(this.fOut.getBus(PIN_B));\n        this.fOut.getBus(PIN_OUTPUT).connect(this.notFOut.getBus(PIN_INPUT));\n        this.fOut.getBus(PIN_OUTPUT).connect(this.out.getBus(PIN_A));\n        this.notFOut.getBus(PIN_OUTPUT).connect(this.out.getBus(PIN_B));\n        this.fOut.getBus(PIN_OUTPUT).connect(this.out.getBus(PIN_A));\n        this.notFOut.getBus(PIN_OUTPUT).connect(this.out.getBus(PIN_B));\n        this.out.getBus(PIN_OUTPUT).connect(this.zrLsb.getBus(PIN_INPUT), 0, 7); // preOut1\n        this.out.getBus(PIN_OUTPUT).connect(this.zrMsb.getBus(PIN_INPUT), 8, 15); // preOut2\n        this.zrLsb.getPin(PIN_OUTPUT).connectRecipient(this.nzr.getPin(PIN_A));\n        this.zrMsb.getPin(PIN_OUTPUT).connectRecipient(this.nzr.getPin(PIN_B));\n        this.nzr.getPin(PIN_OUTPUT).connectRecipient(this.zr.getPin(PIN_INPUT));\n        // External Wiring\n        this.createBus(PIN_X, this.xZero.getBus(PIN_A));\n        this.createBus(PIN_Y, this.yZero.getBus(PIN_A));\n        this.createPin(PIN_ZX, this.xZero.getPin(PIN_SELECTOR));\n        this.createPin(PIN_ZY, this.yZero.getPin(PIN_SELECTOR));\n        this.createPin(PIN_NX, this.xProcessed.getPin(PIN_SELECTOR));\n        this.createPin(PIN_NY, this.yProcessed.getPin(PIN_SELECTOR));\n        this.createPin(PIN_F, this.fOut.getPin(PIN_SELECTOR));\n        this.createPin(PIN_NO, this.out.getPin(PIN_SELECTOR));\n        this.createBus(PIN_OUTPUT, this.out.getBus(PIN_OUTPUT));\n        this.createPin(PIN_NG, this.out.getBus(PIN_OUTPUT).getPin(15)); // FIX!!!\n        this.createPin(PIN_ZR, this.zr.getPin(PIN_OUTPUT));\n    }\n}\nexport default ALU;\n//# sourceMappingURL=ALU.js.map","import BinaryPin from \"../../BinaryPin\";\nimport Chip from \"../../Chip\";\nimport { PIN_INPUT, PIN_OUTPUT } from \"../../types\";\nclass DataFlipFlop extends Chip {\n    constructor(clock) {\n        super(\"DFF\", [PIN_INPUT], [PIN_OUTPUT]);\n        this.value = false;\n        this.input = new BinaryPin();\n        this.output = new BinaryPin();\n        clock.registerClocked(this);\n        this.createPin(PIN_INPUT, this.input);\n        this.createPin(PIN_OUTPUT, this.output);\n    }\n    tick() {\n        this.tickValue = this.input.lastOutput;\n    }\n    tock() {\n        this.output.send(this.tickValue);\n    }\n}\nexport default DataFlipFlop;\n//# sourceMappingURL=DataFlipFlop.js.map","/**\n * 1-bit register:\n * If load[t] == 1 then out[t+1] = in[t]\n *                 else out does not change (out[t+1] = out[t])\n */\nimport DataFlipFlop from \"../DataFlipFlop\";\nimport Mux from \"../..//Multiplexing/Mux\";\nimport Chip from \"../..//Chip\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_LOAD, PIN_OUTPUT, PIN_SELECTOR, } from \"../../types\";\n// CHIP Bit {\n//     IN in, load;\n//     OUT out;\n//     PARTS:\n//     // Put your code here:\n//     Mux(a=t1, b=in, sel=load, out=w1);\n//     DFF(in=w1, out=t1, out=out);\n// }\nclass Bit extends Chip {\n    constructor(clock) {\n        super(\"Bit\", [PIN_INPUT, PIN_LOAD], [PIN_OUTPUT]);\n        this.mux = new Mux();\n        this.dff = new DataFlipFlop(clock);\n        // Internal Wiring\n        this.dff.getPin(PIN_OUTPUT).connectRecipient(this.mux.getPin(PIN_A)); // t1\n        this.mux.getPin(PIN_OUTPUT).connectRecipient(this.dff.getPin(PIN_INPUT)); // w1\n        // External Wiring\n        this.createPin(PIN_INPUT, this.mux.getPin(PIN_B));\n        this.createPin(PIN_LOAD, this.mux.getPin(PIN_SELECTOR));\n        this.createPin(PIN_OUTPUT, this.dff.getPin(PIN_OUTPUT));\n    }\n}\nexport default Bit;\n//# sourceMappingURL=Bit.js.map","import BinaryBus from \"../../BinaryBus\";\nimport Chip from \"../../Chip\";\nimport { PIN_INPUT, PIN_LOAD, PIN_OUTPUT, WORD_LENGTH } from \"../../types\";\nimport Bit from \"../Bit\";\n/**\n * 16-bit register:\n * If load[t] == 1 then out[t+1] = in[t]\n * else out does not change\n */\n//  CHIP Register {\n//     IN in[16], load;\n//     OUT out[16];\n//     PARTS:\n//     // Put your code here:\n//     Bit(in=in[0], out=out[0], load=load);\n//     Bit(in=in[1], out=out[1], load=load);\n//     Bit(in=in[2], out=out[2], load=load);\n//     Bit(in=in[3], out=out[3], load=load);\n//     Bit(in=in[4], out=out[4], load=load);\n//     Bit(in=in[5], out=out[5], load=load);\n//     Bit(in=in[6], out=out[6], load=load);\n//     Bit(in=in[7], out=out[7], load=load);\n//     Bit(in=in[8], out=out[8], load=load);\n//     Bit(in=in[9], out=out[9], load=load);\n//     Bit(in=in[10], out=out[10], load=load);\n//     Bit(in=in[11], out=out[11], load=load);\n//     Bit(in=in[12], out=out[12], load=load);\n//     Bit(in=in[13], out=out[13], load=load);\n//     Bit(in=in[14], out=out[14], load=load);\n//     Bit(in=in[15], out=out[15], load=load);\n// }\nclass Register extends Chip {\n    constructor(clock) {\n        super(\"Register\", [PIN_INPUT, PIN_LOAD], [PIN_OUTPUT]);\n        this.bits = Array(WORD_LENGTH)\n            .fill(null)\n            .map(() => new Bit(clock));\n        // this.pins = new BinaryBus();\n        this.outputBus = new BinaryBus();\n        // External Wiring\n        this.createBus(PIN_INPUT, new BinaryBus(this.bits.map((b) => b.getPin(PIN_INPUT))));\n        this.createPin(PIN_LOAD, ...this.bits.map((b) => b.getPin(PIN_LOAD)));\n        this.createBus(PIN_OUTPUT, new BinaryBus(this.bits.map((b) => b.getPin(PIN_OUTPUT))));\n    }\n}\nexport default Register;\n//# sourceMappingURL=Register.js.map","/**\n * A 16-bit counter with load and reset control bits.\n * if      (reset[t] == 1) out[t+1] = 0\n * else if (load[t] == 1)  out[t+1] = in[t]\n * else if (inc[t] == 1)   out[t+1] = out[t] + 1  (integer addition)\n * else                    out[t+1] = out[t]\n */\nimport Inc16 from \"../../Arithmetic/Inc16\";\nimport BinaryBus from \"../../BinaryBus\";\nimport Chip from \"../../Chip\";\nimport Register from \"../../Memory/Register\";\nimport Mux16 from \"../../Multiplexing/Mux16\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_LOAD, PIN_OUTPUT, PIN_SELECTOR, ZERO_WORD, } from \"../../types\";\nexport const PIN_INCREMENT = \"inc\";\nexport const PIN_RESET = \"reset\";\n//  CHIP PC {\n//     IN in[16],load,inc,reset;\n//     OUT out[16];\n//     PARTS:\n//     // Increment the last value, select the incremented one if possible\n//     Inc16(in=lastPC, out=lastPCplusOne);\n//     Mux16(a=lastPC, b=lastPCplusOne, sel=inc, out=io);\n//     // Loading input takes precendence over incremented value\n//     Mux16(a=io, b=in, sel=load, out=lo);\n//     // Reset has highest priority\n//     Mux16(a=lo, b[0..15]=false, sel=reset, out=ro);\n//     // Create that time spacing\n//     Register(in=ro, out=lastPC, out=out, load=true);\n// }\nclass PC extends Chip {\n    constructor(clock) {\n        super(\"PC\", [PIN_INPUT, PIN_LOAD, PIN_RESET, PIN_INCREMENT], [PIN_OUTPUT]);\n        this.incrementer = new Inc16();\n        this.incrementMux = new Mux16();\n        this.loadMux = new Mux16();\n        this.resetMux = new Mux16();\n        this.register = new Register(clock);\n        this.lastPCFork = new BinaryBus();\n        // Internal Wiring\n        this.incrementer\n            .getBus(PIN_OUTPUT)\n            .connect(this.incrementMux.getBus(PIN_B));\n        this.lastPCFork.connect(this.incrementer.getBus(PIN_INPUT));\n        this.lastPCFork.connect(this.incrementMux.getBus(PIN_A));\n        this.incrementMux.getBus(PIN_OUTPUT).connect(this.loadMux.getBus(PIN_A));\n        this.loadMux.getBus(PIN_OUTPUT).connect(this.resetMux.getBus(PIN_A));\n        this.resetMux.getBus(PIN_OUTPUT).connect(this.register.getBus(PIN_INPUT));\n        this.register.getPin(PIN_LOAD).send(true);\n        this.register.getBus(PIN_OUTPUT).connect(this.lastPCFork);\n        this.resetMux.getBus(PIN_B).send(ZERO_WORD);\n        // External Wiring\n        this.createPin(PIN_LOAD, this.loadMux.getPin(PIN_SELECTOR));\n        this.createPin(PIN_INCREMENT, this.incrementMux.getPin(PIN_SELECTOR));\n        this.createPin(PIN_RESET, this.resetMux.getPin(PIN_SELECTOR));\n        this.createBus(PIN_INPUT, this.loadMux.getBus(PIN_B));\n        this.createBus(PIN_OUTPUT, this.register.getBus(PIN_OUTPUT));\n    }\n}\nexport default PC;\n//# sourceMappingURL=PC.js.map","import { PIN_A, PIN_B, PIN_OUTPUT, WORD_LENGTH } from \"../../types\";\n;\nimport Or from \"../Or\";\nimport Chip from \"../../Chip\";\nimport BinaryBus from \"../../BinaryBus\";\n/**\n * 16-bit bitwise Or:\n * for i = 0..15 out[i] = (a[i] or b[i])\n */\n//  CHIP Or16 {\n//     IN a[16], b[16];\n//     OUT out[16];\n//     PARTS:\n//     Or(a=a[0], b=b[0], out=out[0]);\n//     Or(a=a[1], b=b[1], out=out[1]);\n//     Or(a=a[2], b=b[2], out=out[2]);\n//     Or(a=a[3], b=b[3], out=out[3]);\n//     Or(a=a[4], b=b[4], out=out[4]);\n//     Or(a=a[5], b=b[5], out=out[5]);\n//     Or(a=a[6], b=b[6], out=out[6]);\n//     Or(a=a[7], b=b[7], out=out[7]);\n//     Or(a=a[8], b=b[8], out=out[8]);\n//     Or(a=a[9], b=b[9], out=out[9]);\n//     Or(a=a[10], b=b[10], out=out[10]);\n//     Or(a=a[11], b=b[11], out=out[11]);\n//     Or(a=a[12], b=b[12], out=out[12]);\n//     Or(a=a[13], b=b[13], out=out[13]);\n//     Or(a=a[14], b=b[14], out=out[14]);\n//     Or(a=a[15], b=b[15], out=out[15]);\n// }\nclass Or16 extends Chip {\n    constructor() {\n        super(\"Or16\", [PIN_A, PIN_B], [PIN_OUTPUT]);\n        this.ors = Array(WORD_LENGTH)\n            .fill(null)\n            .map((_, i) => new Or());\n        // External Wiring\n        this.createBus(PIN_A, new BinaryBus(this.ors.map((o) => o.getPin(PIN_A))));\n        this.createBus(PIN_B, new BinaryBus(this.ors.map((o) => o.getPin(PIN_B))));\n        this.createBus(PIN_OUTPUT, new BinaryBus(this.ors.map((o) => o.getPin(PIN_OUTPUT))));\n    }\n}\nexport default Or16;\n//# sourceMappingURL=Or16.js.map","/**\n * 8-way demultiplexor:\n * {a, b, c, d, e, f, g, h} = {in, 0, 0, 0, 0, 0, 0, 0} if sel == 000\n *                            {0, in, 0, 0, 0, 0, 0, 0} if sel == 001\n *                            etc.\n *                            {0, 0, 0, 0, 0, 0, 0, in} if sel == 111\n */\nimport And from \"../../Logic/And\";\nimport Chip from \"../../Chip\";\nimport Dmux4Way from \"../Dmux4Way\";\nimport { PIN_C, PIN_D } from \"../Dmux4Way/Dmux4Way\";\nimport Not from \"../../Logic/Not\";\nimport { PIN_A, PIN_B, PIN_INPUT, PIN_OUTPUT, PIN_SELECTOR } from \"../../types\";\nimport BinaryBus, { createPinArray } from \"../../BinaryBus\";\n//  CHIP DMux8Way {\n//     IN in, sel[3];\n//     OUT a, b, c, d, e, f, g, h;\n//     PARTS:\n//     Not(in=sel[2], out=notSel2);\n//     And(a=in, b=notSel2, out=inAndNotSel2);\n//     DMux4Way(in=inAndNotSel2, sel=sel[0..1], a=a, b=b, c=c, d=d);\n//     And(a=in, b=sel[2], out=inAndSel2);\n//     DMux4Way(in=inAndSel2, sel=sel[0..1], a=e, b=f, c=g, d=h);\n// }\nexport const PIN_E = \"e\";\nexport const PIN_F = \"f\";\nexport const PIN_G = \"g\";\nexport const PIN_H = \"h\";\nclass Dmux8Way extends Chip {\n    constructor() {\n        super(\"Dmux8Way\", [PIN_INPUT, PIN_SELECTOR], [PIN_A, PIN_B, PIN_C, PIN_D, PIN_E, PIN_F, PIN_G, PIN_H]);\n        this.notSel2 = new Not();\n        this.inAndNotSel2 = new And();\n        this.dmuxABCD = new Dmux4Way();\n        this.inAndSel2 = new And();\n        this.dmuxEFGH = new Dmux4Way();\n        // Internal Wiring\n        this.notSel2.getPin(PIN_OUTPUT).connectRecipient(this.inAndNotSel2.getPin(PIN_B));\n        this.inAndNotSel2\n            .getPin(PIN_OUTPUT)\n            .connectRecipient(this.dmuxABCD.getPin(PIN_INPUT));\n        this.inAndSel2.getPin(PIN_OUTPUT).connectRecipient(this.dmuxEFGH.getPin(PIN_INPUT));\n        // External Wiring\n        this.createPin(PIN_INPUT, this.inAndNotSel2.getPin(PIN_A), this.inAndSel2.getPin(PIN_A));\n        this.createBus(PIN_SELECTOR, new BinaryBus(createPinArray(3))\n            .connect(this.dmuxABCD.getBus(PIN_SELECTOR), 0, 1)\n            .connect(this.dmuxEFGH.getBus(PIN_SELECTOR), 0, 1)\n            .connectPin(this.notSel2.getPin(PIN_INPUT), 2)\n            .connectPin(this.inAndSel2.getPin(PIN_B), 2));\n        this.createPin(PIN_A, this.dmuxABCD.getPin(PIN_A));\n        this.createPin(PIN_B, this.dmuxABCD.getPin(PIN_B));\n        this.createPin(PIN_C, this.dmuxABCD.getPin(PIN_C));\n        this.createPin(PIN_D, this.dmuxABCD.getPin(PIN_D));\n        this.createPin(PIN_E, this.dmuxEFGH.getPin(PIN_A));\n        this.createPin(PIN_F, this.dmuxEFGH.getPin(PIN_B));\n        this.createPin(PIN_G, this.dmuxEFGH.getPin(PIN_C));\n        this.createPin(PIN_H, this.dmuxEFGH.getPin(PIN_D));\n    }\n}\nexport default Dmux8Way;\n//# sourceMappingURL=Dmux8Way.js.map","/**\n * 4-way 16-bit multiplexor:\n * out = a if sel == 00\n *       b if sel == 01\n *       c if sel == 10\n *       d if sel == 11\n */\nimport Chip from \"../../Chip\";\nimport { PIN_C, PIN_D } from \"../Dmux4Way/Dmux4Way\";\nimport Mux16 from \"../Mux16\";\nimport { PIN_A, PIN_B, PIN_OUTPUT, PIN_SELECTOR } from \"../../types\";\nimport BinaryBus from \"../../BinaryBus\";\nimport BinaryPin from \"../../BinaryPin\";\n//  CHIP Mux4Way16 {\n//     IN a[16], b[16], c[16], d[16], sel[2];\n//     OUT out[16];\n//     PARTS:\n//     Mux16(a=a, b=b, sel=sel[0], out=aOrB);\n//     Mux16(a=c, b=d, sel=sel[0], out=cOrD);\n//     Mux16(a=aOrB, b=cOrD, sel=sel[1], out=out);\n// }\nclass Mux4Way16 extends Chip {\n    constructor() {\n        super(\"Mux4Way16\", [PIN_A, PIN_B, PIN_C, PIN_D, PIN_SELECTOR], [PIN_OUTPUT]);\n        this.aOrB = new Mux16();\n        this.cOrD = new Mux16();\n        this.outMux = new Mux16();\n        // Internal Wiring\n        this.aOrB.getBus(PIN_OUTPUT).connect(this.outMux.getBus(PIN_A));\n        this.cOrD.getBus(PIN_OUTPUT).connect(this.outMux.getBus(PIN_B));\n        // External Wiring\n        this.createBus(PIN_A, this.aOrB.getBus(PIN_A));\n        this.createBus(PIN_B, this.aOrB.getBus(PIN_B));\n        this.createBus(PIN_C, this.cOrD.getBus(PIN_A));\n        this.createBus(PIN_D, this.cOrD.getBus(PIN_B));\n        this.createBus(PIN_SELECTOR, new BinaryBus([\n            new BinaryPin([\n                this.aOrB.getPin(PIN_SELECTOR),\n                this.cOrD.getPin(PIN_SELECTOR),\n            ]),\n            this.outMux.getPin(PIN_SELECTOR),\n        ]));\n        this.createBus(PIN_OUTPUT, this.outMux.getBus(PIN_OUTPUT));\n    }\n}\nexport default Mux4Way16;\n//# sourceMappingURL=Mux4Way16.js.map","import Chip from \"../../Chip\";\nimport { PIN_C, PIN_D } from \"../Dmux4Way/Dmux4Way\";\nimport { PIN_E, PIN_F, PIN_G, PIN_H } from \"../Dmux8Way/Dmux8Way\";\nimport Mux16 from \"../Mux16\";\nimport Mux4Way16 from \"../Mux4Way16\";\nimport { PIN_A, PIN_B, PIN_OUTPUT, PIN_SELECTOR } from \"../../types\";\nimport BinaryBus, { createPinArray } from \"../../BinaryBus\";\n/**\n * 8-way 16-bit multiplexor:\n * out = a if sel == 000\n *       b if sel == 001\n *       etc.\n *       h if sel == 111\n */\n//  CHIP Mux8Way16 {\n//     IN a[16], b[16], c[16], d[16],\n//        e[16], f[16], g[16], h[16],\n//        sel[3];\n//     OUT out[16];\n//     PARTS:\n//     // Put your code here:\n//     Mux4Way16(a=a, b=b, c=c, d=d, sel=sel[0..1], out=abcd);\n//     Mux4Way16(a=e, b=f, c=g, d=h, sel=sel[0..1], out=efgh);\n//     Mux16(a=abcd, b=efgh, sel=sel[2], out=out);\n// }\nclass Mux8Way16 extends Chip {\n    constructor() {\n        super(\"Mux8Way16\", [PIN_A, PIN_B, PIN_C, PIN_D, PIN_E, PIN_F, PIN_G, PIN_H, PIN_SELECTOR], [PIN_OUTPUT]);\n        this.abcd = new Mux4Way16();\n        this.efgh = new Mux4Way16();\n        this.outMux = new Mux16();\n        // Internal Wiring\n        this.abcd.getBus(PIN_OUTPUT).connect(this.outMux.getBus(PIN_A));\n        this.efgh.getBus(PIN_OUTPUT).connect(this.outMux.getBus(PIN_B));\n        this.createBus(PIN_A, this.abcd.getBus(PIN_A));\n        this.createBus(PIN_B, this.abcd.getBus(PIN_B));\n        this.createBus(PIN_C, this.abcd.getBus(PIN_C));\n        this.createBus(PIN_D, this.abcd.getBus(PIN_D));\n        this.createBus(PIN_E, this.efgh.getBus(PIN_A));\n        this.createBus(PIN_F, this.efgh.getBus(PIN_B));\n        this.createBus(PIN_G, this.efgh.getBus(PIN_C));\n        this.createBus(PIN_H, this.efgh.getBus(PIN_D));\n        this.createBus(PIN_SELECTOR, new BinaryBus(createPinArray(3))\n            .connect(this.abcd.getBus(PIN_SELECTOR), 0, 1)\n            .connect(this.efgh.getBus(PIN_SELECTOR), 0, 1)\n            .connectPin(this.outMux.getPin(PIN_SELECTOR), 2));\n        this.createBus(PIN_OUTPUT, this.outMux.getBus(PIN_OUTPUT));\n    }\n}\nexport default Mux8Way16;\n//# sourceMappingURL=Mux8Way16.js.map","import { PIN_F } from \"../../CPU/ALU/ALU\";\nimport BinaryBus, { createPinArray } from \"../../BinaryBus\";\nimport Chip from \"../../Chip\";\nimport { PIN_C, PIN_D } from \"../../Multiplexing/Dmux4Way/Dmux4Way\";\nimport Dmux8Way from \"../../Multiplexing/Dmux8Way\";\nimport { PIN_E, PIN_G, PIN_H } from \"../../Multiplexing/Dmux8Way/Dmux8Way\";\nimport Mux8Way16 from \"../../Multiplexing/Mux8Way16\";\nimport { PIN_A, PIN_ADDRESS, PIN_B, PIN_INPUT, PIN_LOAD, PIN_OUTPUT, PIN_SELECTOR, WORD_LENGTH, } from \"../../types\";\nimport Register from \"../../Memory/Register\";\n/**\n * Memory of 8 registers, each 16 bit-wide. Out holds the value\n * stored at the memory location specified by address. If load==1, then\n * the in value is loaded into the memory location specified by address\n * (the loaded value will be emitted to out from the next time step onward).\n */\n//  CHIP RAM8 {\n//     IN in[16], load, address[3];\n//     OUT out[16];\n//     PARTS:\n//     DMux8Way(in=load, sel=address, a=la, b=lb, c=lc, d=ld, e=le, f=lf, g=lg, h=lh);\n//     Register(in=in, out=ra, load=la);\n//     Register(in=in, out=rb, load=lb);\n//     Register(in=in, out=rc, load=lc);\n//     Register(in=in, out=rd, load=ld);\n//     Register(in=in, out=re, load=le);\n//     Register(in=in, out=rf, load=lf);\n//     Register(in=in, out=rg, load=lg);\n//     Register(in=in, out=rh, load=lh);\n//     Mux8Way16(a=ra, b=rb, c=rc, d=rd, e=re, f=rf, g=rg, h=rh, sel=address, out=out);\n// }\nclass RAM8 extends Chip {\n    constructor(clock) {\n        super(\"RAM8\", [PIN_INPUT, PIN_LOAD, PIN_ADDRESS], [PIN_OUTPUT]);\n        this.demux = new Dmux8Way();\n        this.mux = new Mux8Way16();\n        this.registers = Array(WORD_LENGTH)\n            .fill(null)\n            .map(() => new Register(clock));\n        this.addressFork = new BinaryBus(createPinArray(3));\n        this.inputFork = new BinaryBus();\n        this.registers.forEach((r) => this.inputFork.connect(r.getBus(PIN_INPUT)));\n        this.addressFork\n            .connect(this.demux.getBus(PIN_SELECTOR))\n            .connect(this.mux.getBus(PIN_SELECTOR));\n        [PIN_A, PIN_B, PIN_C, PIN_D, PIN_E, PIN_F, PIN_G, PIN_H].forEach((pin, i) => {\n            this.demux.getPin(pin).connectRecipient(this.registers[i].getPin(PIN_LOAD));\n            this.registers[i].getBus(PIN_OUTPUT).connect(this.mux.getBus(pin));\n        });\n        this.createPin(PIN_LOAD, this.demux.getPin(PIN_INPUT));\n        this.createBus(PIN_ADDRESS, this.addressFork);\n        this.createBus(PIN_INPUT, this.inputFork);\n        this.createBus(PIN_OUTPUT, this.mux.getBus(PIN_OUTPUT));\n    }\n}\nexport default RAM8;\n//# sourceMappingURL=RAM8.js.map","/**\n * Memory of 64 registers, each 16 bit-wide. Out holds the value\n * stored at the memory location specified by address. If load==1, then\n * the in value is loaded into the memory location specified by address\n * (the loaded value will be emitted to out from the next time step onward).\n */\nimport { PIN_F } from \"../../CPU/ALU/ALU\";\nimport BinaryBus, { createPinArray } from \"../../BinaryBus\";\nimport Chip from \"../../Chip\";\nimport { PIN_C, PIN_D } from \"../../Multiplexing/Dmux4Way/Dmux4Way\";\nimport Dmux8Way from \"../../Multiplexing/Dmux8Way\";\nimport { PIN_E, PIN_G, PIN_H } from \"../../Multiplexing/Dmux8Way/Dmux8Way\";\nimport Mux8Way16 from \"../../Multiplexing/Mux8Way16\";\nimport { PIN_A, PIN_ADDRESS, PIN_B, PIN_INPUT, PIN_LOAD, PIN_OUTPUT, PIN_SELECTOR, WORD_LENGTH, } from \"../../types\";\nimport RAM8 from \"../../Memory/RAM8\";\n//  CHIP RAM64 {\n//     IN in[16], load, address[6];\n//     OUT out[16];\n//     PARTS:\n//     // Which sub register are we loading?\n//     DMux8Way(in=load, sel=address[0..2], a=la, b=lb, c=lc, d=ld, e=le, f=lf, g=lg, h=lh);\n//     // Each sub register is fed input and the demuxed load indicator, and the sub address\n//     RAM8(in=in, out=ra, address=address[3..5], load=la);\n//     RAM8(in=in, out=rb, address=address[3..5], load=lb);\n//     RAM8(in=in, out=rc, address=address[3..5], load=lc);\n//     RAM8(in=in, out=rd, address=address[3..5], load=ld);\n//     RAM8(in=in, out=re, address=address[3..5], load=le);\n//     RAM8(in=in, out=rf, address=address[3..5], load=lf);\n//     RAM8(in=in, out=rg, address=address[3..5], load=lg);\n//     RAM8(in=in, out=rh, address=address[3..5], load=lh);\n//     // Select which sub register we are outputting\n//     Mux8Way16(a=ra, b=rb, c=rc, d=rd, e=re, f=rf, g=rg, h=rh, sel=address[0..2], out=out);\n// }\nclass RAM64 extends Chip {\n    constructor(clock) {\n        super(\"RAM64\", [PIN_INPUT, PIN_LOAD, PIN_ADDRESS], [PIN_OUTPUT]);\n        this.demux = new Dmux8Way();\n        this.mux = new Mux8Way16();\n        this.ram = Array(WORD_LENGTH)\n            .fill(null)\n            .map(() => new RAM8(clock));\n        this.addressFork = new BinaryBus(createPinArray(6));\n        this.inputFork = new BinaryBus();\n        this.ram.forEach((r) => {\n            this.inputFork.connect(r.getBus(PIN_INPUT));\n            this.addressFork.connect(r.getBus(PIN_ADDRESS), 3, 5);\n        });\n        this.addressFork\n            .connect(this.demux.getBus(PIN_SELECTOR), 0, 2)\n            .connect(this.mux.getBus(PIN_SELECTOR), 0, 2);\n        [PIN_A, PIN_B, PIN_C, PIN_D, PIN_E, PIN_F, PIN_G, PIN_H].forEach((pin, i) => {\n            this.demux.getPin(pin).connectRecipient(this.ram[i].getPin(PIN_LOAD));\n            this.ram[i].getBus(PIN_OUTPUT).connect(this.mux.getBus(pin));\n        });\n        this.createPin(PIN_LOAD, this.demux.getPin(PIN_INPUT));\n        this.createBus(PIN_ADDRESS, this.addressFork);\n        this.createBus(PIN_INPUT, this.inputFork);\n        this.createBus(PIN_OUTPUT, this.mux.getBus(PIN_OUTPUT));\n    }\n}\nexport default RAM64;\n//# sourceMappingURL=RAM64.js.map","import { PIN_F } from \"../../CPU/ALU/ALU\";\nimport BinaryBus, { createPinArray } from \"../../BinaryBus\";\nimport Chip from \"../../Chip\";\nimport { PIN_C, PIN_D } from \"../../Multiplexing/Dmux4Way/Dmux4Way\";\nimport Dmux8Way from \"../../Multiplexing/Dmux8Way\";\nimport { PIN_E, PIN_G, PIN_H } from \"../../Multiplexing/Dmux8Way/Dmux8Way\";\nimport Mux8Way16 from \"../../Multiplexing/Mux8Way16\";\nimport { PIN_A, PIN_ADDRESS, PIN_B, PIN_INPUT, PIN_LOAD, PIN_OUTPUT, PIN_SELECTOR, WORD_LENGTH, } from \"../../types\";\nimport RAM64 from \"../../Memory/RAM64\";\n/**\n * Memory of 512 registers, each 16 bit-wide. Out holds the value\n * stored at the memory location specified by address. If load==1, then\n * the in value is loaded into the memory location specified by address\n * (the loaded value will be emitted to out from the next time step onward).\n */\n//  CHIP RAM512 {\n//     IN in[16], load, address[9];\n//     OUT out[16];\n//     PARTS:\n//     // Which sub register are we loading?\n//     DMux8Way(in=load, sel=address[0..2], a=la, b=lb, c=lc, d=ld, e=le, f=lf, g=lg, h=lh);\n//     // Each sub register is fed input and the demuxed load indicator, and the sub address\n//     RAM64(in=in, out=ra, address=address[3..8], load=la);\n//     RAM64(in=in, out=rb, address=address[3..8], load=lb);\n//     RAM64(in=in, out=rc, address=address[3..8], load=lc);\n//     RAM64(in=in, out=rd, address=address[3..8], load=ld);\n//     RAM64(in=in, out=re, address=address[3..8], load=le);\n//     RAM64(in=in, out=rf, address=address[3..8], load=lf);\n//     RAM64(in=in, out=rg, address=address[3..8], load=lg);\n//     RAM64(in=in, out=rh, address=address[3..8], load=lh);\n//     // Select which sub register we are outputting\n//     Mux8Way16(a=ra, b=rb, c=rc, d=rd, e=re, f=rf, g=rg, h=rh, sel=address[0..2], out=out);\n// }\nclass RAM512 extends Chip {\n    constructor(clock) {\n        super(\"RAM512\", [PIN_INPUT, PIN_LOAD, PIN_ADDRESS], [PIN_OUTPUT]);\n        this.demux = new Dmux8Way();\n        this.mux = new Mux8Way16();\n        this.ram = Array(WORD_LENGTH)\n            .fill(null)\n            .map(() => new RAM64(clock));\n        this.addressFork = new BinaryBus(createPinArray(9));\n        this.inputFork = new BinaryBus();\n        this.ram.forEach((r) => {\n            this.inputFork.connect(r.getBus(PIN_INPUT));\n            this.addressFork.connect(r.getBus(PIN_ADDRESS), 3, 8);\n        });\n        this.addressFork\n            .connect(this.demux.getBus(PIN_SELECTOR), 0, 2)\n            .connect(this.mux.getBus(PIN_SELECTOR), 0, 2);\n        [PIN_A, PIN_B, PIN_C, PIN_D, PIN_E, PIN_F, PIN_G, PIN_H].forEach((pin, i) => {\n            this.demux.getPin(pin).connectRecipient(this.ram[i].getPin(PIN_LOAD));\n            this.ram[i].getBus(PIN_OUTPUT).connect(this.mux.getBus(pin));\n        });\n        this.createPin(PIN_LOAD, this.demux.getPin(PIN_INPUT));\n        this.createBus(PIN_ADDRESS, this.addressFork);\n        this.createBus(PIN_INPUT, this.inputFork);\n        this.createBus(PIN_OUTPUT, this.mux.getBus(PIN_OUTPUT));\n    }\n}\nexport default RAM512;\n//# sourceMappingURL=RAM512.js.map","import { PIN_F } from \"../../CPU/ALU/ALU\";\nimport BinaryBus, { createPinArray } from \"../../BinaryBus\";\nimport Chip from \"../../Chip\";\nimport { PIN_C, PIN_D } from \"../../Multiplexing/Dmux4Way/Dmux4Way\";\nimport Dmux8Way from \"../../Multiplexing/Dmux8Way\";\nimport { PIN_E, PIN_G, PIN_H } from \"../../Multiplexing/Dmux8Way/Dmux8Way\";\nimport Mux8Way16 from \"../../Multiplexing/Mux8Way16\";\nimport { PIN_A, PIN_ADDRESS, PIN_B, PIN_INPUT, PIN_LOAD, PIN_OUTPUT, PIN_SELECTOR, WORD_LENGTH, } from \"../../types\";\nimport RAM512 from \"../../Memory/RAM512\";\n/**\n * Memory of 4K registers, each 16 bit-wide. Out holds the value\n * stored at the memory location specified by address. If load==1, then\n * the in value is loaded into the memory location specified by address\n * (the loaded value will be emitted to out from the next time step onward).\n */\n//  CHIP RAM4K {\n//     IN in[16], load, address[12];\n//     OUT out[16];\n//     PARTS:\n//     // Which sub register are we loading?\n//     DMux8Way(in=load, sel=address[0..2], a=la, b=lb, c=lc, d=ld, e=le, f=lf, g=lg, h=lh);\n//     // Each sub register is fed input and the demuxed load indicator, and the sub address\n//     RAM512(in=in, out=ra, address=address[3..11], load=la);\n//     RAM512(in=in, out=rb, address=address[3..11], load=lb);\n//     RAM512(in=in, out=rc, address=address[3..11], load=lc);\n//     RAM512(in=in, out=rd, address=address[3..11], load=ld);\n//     RAM512(in=in, out=re, address=address[3..11], load=le);\n//     RAM512(in=in, out=rf, address=address[3..11], load=lf);\n//     RAM512(in=in, out=rg, address=address[3..11], load=lg);\n//     RAM512(in=in, out=rh, address=address[3..11], load=lh);\n//     // Select which sub register we are outputting\n//     Mux8Way16(a=ra, b=rb, c=rc, d=rd, e=re, f=rf, g=rg, h=rh, sel=address[0..2], out=out);\n// }\nclass RAM4K extends Chip {\n    constructor(clock) {\n        super(\"RAM4K\", [PIN_INPUT, PIN_LOAD, PIN_ADDRESS], [PIN_OUTPUT]);\n        this.demux = new Dmux8Way();\n        this.mux = new Mux8Way16();\n        this.ram = Array(WORD_LENGTH)\n            .fill(null)\n            .map(() => new RAM512(clock));\n        this.addressFork = new BinaryBus(createPinArray(9));\n        this.inputFork = new BinaryBus();\n        this.ram.forEach((r) => {\n            this.inputFork.connect(r.getBus(PIN_INPUT));\n            this.addressFork.connect(r.getBus(PIN_ADDRESS), 3, 11);\n        });\n        this.addressFork\n            .connect(this.demux.getBus(PIN_SELECTOR), 0, 2)\n            .connect(this.mux.getBus(PIN_SELECTOR), 0, 2);\n        [PIN_A, PIN_B, PIN_C, PIN_D, PIN_E, PIN_F, PIN_G, PIN_H].forEach((pin, i) => {\n            this.demux.getPin(pin).connectRecipient(this.ram[i].getPin(PIN_LOAD));\n            this.ram[i].getBus(PIN_OUTPUT).connect(this.mux.getBus(pin));\n        });\n        this.createPin(PIN_LOAD, this.demux.getPin(PIN_INPUT));\n        this.createBus(PIN_ADDRESS, this.addressFork);\n        this.createBus(PIN_INPUT, this.inputFork);\n        this.createBus(PIN_OUTPUT, this.mux.getBus(PIN_OUTPUT));\n    }\n}\nexport default RAM4K;\n//# sourceMappingURL=RAM4K.js.map","import Add16 from \"./Arithmetic/Add16\";\nimport FullAdder from \"./Arithmetic/FullAdder\";\nimport HalfAdder from \"./Arithmetic/HalfAdder\";\nimport Inc16 from \"./Arithmetic/Inc16\";\nimport ALU from \"./CPU/ALU\";\nimport PC from \"./CPU/PC\";\nimport And from \"./Logic/And\";\nimport And16 from \"./Logic/And16\";\nimport Nand from \"./Logic/Nand\";\nimport Not from \"./Logic/Not\";\nimport Not16 from \"./Logic/Not16\";\nimport Or from \"./Logic/Or\";\nimport Or16 from \"./Logic/Or16\";\nimport Or8Way from \"./Logic/Or8Way\";\nimport Xor from \"./Logic/Xor\";\nimport Bit from \"./Memory/Bit\";\nimport DataFlipFlop from \"./Memory/DataFlipFlop\";\nimport RAM4K from \"./Memory/RAM4K\";\nimport RAM512 from \"./Memory/RAM512\";\nimport RAM64 from \"./Memory/RAM64\";\nimport RAM8 from \"./Memory/RAM8\";\nimport Register from \"./Memory/Register\";\nimport Dmux from \"./Multiplexing/Dmux\";\nimport Dmux4Way from \"./Multiplexing/Dmux4Way\";\nimport Dmux8Way from \"./Multiplexing/Dmux8Way\";\nimport Mux from \"./Multiplexing/Mux\";\nimport Mux4Way16 from \"./Multiplexing/Mux4Way16\";\nimport Mux8Way16 from \"./Multiplexing/Mux8Way16\";\nconst chipFactory = {\n    // Arithmetic\n    Add16: () => new Add16(),\n    FullAdder: () => new FullAdder(),\n    HalfAdder: () => new HalfAdder(),\n    Inc16: () => new Inc16(),\n    // CPU\n    ALU: () => new ALU(),\n    PC: (c) => new PC(c),\n    // Logic\n    And: () => new And(),\n    And16: () => new And16(),\n    Nand: () => new Nand(),\n    Not: () => new Not(),\n    Not16: () => new Not16(),\n    Or: () => new Or(),\n    Or8Way: () => new Or8Way(),\n    Or16: () => new Or16(),\n    Xor: () => new Xor(),\n    // Memory\n    Bit: (c) => new Bit(c),\n    DFF: (c) => new DataFlipFlop(c),\n    RAM4K: (c) => new RAM4K(c),\n    RAM8: (c) => new RAM8(c),\n    RAM64: (c) => new RAM64(c),\n    RAM512: (c) => new RAM512(c),\n    Register: (c) => new Register(c),\n    // Multiplexing\n    Dmux: () => new Dmux(),\n    Dmux4Way: () => new Dmux4Way(),\n    Dmux8Way: () => new Dmux8Way(),\n    Mux: () => new Mux(),\n    Mux4Way16: () => new Mux4Way16(),\n    Mux8Way16: () => new Mux8Way16(),\n    Mux16: () => new Mux(),\n};\nexport default chipFactory;\n//# sourceMappingURL=chipFactory.js.map","export default class Clock {\n    constructor() {\n        this.count = 0;\n        this.state = false;\n        this.chips = [];\n    }\n    tick() {\n        this.state = true;\n        this.chips.forEach((c) => c.tick());\n    }\n    tock() {\n        this.state = false;\n        this.count++;\n        this.chips.forEach((c) => c.tock());\n    }\n    ticktock() {\n        this.tick();\n        this.tock();\n    }\n    registerClocked(clocked) {\n        this.chips.push(clocked);\n    }\n}\n//# sourceMappingURL=Clock.js.map","import stripComment from \"../../../computation/stripComment\";\nimport { parseRequiredFile, parseOutputFormat, parseOutputInstruction, isStartOfOutput, } from \"../../TestScripts/parseTestScripts\";\nimport { NandTestInstructionType, } from \"./types\";\nconst EVAL_REGEX = /^\\s*(eval(,|;))\\s*$/;\nconst SET_PIN_REGEX = /^(?:set\\s(?<pin>[A-Za-z0-9]+)\\s)(?<value>[0|1])(?:,|;)\\s*(?:\\/\\/(?<comment>.*)){0,1}$/;\nconst SET_BUS_REGEX = /^(?:set\\s(?<bus>[A-Za-z0-9]+)\\s)(?<value>[0|1]+)(?:,|;)\\s*(?:\\/\\/(?<comment>.*)){0,1}$/;\nexport const parseEvalInstruction = (input) => input.match(EVAL_REGEX) !== null;\nexport const parseSetPin = (input, lineNumber) => {\n    const match = input.match(SET_PIN_REGEX);\n    if (!!match) {\n        return {\n            type: NandTestInstructionType.setPin,\n            lineContent: input,\n            lineNumber,\n            pin: match.groups.pin,\n            value: match.groups.value === \"1\",\n        };\n    }\n    return;\n};\nexport const parseSetBus = (input, lineNumber) => {\n    const match = input.match(SET_BUS_REGEX);\n    if (!!match) {\n        return {\n            type: NandTestInstructionType.setBus,\n            lineContent: input,\n            lineNumber,\n            bus: match.groups.bus,\n            values: match.groups.value.split(\"\").map((s) => s === \"1\"),\n        };\n    }\n    return;\n};\nexport const parseNandTestScript = (input) => {\n    let outputFile;\n    let compareTo;\n    let load;\n    let outputList = [];\n    const testInstructions = [];\n    let stillCollectingOutput = true;\n    let startedCollectingOutput = false;\n    input\n        .map((s, i) => ({ lineContent: stripComment(s), lineNumber: i }))\n        .filter(({ lineContent }) => lineContent.length > 0) // Get rid of empty lines\n        .forEach(({ lineContent, lineNumber }) => {\n        // Check for load file (if not already seen)\n        if (!load) {\n            load = parseRequiredFile(lineContent, \"load\");\n            if (!!load)\n                return;\n        }\n        // Check for output file (if not already seen)\n        if (!outputFile) {\n            outputFile = parseRequiredFile(lineContent, \"outputFile\");\n            if (!!outputFile)\n                return;\n        }\n        // Check for output file (if not already seen)\n        if (!compareTo) {\n            compareTo = parseRequiredFile(lineContent, \"compareTo\");\n            if (!!compareTo)\n                return;\n        }\n        if (isStartOfOutput(lineContent)) {\n            outputList = [];\n        }\n        if (stillCollectingOutput || isStartOfOutput(lineContent)) {\n            const { isValidOutput, stillCollecting } = parseOutputFormat(lineContent, startedCollectingOutput, outputList);\n            stillCollectingOutput = stillCollecting;\n            if (!stillCollecting) {\n                const setOutput = {\n                    type: NandTestInstructionType.setOutput,\n                    outputList,\n                    lineContent,\n                    lineNumber,\n                };\n                testInstructions.push(setOutput);\n            }\n            if (isValidOutput) {\n                startedCollectingOutput = true;\n                return;\n            }\n        }\n        // Check for eval\n        if (parseEvalInstruction(lineContent)) {\n            testInstructions.push({\n                type: NandTestInstructionType.eval,\n                lineContent,\n                lineNumber,\n            });\n            return;\n        }\n        // Output\n        if (parseOutputInstruction(lineContent)) {\n            testInstructions.push({\n                type: NandTestInstructionType.output,\n                lineContent,\n                lineNumber,\n            });\n            return;\n        }\n        // Check for set pin\n        const setPin = parseSetPin(lineContent, lineNumber);\n        if (!!setPin) {\n            testInstructions.push(setPin);\n            return;\n        }\n        // Check for set bus\n        const setBus = parseSetBus(lineContent, lineNumber);\n        if (!!setBus) {\n            testInstructions.push(setBus);\n            return;\n        }\n    });\n    return {\n        outputFile,\n        compareTo,\n        load,\n        loadAll: false,\n        testInstructions\n    };\n};\nexport default parseNandTestScript;\n//# sourceMappingURL=nandChipTestScript.js.map","import React from \"react\";\nimport { depthFirstSearch, breadthFirstSearch } from \"@comp-sci-maths/lib/dist/\";\nimport { VisitFunction } from \"@comp-sci-maths/lib/dist/types\";\n\nimport { BREADTH_FIRST_SEARCH, DEPTH_FIRST_SEARCH } from \"./common\";\nimport { Graph } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\n\ninterface Props {\n  algorithmName: string;\n  graph: Graph<string>;\n  startVertex?: string;\n}\n\nexport interface UseGraphTraversal {\n  visitedItems: string[];\n}\n\nconst useGraphTraversal = ({\n  algorithmName,\n  graph,\n  startVertex,\n}: Props): UseGraphTraversal => {\n  const visitedItems: string[] = React.useMemo(() => {\n    const items: string[] = [];\n    const visit: VisitFunction<string> = (d) => items.push(d);\n\n    if (startVertex !== undefined) {\n      switch (algorithmName) {\n        case BREADTH_FIRST_SEARCH:\n          breadthFirstSearch(graph, startVertex.key, visit);\n          break;\n        case DEPTH_FIRST_SEARCH:\n          depthFirstSearch(graph, startVertex.key, visit);\n          break;\n      }\n    }\n\n    return items;\n  }, [algorithmName, graph, startVertex]);\n\n  return { visitedItems };\n};\n\nexport default useGraphTraversal;\n","import React from \"react\";\nimport { Graph } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\n\nexport interface Props {\n  className?: string;\n  graph: Graph<string>;\n  value: string | undefined;\n  onChange: (v: string | undefined) => void;\n}\n\nconst VertexPicker = ({\n  graph,\n  value,\n  onChange,\n  className,\n}: Props) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => {\n      onChange(value);\n    },\n    [onChange]\n  );\n\n  React.useEffect(() => {\n    if (graph.vertices.length > 0) {\n      onChange(graph.vertices[0]);\n    }\n  }, [graph, onChange]);\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      {graph.vertices.map((vertex) => (\n        <option key={vertex} value={vertex}>\n          {vertex}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  vertex: string | undefined;\n  componentProps: Props;\n}\n\nexport const usePicker = (\n  graph: Graph<string>,\n  className?: string\n): UsePicker => {\n  const [value, onChange] = React.useState<string | undefined>(undefined);\n\n  const vertex = React.useMemo(\n    () => graph.vertices.find((v) => v === value),\n    [value, graph]\n  );\n\n  return {\n    vertex,\n    componentProps: React.useMemo(\n      () => ({\n        graph,\n        className,\n        value,\n        onChange,\n      }),\n      [graph, className, value, onChange]\n    ),\n  };\n};\n\nexport default VertexPicker;\n","import React from \"react\";\n\ntype ValueReducer<T> = (existingValue: T) => T;\n\ninterface OutProps<T> {\n  value: T;\n  setValue: (newValue: T) => void;\n  reduceValue: (reducer: ValueReducer<T>) => void;\n  resetValue: () => void;\n}\n\ninterface StringConversion<T> {\n  toString: (v: T) => string;\n  fromString: (v: string) => T;\n}\n\n/**\n * Pre-made utility string conversion for storing boolean\n */\nexport const storeBoolean: StringConversion<boolean> = {\n  toString: (v) => (v ? \"true\" : \"false\"),\n  fromString: (s) => s === \"true\",\n};\n\n/**\n * Pre-made utility string conversion for storing string (no transform)\n */\nexport const storeString: StringConversion<string> = {\n  toString: (v) => v,\n  fromString: (s) => s,\n};\n\n/**\n * Pre-made utility string conversion for storing number\n */\nexport const storeNumber: StringConversion<number> = {\n  toString: (n) => `${n}`,\n  fromString: (v) => Number.parseInt(v),\n};\n\n/**\n * Pre-made utility string conversion generator for storing objects\n */\nexport const useStoreObjectFactory = <T>(): StringConversion<T> => {\n  return React.useMemo(\n    () => ({\n      toString: (v: T) => JSON.stringify(v),\n      fromString: (v: string) => JSON.parse(v),\n    }),\n    []\n  );\n};\n\nconst useLocalStorage = function <T>(\n  stateName: string,\n  noLocalStorageInitialState: T,\n  stringConversion: StringConversion<T>\n): OutProps<T> {\n  const [value, setStateValue] = React.useState<T>(noLocalStorageInitialState);\n\n  const getFromStorage = React.useCallback(() => {\n    const rawValue: string | null = localStorage.getItem(stateName);\n    if (rawValue !== null) {\n      return stringConversion.fromString(rawValue);\n    }\n    return noLocalStorageInitialState;\n  }, [stateName, stringConversion, noLocalStorageInitialState]);\n\n  React.useEffect(() => {\n    const existingValue = getFromStorage();\n    if (existingValue !== undefined) {\n      setStateValue(existingValue);\n    }\n  }, [stateName, setStateValue, getFromStorage]);\n\n  const setValue = React.useCallback(\n    (valueToSet: T) => {\n      const asString = stringConversion.toString(valueToSet);\n      localStorage.setItem(stateName, asString);\n      setStateValue(valueToSet);\n    },\n    [stateName, stringConversion, setStateValue]\n  );\n\n  const reduceValue = React.useCallback(\n    (reducer: ValueReducer<T>) => {\n      const existingValue = getFromStorage();\n      const newValue = reducer(existingValue);\n      setValue(newValue);\n    },\n    [setValue, getFromStorage]\n  );\n\n  const resetValue = React.useCallback(() => {\n    setValue(noLocalStorageInitialState);\n  }, [setValue, noLocalStorageInitialState]);\n\n  return {\n    value,\n    setValue,\n    reduceValue,\n    resetValue,\n  };\n};\n\nexport default useLocalStorage;\n","import useLocalStorage, {\n  storeNumber,\n  storeString,\n  storeBoolean,\n  useStoreObjectFactory,\n} from \"./useLocalStorage\";\n\nexport {\n  useLocalStorage,\n  storeNumber,\n  storeString,\n  storeBoolean,\n  useStoreObjectFactory,\n};\n\nexport default useLocalStorage;\n","import simpleStringGraph, {\n  vertexPositions as simpleStringGraphVertexPositions,\n} from \"./simpleStringGraph\";\nimport largerStringGraph, {\n  vertexPositions as largerStringGraphVertexPositions,\n} from \"./largerStringGraph\";\nimport complexStringGraph, {\n  vertexPositions as complexStringGraphVertexPositions,\n} from \"./complexStringGraph\";\nimport motorwayCrossingGraph, {\n  vertexPositions as motorwayCrossingGraphVertexPositions,\n} from \"./motorwayCrossingGraph\";\n\nexport const graphs = {\n  motorwayCrossingGraph,\n  simpleStringGraph,\n  largerStringGraph,\n  complexStringGraph,\n};\nexport const vertexPositionsByGraphName = {\n  simpleStringGraph: simpleStringGraphVertexPositions,\n  largerStringGraph: largerStringGraphVertexPositions,\n  complexStringGraph: complexStringGraphVertexPositions,\n  motorwayCrossingGraph: motorwayCrossingGraphVertexPositions,\n};\n\nexport default graphs;","import {\n  Graph,\n  createInitialState,\n  addBidirectionalEdge,\n  Edge\n} from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport { PositionByVertex } from \"../types\";\n\nconst graph = (): Graph<string> => {\n  return ([\n    { from: \"M1_1\", to: \"M1_2\", weight: 1 },\n    { from: \"M1_2\", to: \"M1_3\", weight: 1 },\n    { from: \"M1_3\", to: \"M1_4\", weight: 1 },\n    { from: \"M1_4\", to: \"M1_5\", weight: 1 },\n    { from: \"A\", to: \"M1_3\", weight: 10 },\n    { from: \"M1_3\", to: \"B\", weight: 10 }\n  ] as Edge<string>[]).reduce((acc, { from, to, weight }) => addBidirectionalEdge(acc, from, to, weight), createInitialState<string>());\n};\n\nexport default graph;\n\nexport const vertexPositions: PositionByVertex = {\n  \"A\": {\n    x: 192,\n    y: 199,\n  },\n  \"M1_2\": {\n    x: 316,\n    y: 183,\n  },\n  \"M1_1\": { x: 361, y: 249 },\n  \"M1_3\": {\n    x: 262,\n    y: 126,\n  },\n  \"M1_4\": {\n    x: 201,\n    y: 75,\n  },\n  \"M1_5\": { x: 116, y: 47 },\n  \"B\": {\n    x: 325,\n    y: 60,\n  },\n};\n","import {\n  Graph,\n  createInitialState,\n  addBidirectionalEdge,\n  Edge\n} from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport { PositionByVertex } from \"../types\";\n\nconst graph = (): Graph<string> => {\n  return ([\n    { from: \"A\", to: \"B\" },\n    { from: \"B\", to: \"C\" },\n    { from: \"B\", to: \"D\" },\n    { from: \"D\", to: \"A\" }\n  ] as Edge<string>[]).reduce((acc, { from, to, weight }) => addBidirectionalEdge(acc, from, to, weight), createInitialState<string>());\n};\n\nexport default graph;\n\nexport const vertexPositions: PositionByVertex = {\n  \"A\": { x: 166, y: 38 },\n  \"B\": { x: 211, y: 102 },\n  \"C\": { x: 93, y: 141 },\n  \"D\": { x: 279, y: 63 },\n};\n","import {\n  Graph,\n  createInitialState,\n  addBidirectionalEdge,\n  Edge\n} from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport { PositionByVertex } from \"../types\";\n\nconst graph = (): Graph<string> => {\n  return ([\n    { from: \"S\", to: \"A\" },\n    { from: \"S\", to: \"B\" },\n    { from: \"S\", to: \"C\" },\n    { from: \"A\", to: \"D\" },\n    { from: \"D\", to: \"G\" },\n    { from: \"B\", to: \"E\" },\n    { from: \"E\", to: \"G\" },\n    { from: \"C\", to: \"F\" },\n    { from: \"F\", to: \"G\" }\n  ] as Edge<string>[]).reduce((acc, { from, to, weight }) => addBidirectionalEdge(acc, from, to, weight), createInitialState<string>());\n};\n\nexport default graph;\n\nexport const vertexPositions: PositionByVertex = {\n  \"S\": { x: 60, y: 35 },\n  \"A\": { x: 57, y: 142 },\n  \"B\": { x: 196, y: 35 },\n  \"C\": { x: 127, y: 97 },\n  \"D\": { x: 113, y: 227 },\n  \"G\": { x: 208, y: 214 },\n  \"E\": { x: 280, y: 111 },\n  \"F\": { x: 209, y: 126 },\n};\n","import {\n  Graph,\n  createInitialState,\n  addBidirectionalEdge,\n  Edge\n} from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport { PositionByVertex } from \"../types\";\n\nconst graph = (): Graph<string> => {\n  return ([\n    { from: \"S\", to: \"A\", weight: 7 },\n    { from: \"S\", to: \"B\", weight: 2 },\n    { from: \"S\", to: \"C\", weight: 3 },\n    { from: \"A\", to: \"D\", weight: 4 },\n    { from: \"A\", to: \"B\", weight: 3 },\n    { from: \"B\", to: \"D\", weight: 4 },\n    { from: \"B\", to: \"H\", weight: 1 },\n    { from: \"C\", to: \"L\", weight: 2 },\n    { from: \"D\", to: \"F\", weight: 5 },\n    { from: \"E\", to: \"K\", weight: 5 },\n    { from: \"E\", to: \"G\", weight: 2 },\n    { from: \"F\", to: \"H\", weight: 3 },\n    { from: \"G\", to: \"H\", weight: 2 },\n    { from: \"I\", to: \"L\", weight: 4 },\n    { from: \"I\", to: \"K\", weight: 4 },\n    { from: \"J\", to: \"L\", weight: 4 },\n    { from: \"J\", to: \"K\", weight: 4 }\n  ] as Edge<string>[]).reduce((acc, { from, to, weight }) => addBidirectionalEdge(acc, from, to, weight), createInitialState<string>());\n};\n\nexport default graph;\n\nexport const vertexPositions: PositionByVertex = {\n  \"S\": { x: 153, y: 65 },\n  \"A\": { x: 229, y: 52 },\n  \"B\": { x: 214, y: 140 },\n  \"C\": { x: 77, y: 84 },\n  \"D\": { x: 307, y: 62 },\n  \"H\": { x: 309, y: 172 },\n  \"L\": { x: 70, y: 164 },\n  \"F\": { x: 364, y: 115 },\n  \"E\": { x: 236, y: 272 },\n  \"K\": { x: 157, y: 263 },\n  \"G\": { x: 310, y: 250 },\n  \"I\": { x: 81, y: 243 },\n  \"J\": { x: 160, y: 188 },\n};\n","import React from \"react\";\nimport useLocalStorage, {\n  useStoreObjectFactory,\n} from \"../../../lib/useLocalStorage\";\n\nimport {\n  graphs as cannedGraphs,\n  vertexPositionsByGraphName,\n} from \"./cannedGraphs\";\nimport { createInitialState, Graph } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport {\n  GraphsById,\n  PositionsForGraphName,\n  PositionByVertex,\n  SavedGraphState,\n} from \"./types\";\nimport cogoToast from \"cogo-toast\";\n\nexport interface UseSavedGraph {\n  names: string[];\n  graphs: GraphsById;\n  vertexPositionsByGraph: PositionsForGraphName;\n  createNew(name: string): void;\n  save(name: string, graph: Graph<any>, positions: PositionByVertex): void;\n  reset: () => void;\n}\n\nconst defaultSavedGraphState: SavedGraphState = Object.entries(cannedGraphs)\n  .map(([name, generator]) => ({ name, graph: generator() }))\n  .reduce((acc, { name, graph }) => ({ ...acc, [name]: graph }), {});\n\nconst defaultSavedVertexState: PositionsForGraphName = vertexPositionsByGraphName;\n\nconst useSavedGraph = (): UseSavedGraph => {\n  const {\n    value: graphsData,\n    reduceValue: reduceGraphs,\n    setValue: setGraphs,\n  } = useLocalStorage<SavedGraphState>(\n    \"saved-graphs-fn\",\n    defaultSavedGraphState,\n    useStoreObjectFactory()\n  );\n\n  const {\n    value: vertexPositionsByGraph,\n    reduceValue: reduceVertexPositions,\n    setValue: setVertexPositions,\n  } = useLocalStorage<PositionsForGraphName>(\n    \"saved-graph-positions-fn\",\n    defaultSavedVertexState,\n    useStoreObjectFactory()\n  );\n\n  const names: string[] = React.useMemo(() => Object.keys(graphsData), [\n    graphsData,\n  ]);\n  const graphs: GraphsById = React.useMemo(\n    () =>\n      Object.entries(graphsData)\n        .map(([name, graphData]) => {\n          // Build full graphs from the base data\n          const graph = createInitialState();\n          graph.vertices = graphData.vertices;\n          graph.edges = graphData.edges;\n          return { name, graph };\n        })\n        .reduce((acc, { name, graph }) => ({ ...acc, [name]: graph }), {}),\n    [graphsData]\n  );\n\n  const createNew = React.useCallback(\n    (name: string) => {\n      if (name.length < 3) {\n        cogoToast.error(\"Could not save graph with short name (length < 3)\");\n      } else if (names.includes(name)) {\n        cogoToast.error(\"This name already exists\");\n      } else {\n        reduceGraphs((existing: SavedGraphState) => ({\n          ...existing,\n          [name]: createInitialState(),\n        }));\n      }\n    },\n    [reduceGraphs, names]\n  );\n\n  const save = React.useCallback(\n    (name: string, graph: Graph<any>, positions: PositionByVertex) => {\n      reduceGraphs((existing: SavedGraphState) => ({\n        ...existing,\n        [name]: graph,\n      }));\n      reduceVertexPositions((existing: PositionsForGraphName) => ({\n        ...existing,\n        [name]: positions,\n      }));\n    },\n    [reduceGraphs, reduceVertexPositions]\n  );\n\n  const reset = React.useCallback(() => {\n    setGraphs(defaultSavedGraphState);\n    setVertexPositions({});\n  }, [setGraphs, setVertexPositions]);\n\n  return {\n    names,\n    graphs,\n    vertexPositionsByGraph,\n    createNew,\n    save,\n    reset,\n  };\n};\n\nexport default useSavedGraph;\n","import p5 from \"p5\";\nimport { AbstractSketch } from \"../../../p5/useSketch\";\nimport { createInitialState } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\n\nimport { GraphSketchConfig } from \"./GraphBuilder/types\";\nimport DataItemBoid from \"../../../p5/Boid/DataItemBoid\";\nimport { createP5Vector } from \"../../Algorithms/Routing/GridRouting/useGridGraph\";\n\nconst WIDTH = 500;\nconst HEIGHT = 300;\n\nconst getDefaultConfig = (): GraphSketchConfig => ({\n  graph: createInitialState(),\n  vertexPositions: {},\n  physicsEnabled: false,\n});\n\nclass GraphSketch extends AbstractSketch<GraphSketchConfig> {\n  boids: {\n    [id: string]: DataItemBoid<string>;\n  };\n\n  colours: {\n    [id: string]: string;\n  };\n  borderWeights: {\n    [id: string]: number;\n  };\n  borderColours: {\n    [id: string]: string;\n  };\n\n  constructor() {\n    super(getDefaultConfig());\n    this.boids = {};\n    this.colours = {};\n    this.borderWeights = {};\n    this.borderColours = {};\n  }\n\n  setColour(vertex: string, colour: string) {\n    this.colours[vertex] = colour;\n  }\n\n  setBorderColour(vertex: string, borderColour: string) {\n    this.borderColours[vertex] = borderColour;\n  }\n\n  setBorderWeight(vertex: string, borderWeight: number) {\n    this.borderWeights[vertex] = borderWeight;\n  }\n\n  getBoid(vertex: string): DataItemBoid<string> | undefined {\n    return this.boids[vertex];\n  }\n\n  getOrCreateBoid(s: p5, vertex: string): DataItemBoid<string> {\n    let boid = this.boids[vertex];\n    if (!boid) {\n      let storedPosition = (this.config.vertexPositions || {})[vertex] || {\n        x: s.random(0, s.width),\n        y: s.random(0, s.height),\n      };\n\n      boid = new DataItemBoid<string>({\n        entity: vertex,\n        label: vertex,\n        radius: !!s ? s.width / 12 : 5,\n        position: !!s\n          ? s.createVector(storedPosition.x, storedPosition.y)\n          : createP5Vector(0, 0),\n      });\n      this.boids[vertex] = boid;\n    }\n\n    boid.colour = this.colours[vertex] || \"red\";\n    boid.borderWeight = this.borderWeights[vertex] || 1;\n    boid.borderColour = this.borderColours[vertex] || \"black\";\n\n    return boid;\n  }\n\n  sketch(s: p5) {\n    const that = this;\n    let screenCentre: p5.Vector;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textAlign(s.CENTER, s.CENTER);\n      screenCentre = s.createVector(s.width / 2, s.height / 2);\n    };\n\n    s.mousePressed = function () {\n      const mousePosition = s.createVector(s.mouseX, s.mouseY);\n      const boid = Object.values(that.boids).find((boid) =>\n        boid.isMouseOver(mousePosition)\n      );\n      if (boid !== undefined) {\n        boid.grab();\n      }\n    };\n\n    s.mouseDragged = function () {\n      const mousePosition = s.createVector(s.mouseX, s.mouseY);\n      Object.values(that.boids).forEach((boid) => boid.dragged(mousePosition));\n    };\n\n    s.mouseReleased = function () {\n      Object.values(that.boids).forEach((boid) => boid.releaseGrab());\n    };\n\n    s.draw = function () {\n      s.background(\"skyblue\");\n      s.fill(\"blue\");\n\n      const {\n        graph: { vertices, edges },\n        physicsEnabled,\n      } = that.config;\n\n      // Get the list of boids in this sketch based on the vertex IDs\n      const boidsInSketch: DataItemBoid<string>[] = vertices.map((v) =>\n        that.getOrCreateBoid(s, v)\n      );\n      const boidIdsInSketch: string[] = vertices;\n\n      // Get the list of boid edges\n      const boidEdges = edges\n        .filter(\n          ({ from, to }) =>\n            boidIdsInSketch.includes(from) &&\n            boidIdsInSketch.includes(to)\n        )\n        .map(({ from, to, weight }) => ({\n          from: that.getOrCreateBoid(s, from),\n          to: that.getOrCreateBoid(s, to),\n          weight,\n        }));\n\n      if (physicsEnabled) {\n        // Attract any boids that are very near the edge to the centre\n        boidsInSketch\n          .filter(({ position: { x, y } }) => {\n            return (\n              x < s.width / 8 ||\n              x > (s.width * 7) / 8 ||\n              y < s.height / 8 ||\n              y > (s.height * 7) / 8\n            );\n          })\n          .forEach((b) => b.seek(screenCentre));\n\n        // They should all repel each other\n        boidsInSketch.forEach((ba, ia) => {\n          boidsInSketch\n            .filter((_, ib) => ia !== ib)\n            .forEach((bb) => ba.flee(bb.position, s.width / 4));\n        });\n\n        // Apply force of a spring between connected boids\n        boidEdges.forEach(({ from, to }) => {\n          from.spring(to.position, s.width / 8, s.width / 32);\n          to.spring(from.position, s.width / 8, s.width / 32);\n        });\n\n        // Call upon all boids to update themselves\n        boidsInSketch.forEach((b) => b.update(s));\n      }\n\n      // Draw the lines\n      boidEdges.forEach(({ from, to, weight }) => {\n        s.strokeWeight(4);\n        s.line(from.position.x, from.position.y, to.position.x, to.position.y);\n        let midpoint: p5.Vector = (p5.Vector.lerp(\n          from.position,\n          to.position,\n          0.5\n        ) as unknown) as p5.Vector; // error in p5 type definition\n\n        s.strokeWeight(1);\n        s.fill(\"white\");\n        s.circle(midpoint.x, midpoint.y, from.radius / 2);\n        s.fill(\"black\");\n        s.textFont(\"Helvetica\", 14);\n        s.textAlign(s.CENTER, s.CENTER);\n        s.text(`${weight}`, midpoint.x, midpoint.y);\n      });\n\n      /// Call upon all boids to draw themselves\n      s.textFont(\"Helvetica\", 20);\n      boidsInSketch.forEach((b) => b.draw(s));\n    };\n  };\n}\n\nexport default GraphSketch;\n","import React from \"react\";\nimport useSavedGraph, { UseSavedGraph } from \"./useSavedGraph\";\nimport graphApi, { GraphAction, Graph } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport useSketch, { UseSketch } from \"../../../p5/useSketch\";\nimport GraphSketch from \"../../../ComputerScience/DataStructures/GraphManager/GraphSketch\";\nimport { GraphSketchConfig } from \"./GraphBuilder/types\";\nimport { PositionByVertex } from \"./types\";\nimport cannedGraphs from \"./cannedGraphs\";\n\ninterface Props {\n  names: string[];\n  value?: string;\n  onSelectChange: React.ChangeEventHandler<HTMLSelectElement>;\n  refContainer: any;\n}\n\nconst GraphPickerWithSketch: React.FunctionComponent<Props> = ({\n  names,\n  value,\n  onSelectChange,\n  refContainer,\n}) => (\n  <React.Fragment>\n    <div className=\"form-group\">\n      <label>Graph</label>\n      <select className=\"form-control\" value={value} onChange={onSelectChange}>\n        {names.map((name) => (\n          <option key={name} value={name}>\n            {name}\n          </option>\n        ))}\n      </select>\n    </div>\n\n    <div className=\"sketch mt-3\" ref={refContainer} />\n  </React.Fragment>\n);\n\ninterface UsePicker {\n  graphName: string;\n  graph: Graph<string>;\n  graphDispatch: (action: GraphAction<string>) => void;\n  vertexPositions: PositionByVertex;\n  componentProps: Props;\n  onValueChange: (name: string) => void;\n  savedGraphUse: UseSavedGraph;\n  sketchUse: UseSketch<\n    GraphSketchConfig,\n    GraphSketch\n  >;\n}\n\nconst wrappedGraphReducer = (graph: Graph<string>, action: GraphAction<string>): Graph<string> => {\n  return graphApi.reduce(graph, action);\n}\n\nexport const usePicker = (\n  defaultGraphName: keyof typeof cannedGraphs\n): UsePicker => {\n  const savedGraphUse = useSavedGraph();\n  const { names, graphs, vertexPositionsByGraph } = savedGraphUse;\n\n  const [graph, graphDispatch] = React.useReducer(wrappedGraphReducer, graphs[defaultGraphName]);\n\n  const [graphName, setGraphName] = React.useState<string>(defaultGraphName);\n  const [vertexPositions, setVertexPositions] = React.useState<\n    PositionByVertex\n  >({});\n\n  const onChange = React.useCallback(\n    (name: string, graph: Graph<string>) => {\n      graphDispatch({ type: 'replace', newState: graph });\n      setGraphName(name);\n      setVertexPositions(vertexPositionsByGraph[name]);\n    },\n    [graphDispatch, vertexPositionsByGraph, setVertexPositions]\n  );\n\n  const [value, setValue] = React.useState<string>();\n\n  const onValueChange = React.useCallback(\n    (name: string) => {\n      onChange(name, graphs[name]);\n      setValue(name);\n    },\n    [onChange, graphs]\n  );\n\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => {\n      onValueChange(value);\n    },\n    [onValueChange]\n  );\n\n  // This needs to re-initialise the positions, graph name etc on startup\n  React.useEffect(() => {\n    if (defaultGraphName === graphName) {\n      onChange(defaultGraphName, graphs[defaultGraphName]);\n      setValue(defaultGraphName);\n    }\n  }, [defaultGraphName, graphName, graphs, onChange, setValue]);\n\n  const sketchUse = useSketch<\n    GraphSketchConfig,\n    GraphSketch\n  >(GraphSketch);\n\n  const { updateConfig, refContainer } = sketchUse;\n\n  React.useEffect(() => updateConfig({ graph, vertexPositions }), [\n    graph,\n    vertexPositions,\n    updateConfig,\n  ]);\n\n  return {\n    graphName,\n    graph,\n    graphDispatch,\n    vertexPositions,\n    savedGraphUse,\n    onValueChange,\n    componentProps: { onSelectChange, value, names, refContainer },\n    sketchUse,\n  };\n};\n\nexport default GraphPickerWithSketch;\n","import React from \"react\";\nimport GraphTraversalAlgorithmPicker, {\n  usePicker as useAlgorithmPicker,\n} from \"./GraphTraversalAlgorithmPicker\";\nimport useGraphTraversal from \"./useGraphTraversal\";\nimport VertexPicker, {\n  usePicker as useVertexPicker,\n} from \"../../../ComputerScience/DataStructures/GraphManager/GraphBuilder/VertexPicker\";\nimport GraphPickerWithSketch, {\n  usePicker as useGraphPicker,\n} from \"../../DataStructures/GraphManager/GraphPickerWithSketch\";\n\nconst Traversal: React.FunctionComponent = () => {\n  const {\n    algorithmName,\n    componentProps: algorithmPickerProps,\n  } = useAlgorithmPicker(\"form-control\");\n\n  const { graph, componentProps: graphPickerProps } = useGraphPicker(\n    \"largerStringGraph\"\n  );\n\n  const {\n    vertex: startVertex,\n    componentProps: vertexPickerProps,\n  } = useVertexPicker(graph, \"form-control\");\n\n  const { visitedItems } = useGraphTraversal({\n    algorithmName,\n    graph,\n    startVertex,\n  });\n\n  return (\n    <div>\n      <GraphPickerWithSketch {...graphPickerProps} />\n      <form>\n        <div className=\"form-group\">\n          <label>Algorithm</label>\n          <GraphTraversalAlgorithmPicker {...algorithmPickerProps} />\n        </div>\n        <div className=\"form-group\">\n          <label>Start Vertex</label>\n          <VertexPicker {...vertexPickerProps} />\n        </div>\n      </form>\n\n      <h2>Item Visit Order: {visitedItems.join(\" -> \")}</h2>\n    </div>\n  );\n};\n\nexport default Traversal;\n","import Component from \"./GraphTraversal\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/traversal/graph\",\n  title: \"Traversal - Graph\",\n  description:\n    \"Build a graph and learn how each traversal algorithm affects the order of visiting nodes\",\n  component: Component,\n};\n\nexport default Component;\n","import React from 'react';\n\nconst InteractiveGraphTraversal: React.FunctionComponent = () => {\n\n    return <div>Interactive Graph Traversal</div>\n}\n\nexport default InteractiveGraphTraversal;","import Component from \"./InteractiveGraphTraversal\";\nimport { Page } from \"../../../../../types\";\n\nexport const page: Page = {\n    href: \"/computerScience/algorithms/traversal/graph/interactive\",\n    title: \"Traversal - Graph - Interactive\",\n    description:\n        \"Execute a graph traversal interactively, with feedback from the system\",\n    component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport { PageRanks } from \"./types\";\nimport {\n  initialisePageRank,\n  iteratePageRank,\n  BLANK_PAGE_RANK_STATE,\n} from \"@comp-sci-maths/lib/dist/algorithms/pageRank/pageRank\";\nimport { PageRankState } from \"@comp-sci-maths/lib/dist/algorithms/pageRank/types\";\nimport { Graph } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\n\ninterface Props {\n  dampingFactor: number;\n  graph: Graph;\n}\n\ninterface UsePageRank {\n  iterations: number;\n  ranks: PageRanks;\n  rankHistory: PageRanks[];\n  begin: () => void;\n  iterate: () => void;\n}\n\ninterface IterateAction {\n  type: \"iterate\";\n}\n\ninterface InitialiseAction {\n  type: \"initialise\";\n  dampingFactor: number;\n  graph: Graph;\n}\n\ntype RankReducerAction = IterateAction | InitialiseAction;\n\nconst rankReducer = (\n  state: PageRankState<StringDataItem>,\n  action: RankReducerAction\n): PageRankState<StringDataItem> => {\n  switch (action.type) {\n    case \"iterate\": {\n      return iteratePageRank(state);\n    }\n    case \"initialise\":\n      return initialisePageRank(action.graph, action.dampingFactor);\n  }\n};\n\nconst usePageRank = ({ graph, dampingFactor }: Props): UsePageRank => {\n  const [rankState, dispatch] = React.useReducer(\n    rankReducer,\n    BLANK_PAGE_RANK_STATE\n  );\n\n  const iterate = React.useCallback(() => dispatch({ type: \"iterate\" }), []);\n\n  const begin = React.useCallback(\n    () => dispatch({ type: \"initialise\", graph, dampingFactor }),\n    [graph, dampingFactor]\n  );\n\n  React.useEffect(begin, [begin]);\n  const { ranks, iterations, rankHistory } = rankState;\n\n  return {\n    iterations,\n    ranks,\n    rankHistory,\n    begin: begin,\n    iterate,\n  };\n};\n\nexport default usePageRank;\n","import React from \"react\";\n\ninterface Props<T> {\n  headings: (keyof T)[];\n  data: T[];\n  expansionCutOff?: number;\n}\n\nconst expandReducer = (state: boolean): boolean => !state;\n\nconst Table = <T,>({ headings, data, expansionCutOff = 5 }: Props<T>) => {\n  const [isExpanded, toggledExpanded] = React.useReducer(expandReducer, false);\n\n  return (\n    <table className=\"table table-striped table-sm table-bordered\">\n      <thead>\n        <tr>\n          {headings.map((h, i) => (\n            <th key={i}>{h}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {data\n          .filter((d, i) => isExpanded || i <= expansionCutOff)\n          .map((d, i) => (\n            <tr key={i}>\n              {headings.map((h, ih) => (\n                <td key={ih}>{d[h]}</td>\n              ))}\n            </tr>\n          ))}\n        {data.length > expansionCutOff && (\n          <tr>\n            <td colSpan={headings.length}>\n              <button className=\"btn\" onClick={toggledExpanded}>\n                {isExpanded\n                  ? \"hide\"\n                  : `show ${data.length - expansionCutOff - 1} more`}\n              </button>\n            </td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default Table;\n","import React from \"react\";\nimport { PageRanks } from \"./types\";\nimport { roundTo2Dp } from \"@comp-sci-maths/lib/dist/algorithms/pageRank/pageRank\";\nimport Table from \"../../../Bootstrap/Table\";\n\ninterface Props {\n  pages: string[];\n  ranks: PageRanks;\n}\n\nconst CurrentRanksRable: React.FunctionComponent<Props> = ({\n  pages,\n  ranks,\n}) => {\n  const tableData = React.useMemo(\n    () =>\n      pages.map((page) => ({\n        page,\n        rank2dp: roundTo2Dp(ranks[page]),\n        rank: ranks[page],\n      })),\n    [pages, ranks]\n  );\n\n  return <Table headings={[\"page\", \"rank2dp\", \"rank2dp\"]} data={tableData} />;\n};\n\nexport default CurrentRanksRable;\n","import React from \"react\";\n\nimport { PageRanks } from \"./types\";\nimport { roundTo2Dp } from \"@comp-sci-maths/lib/dist/algorithms/pageRank/pageRank\";\n\ninterface Props {\n  pages: string[];\n  rankHistory: PageRanks[];\n}\n\nconst RankHistoryTable: React.FunctionComponent<Props> = ({\n  pages,\n  rankHistory,\n}) => {\n  return (\n    <table className=\"table table-striped\">\n      <thead>\n        <tr>\n          <th>Page</th>\n          {rankHistory.map((r, i) => (\n            <th key={i}>{i}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {pages.map((page) => (\n          <tr key={page}>\n            <td>{page}</td>\n            {rankHistory.map((r, i) => (\n              <td key={i}>{roundTo2Dp(r[page])}</td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default RankHistoryTable;\n","import React from \"react\";\nimport { PageRanks } from \"./types\";\n\ninterface Props {\n  pages: string[];\n  ranks: PageRanks;\n}\n\nconst InOrderList: React.FunctionComponent<Props> = ({ pages, ranks }) => {\n  const pagesInOrder: string[] = React.useMemo(\n    () =>\n      Object.entries(ranks)\n        .sort((r1, r2) => r2[1] - r1[1]) // compare the values\n        .map((r) => r[0]),\n    [pages, ranks]\n  );\n\n  return (\n    <ol>\n      {pagesInOrder.map((page) => (\n        <li key={page}>{page}</li>\n      ))}\n    </ol>\n  );\n};\n\nexport default InOrderList;\n","import React from \"react\";\n\ntype AnyCallback = () => void;\n\nfunction useInterval(callback: AnyCallback, delay: number | null) {\n  const savedCallback = React.useRef<AnyCallback>(() => {});\n\n  // Remember the latest callback.\n  React.useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  React.useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    } else {\n      return () => {};\n    }\n  }, [delay]);\n}\n\nexport default useInterval;\n","export interface PositionVars {\n  [k: string]: number;\n}\n\nexport enum SortStageType {\n  observation,\n  swap,\n  compare,\n}\n\nexport interface SortObservation<T> {\n  type: SortStageType.observation;\n  stageName: string;\n  positionVars: PositionVars;\n  data: T[];\n}\n\nexport interface SortSwap<T> {\n  type: SortStageType.swap;\n  from: number;\n  to: number;\n  lastObservation: SortObservation<T>;\n}\n\nexport interface SortCompare<T> {\n  type: SortStageType.compare;\n  a: T;\n  b: T;\n  aIndex: number;\n  bIndex: number;\n  result: number;\n  lastObservation: SortObservation<T>;\n}\n\nexport type SortStage<T> = SortObservation<T> | SortSwap<T> | SortCompare<T>;\n\nexport const DEFAULT_SORT_STAGE: SortStage<any> = {\n  type: SortStageType.observation,\n  data: [],\n  positionVars: {},\n  stageName: \"empty\",\n};\n\nexport interface SortingData<T> {\n  stages: SortStage<T>[];\n  sortedData: T[];\n}\n","import React from \"react\";\n\nimport useInterval from \"./useInterval\";\n\nexport interface Props {\n  iterate: () => any;\n  interval?: number;\n}\n\nexport interface UseToggledInterval {\n  isAutoIterating: boolean;\n  setIsAutoIterating: (value: boolean) => void;\n  onAutoIteratingChange: React.ChangeEventHandler<HTMLInputElement>;\n}\n\nexport const useToggledInterval = ({\n  iterate,\n  interval = 1000,\n}: Props): UseToggledInterval => {\n  const [isAutoIterating, setIsAutoIterating] = React.useState<boolean>(false);\n\n  const onAutoIteratingChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { checked } }) => setIsAutoIterating(checked),\n    [setIsAutoIterating]\n  );\n\n  const autoIterate = React.useCallback(() => isAutoIterating && iterate(), [\n    isAutoIterating,\n    iterate,\n  ]);\n\n  useInterval(autoIterate, interval);\n\n  return { setIsAutoIterating, isAutoIterating, onAutoIteratingChange };\n};\n","import React from \"react\";\nimport { useToggledInterval, UseToggledInterval } from \"../useInterval\";\n\ninterface NewProps {\n  reset: () => void;\n  iterate: () => void;\n}\n\ninterface Props extends NewProps, UseToggledInterval {\n}\n\nconst StepForwardControls = ({\n  iterate,\n  reset,\n  isAutoIterating,\n  setIsAutoIterating,\n}: Props) => (\n  <div>\n    <button\n      disabled={isAutoIterating}\n      className=\"btn btn-danger mr-2\"\n      onClick={reset}\n    >\n      <span className=\"oi oi-media-skip-backward\"></span>\n    </button>\n    {isAutoIterating ? (\n      <button\n        className=\"btn btn-danger mr-2\"\n        onClick={() => setIsAutoIterating(false)}\n      >\n        <span className=\"oi oi-media-stop\"></span>\n      </button>\n    ) : (\n      <button\n        className=\"btn btn-primary mr-2\"\n        onClick={() => setIsAutoIterating(true)}\n      >\n        <span className=\"oi oi-media-play\"></span>\n      </button>\n    )}\n\n    <button\n      disabled={isAutoIterating}\n      className=\"btn btn-primary mr-2\"\n      onClick={iterate}\n    >\n      <span className=\"oi oi-media-step-forward\"></span>\n    </button>\n  </div>\n);\n\ninterface UseStepForwardControls {\n  componentProps: Props;\n}\n\nexport const useStepForwardControls = ({ iterate, reset }: NewProps): UseStepForwardControls => {\n  const toggledInterval = useToggledInterval({\n    iterate,\n    interval: 500,\n  });\n\n  return {\n    componentProps: React.useMemo(\n      () => ({\n        ...toggledInterval,\n        iterate,\n        reset\n      }),\n      [reset, iterate, toggledInterval]\n    ),\n  };\n};\n\nexport default StepForwardControls;\n","import React from \"react\";\n\nimport usePageRank from \"./usePageRank\";\nimport CurrentRanksTable from \"./CurrentRanksTable\";\nimport RankHistoryTable from \"./RankHistoryTable\";\nimport InOrderList from \"./InOrderList\";\nimport GraphPickerWithSketch, {\n  usePicker as useGraphPicker,\n} from \"../../DataStructures/GraphManager/GraphPickerWithSketch\";\nimport StepForwardControls, { useStepForwardControls } from \"../../../lib/StepForwardControls\";\n\nconst DEFAULT_DAMPING_FACTOR = 0.85;\n\nconst PageRank: React.FunctionComponent = () => {\n  const [dampingFactor, setDampingFactor] = React.useState<number>(\n    DEFAULT_DAMPING_FACTOR\n  );\n\n  const { graph, componentProps: graphPickerProps } = useGraphPicker(\n    \"simpleStringGraph\"\n  );\n\n  const { iterations, ranks, rankHistory, begin, iterate } = usePageRank({\n    dampingFactor,\n    graph,\n  });\n\n  const reset = React.useCallback(() => {\n    begin();\n    setDampingFactor(DEFAULT_DAMPING_FACTOR);\n  }, [begin, setDampingFactor]);\n\n  const onDampingFactorChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setDampingFactor(parseFloat(value)),\n    [setDampingFactor]\n  );\n\n  const { componentProps: stepForwardProps } = useStepForwardControls({ reset, iterate });\n\n  return (\n    <div>\n      <GraphPickerWithSketch {...graphPickerProps} />\n\n      <h4>Page Ranks after {iterations} iterations</h4>\n      <div>\n        <StepForwardControls {...stepForwardProps} />\n        <div className=\"form-group\">\n          <label htmlFor=\"txtDampingFactor\">Damping Factor</label>\n          <input\n            id=\"txtDampingFactor\"\n            className=\"form-control\"\n            type=\"number\"\n            min=\"0.1\"\n            max=\"2.0\"\n            step=\"0.01\"\n            value={dampingFactor}\n            onChange={onDampingFactorChange}\n          />\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-8\">\n          <h2>Current Ranks</h2>\n          <CurrentRanksTable pages={graph.vertices} ranks={ranks} />\n        </div>\n        <div className=\"col-md-4\">\n          <h2>In Order</h2>\n          <InOrderList pages={graph.vertices} ranks={ranks} />\n        </div>\n      </div>\n      <h2>All Iterations</h2>\n      <RankHistoryTable pages={graph.vertices} rankHistory={rankHistory} />\n    </div>\n  );\n};\n\nexport default PageRank;\n","import Component from \"./PageRank\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/pageRank\",\n  title: \"Page Rank\",\n  description:\n    \"Build a graph of pages with cross hyperlinks then see how the Page Rank algorithm scores them\",\n  component: Component,\n};\n\nexport default Component;\n","import { AbstractSketch } from \"../../../../p5/useSketch\";\nimport graphApi, { Graph } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport p5 from \"p5\";\nimport { pointToStr } from \"./useGridGraph\";\nimport DataItemBoid from \"../../../../p5/Boid/DataItemBoid\";\nimport { Point } from \"../../../../p5/Boid/types\";\n\ninterface Config {\n  sourceNode: Point;\n  destinationNode: Point;\n  graph: Graph<Point>;\n  path: Point[];\n  toggleConnection: (vertex: Point) => void;\n}\n\nconst getDefaultConfig = (): Config => ({\n  graph: graphApi.createInitialState(),\n  sourceNode: { x: 0, y: 0 },\n  destinationNode: { x: 0, y: 0 },\n  path: [],\n  toggleConnection: () => { },\n});\n\nconst WIDTH = 800;\nconst HEIGHT = 500;\nconst SPREAD = 50;\n\nclass GridSketch extends AbstractSketch<Config> {\n  boids: {\n    [id: string]: DataItemBoid<Point>;\n  };\n\n  constructor() {\n    super(getDefaultConfig());\n    this.boids = {};\n  }\n\n  getBoid(point: Point): DataItemBoid<Point> | undefined {\n    return this.boids[pointToStr(point)];\n  }\n\n  getOrCreateBoid(sketch: p5, point: Point) {\n    const pointS = pointToStr(point);\n    if (!this.boids[pointS]) {\n      this.boids[pointS] = new DataItemBoid<Point>({\n        entity: point,\n        label: pointS,\n        radius: 20,\n        position: sketch.createVector(\n          (point.x + 1) * SPREAD,\n          (point.y + 1) * SPREAD\n        ),\n      });\n    }\n    return this.boids[pointS];\n  }\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 10);\n      s.textAlign(s.CENTER, s.CENTER);\n    };\n\n    s.mouseClicked = function () {\n      const mousePosition = s.createVector(s.mouseX, s.mouseY);\n      const boid = Object.values(that.boids).find((boid) =>\n        boid.isMouseOver(mousePosition)\n      );\n      if (boid !== undefined) {\n        that.config.toggleConnection(boid.entity);\n      }\n    };\n\n    s.draw = function () {\n      s.background(230);\n      s.push();\n\n      const {\n        graph,\n        sourceNode,\n        destinationNode,\n        path,\n      } = that.config;\n\n      const { vertices, edges } = graph;\n\n      let boidsInSketch: DataItemBoid<Point>[] = vertices.map((v) => {\n        const vertex = graphApi.getVertexValue(graph, v);\n        const boid = that.getOrCreateBoid(s, vertex);\n        if (v === pointToStr(sourceNode)) {\n          boid.colour = \"lime\";\n        } else if (v === pointToStr(destinationNode)) {\n          boid.colour = \"red\";\n        } else if (path.find((p) => pointToStr(p) === v) !== undefined) {\n          boid.colour = \"cyan\";\n        } else {\n          boid.colour = \"black\";\n        }\n        return boid;\n      });\n\n      // Draw the lines for all connections\n      s.stroke(\"black\");\n      s.strokeWeight(4);\n      edges\n        .filter(\n          ({ from, to }) =>\n            vertices.includes(from) &&\n            vertices.includes(to)\n        )\n        .map(({ from, to, ...rest }) => ({\n          from: graphApi.getVertexValue(graph, from),\n          to: graphApi.getVertexValue(graph, to),\n          ...rest\n        }))\n        .map(({ from, to, weight }) => ({\n          from: that.getOrCreateBoid(s, from),\n          to: that.getOrCreateBoid(s, to),\n          weight,\n        }))\n        .forEach(\n          ({\n            from: {\n              position: { x: xFrom, y: yFrom },\n            },\n            to: {\n              position: { x: xTo, y: yTo },\n            },\n          }) => {\n            s.line(xFrom, yFrom, xTo, yTo);\n          }\n        );\n\n      // Draw the lines on our route\n      s.stroke(\"cyan\");\n      s.strokeWeight(4);\n      for (let i = 0; i < path.length - 1; i++) {\n        const from = that.getOrCreateBoid(s, path[i]);\n        const to = that.getOrCreateBoid(s, path[i + 1]);\n        s.line(from.position.x, from.position.y, to.position.x, to.position.y);\n      }\n\n      /// Call upon all boids to draw themselves\n      boidsInSketch.forEach((b) => b.draw(s));\n    };\n  };\n}\n\nexport default GridSketch;\n","import React from \"react\";\nimport { Graph } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport { cloneDeep } from \"lodash\";\n\nimport {\n  dijkstras,\n  getPathTo,\n} from \"@comp-sci-maths/lib/dist/algorithms/routing/dijkstras\";\nimport {\n  ShortestPathTree,\n  ObserverArgsWithPathFrom,\n  HeuristicCostFunction,\n  RoutingObserver,\n} from \"@comp-sci-maths/lib/dist/algorithms/routing/types\";\nimport { HeuristicCostById } from \"./types\";\nimport p5 from \"p5\";\nimport { Optional } from \"@comp-sci-maths/lib/dist/types\";\n\nexport interface Props {\n  sourceNode?: string;\n  destinationNode?: string;\n  getPositionOfNode: (vertex: string) => Optional<p5.Vector>;\n  graph: Graph<string>;\n  version: number;\n}\n\nexport interface UseRoutingAlgorithm {\n  shortestPathTree: ShortestPathTree;\n  path: string[];\n  heuristicCosts: HeuristicCostById;\n  stages: ObserverArgsWithPathFrom[];\n  onHarvestDistances: () => void;\n  onResetDistances: () => void;\n}\n\nconst useRoutingAlgorithm = ({\n  sourceNode,\n  version,\n  destinationNode,\n  graph,\n  getPositionOfNode,\n}: Props): UseRoutingAlgorithm => {\n\n  const [heuristicCosts, setHeuristicsCosts] = React.useState<\n    HeuristicCostById\n  >({});\n\n  const getHeuristicCost: HeuristicCostFunction = React.useCallback(\n    (vertex: string) =>\n      heuristicCosts[vertex] ? heuristicCosts[vertex].distance : 0,\n    [heuristicCosts]\n  );\n\n  const onResetDistances = React.useCallback(() => setHeuristicsCosts({}), [\n    setHeuristicsCosts,\n  ]);\n\n  const onHarvestDistances = React.useCallback(() => {\n    if (destinationNode !== undefined) {\n      const destinationPosition = getPositionOfNode(destinationNode);\n      if (!!destinationPosition) {\n        const costs: HeuristicCostById = graph.vertices\n          .map((vertex) => ({\n            vertex,\n            position: getPositionOfNode(vertex) || destinationPosition,\n          }))\n          .map(({ vertex, position }) => ({\n            vertex,\n            position,\n            distance: p5.Vector.sub(position, destinationPosition).mag(),\n          }))\n          .reduce(\n            (acc, { position, vertex, distance }) => ({\n              ...acc,\n              [vertex]: { label: vertex, position, distance },\n            }),\n            {}\n          );\n\n        setHeuristicsCosts(costs);\n      }\n    }\n    // eslint-disable-next-line\n  }, [destinationNode, getPositionOfNode, version, graph.vertices, setHeuristicsCosts]);\n\n  const { stages, shortestPathTree, path } = React.useMemo(() => {\n    const stages: ObserverArgsWithPathFrom[] = [];\n    const observer: RoutingObserver = ({\n      shortestPathTree,\n      currentDistances,\n      currentItem,\n      outgoing,\n    }) => {\n      const endNode: string =\n        currentItem !== undefined && currentItem.viaNode !== undefined\n          ? currentItem.viaNode\n          : destinationNode !== undefined\n            ? destinationNode\n            : (sourceNode as string);\n      const observerArgs: ObserverArgsWithPathFrom = {\n        currentItem,\n        currentDistances,\n        shortestPathTree,\n        outgoing,\n        pathFrom: [\n          ...getPathTo({\n            graph,\n            shortestPathTree,\n            node: endNode,\n          }),\n          endNode,\n        ],\n      };\n      stages.push(cloneDeep(observerArgs));\n    };\n    const shortestPathTree: ShortestPathTree =\n      (sourceNode !== undefined && destinationNode !== undefined)\n        ? dijkstras({\n          graph,\n          sourceNode,\n          destinationNode,\n          getHeuristicCost,\n          observer,\n        })\n        : {};\n    const path =\n      destinationNode !== undefined\n        ? getPathTo({ graph, shortestPathTree, node: destinationNode })\n        : [];\n\n    return {\n      shortestPathTree,\n      path,\n      stages,\n    };\n    // eslint-disable-next-line\n  }, [getHeuristicCost, sourceNode, destinationNode, graph, version]);\n\n  return {\n    stages,\n    shortestPathTree,\n    path,\n    heuristicCosts,\n    onHarvestDistances,\n    onResetDistances,\n  };\n};\n\nexport default useRoutingAlgorithm;","import React from \"react\";\nimport { useToggledInterval, UseToggledInterval } from \"../useInterval\";\nimport useItemInArray, {\n  UseItemInArray,\n} from \"../useLoopCounter/useItemInArray\";\n\ninterface Props<T> extends UseToggledInterval, UseItemInArray<T> {\n  items: T[];\n}\n\nconst StepThruListControls = <T,>({\n  index,\n  items,\n  isAutoIterating,\n  setIsAutoIterating,\n  stepForward,\n  stepBackward,\n  goToLast,\n  goToFirst,\n}: Props<T>) => (\n  <div>\n    <h4>Stepping Through Stages</h4>\n    <p>\n      Step {index + 1} of {items.length}\n    </p>\n    <div>\n        <button\n          disabled={isAutoIterating}\n          className=\"btn btn-danger mr-2\"\n          onClick={goToFirst}\n        >\n          <span className=\"oi oi-media-skip-backward\"></span>\n        </button>\n      <button\n        disabled={isAutoIterating}\n        className=\"btn btn-primary mr-2\"\n        onClick={stepBackward}\n      >\n        <span className=\"oi oi-media-step-backward\"></span>\n      </button>\n\n      {isAutoIterating ? (\n        <button\n          className=\"btn btn-danger mr-2\"\n          onClick={() => setIsAutoIterating(false)}\n        >\n          <span className=\"oi oi-media-stop\"></span>\n        </button>\n      ) : (\n        <button\n          className=\"btn btn-primary mr-2\"\n          onClick={() => setIsAutoIterating(true)}\n        >\n          <span className=\"oi oi-media-play\"></span>\n        </button>\n      )}\n\n      <button\n        disabled={isAutoIterating}\n        className=\"btn btn-primary mr-2\"\n        onClick={stepForward}\n      >\n        <span className=\"oi oi-media-step-forward\"></span>\n      </button>\n      <button\n        disabled={isAutoIterating}\n        className=\"btn btn-danger mr-2\"\n        onClick={goToLast}\n      >\n        <span className=\"oi oi-media-skip-forward\"></span>\n      </button>\n    </div>\n  </div>\n);\n\ninterface UseStepThruListControls<T> {\n  index: number;\n  item?: T;\n  componentProps: Props<T>;\n}\n\nexport const useStepThruListControls = <T,>(items: T[]): UseStepThruListControls<T> => {\n  const itemsInArray = useItemInArray({\n    items,\n  });\n\n  const { index, stepForward, item } = itemsInArray;\n\n  // Only auto iterate forward if we aren't on the final step\n  const autoStepForward = React.useCallback(() => {\n    if (index < items.length - 1) {\n      stepForward();\n    }\n  }, [index, items.length, stepForward]);\n\n  const toggledInterval = useToggledInterval({\n    iterate: autoStepForward,\n    interval: 500,\n  });\n\n  return {\n    index,\n    item,\n    componentProps: React.useMemo(\n      () => ({\n        ...toggledInterval,\n        ...itemsInArray,\n        items,\n      }),\n      [toggledInterval, itemsInArray, items]\n    ),\n  };\n};\n\nexport default StepThruListControls;\n","import React from \"react\";\nimport { Optional } from \"@comp-sci-maths/lib/dist/types\";\nimport Table from \"../../../Bootstrap/Table\";\nimport { roundTo2Dp } from \"@comp-sci-maths/lib/dist/algorithms/pageRank/pageRank\";\n\ninterface Item {\n  node: string;\n  cost: number;\n  viaNode: Optional<string>;\n}\n\ninterface Props {\n  items: Item[];\n}\n\nconst ShortestPathWithNodeTable = ({\n  items,\n}: Props) => {\n  const tableData = React.useMemo(\n    () =>\n      items.map(({ node, cost, viaNode }) => ({\n        node,\n        cost: roundTo2Dp(cost),\n        viaNode: viaNode || \"None\",\n      })),\n    [items]\n  );\n\n  return <Table headings={[\"node\", \"cost\", \"viaNode\"]} data={tableData} />;\n};\n\nexport default ShortestPathWithNodeTable;\n","import React from \"react\";\nimport ShortestPathWithNodeTable from \"./ShortestPathWithNodeTable\";\nimport {\n  ObserverArgsWithPathFrom,\n  getCurrentWeightCalcTypeStr,\n  ShortestPathWithNode,\n} from \"@comp-sci-maths/lib/dist/algorithms/routing/types\";\nimport Table from \"../../../Bootstrap/Table\";\nimport { linkedListTraverse } from '@comp-sci-maths/lib/dist/dataStructures/linkedList/linkedListReducer'\nimport { Graph } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport { roundTo2Dp } from \"@comp-sci-maths/lib/dist/algorithms/pageRank/pageRank\";\n\ninterface Props {\n  graph: Graph;\n  currentStage: ObserverArgsWithPathFrom;\n}\n\nconst RouteObserverStage = ({\n  graph,\n  currentStage: { shortestPathTree, currentItem, currentDistances, outgoing },\n}: Props) => {\n  const shortestPathTreeItems = React.useMemo(\n    () =>\n      Object.entries(shortestPathTree).map(([node, { cost, viaNode }]) => ({\n        node: node || \"NONE\", // Ideally we would fetch back the original node...\n        cost,\n        viaNode,\n      })),\n    [shortestPathTree, graph]\n  );\n  const queueItems = React.useMemo(\n    () => {\n      const asArray: ShortestPathWithNode[] = [];\n      linkedListTraverse(currentDistances, ({ value: { value } }) => {\n        asArray.push(value);\n        return false;\n      })\n      return asArray;\n    },\n    [currentDistances]\n  );\n  const currentItemForTable = React.useMemo(() => {\n    if (currentItem !== undefined) {\n      return [{ ...currentItem, node: currentItem.node }];\n    }\n    return [];\n  }, [currentItem]);\n\n  const outgoingData = React.useMemo(\n    () =>\n      outgoing.map(({ totalCost, calcResult, edge: { to, weight } }) => ({\n        to,\n        weight,\n        totalCost: roundTo2Dp(totalCost),\n        calcResult: getCurrentWeightCalcTypeStr(calcResult),\n      })),\n    [outgoing]\n  );\n\n  return (\n    <React.Fragment>\n      <h4>Current Item</h4>\n      <ShortestPathWithNodeTable items={currentItemForTable} />\n      <div className=\"routing-visual\">\n        <div className=\"mr-5\">\n          <h4>Unvisited Outgoing Links</h4>\n          <Table\n            headings={[\"to\", \"weight\", \"totalCost\", \"calcResult\"]}\n            data={outgoingData}\n          />\n        </div>\n        <div className=\"mr-5\">\n          <h4>Routing Queue (After)</h4>\n          <ShortestPathWithNodeTable items={queueItems} />\n        </div>\n        <div>\n          <h4>Visited Nodes</h4>\n          <ShortestPathWithNodeTable items={shortestPathTreeItems} />\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default RouteObserverStage;\n","import React from \"react\";\nimport { HeuristicCostById } from \"./types\";\nimport Table from \"../../../Bootstrap/Table\";\nimport { roundTo2Dp } from \"@comp-sci-maths/lib/dist/algorithms/pageRank/pageRank\";\nimport Graph from \"@comp-sci-maths/lib/dist/dataStructures/graph/Graph\";\n\ninterface Props {\n  graph: Graph<any>;\n  heuristicCostsById: HeuristicCostById;\n}\n\nconst HeuristicCostTable: React.FunctionComponent<Props> = ({\n  graph,\n  heuristicCostsById,\n}) => {\n  const tableData = React.useMemo(\n    () =>\n      Object.entries(heuristicCostsById).map(\n        ([\n          id,\n          {\n            position: { x, y },\n            distance,\n          },\n        ]) => ({\n          name: graph.vertices.find((v) => v.key === id)?.label,\n          position: `x: ${roundTo2Dp(x)}, y: ${roundTo2Dp(y)}`,\n          distance: roundTo2Dp(distance),\n        })\n      ),\n    [graph, heuristicCostsById]\n  );\n\n  return <Table data={tableData} headings={[\"name\", \"position\", \"distance\"]} />;\n};\n\nexport default HeuristicCostTable;\n","import React from \"react\";\nimport useSketch from \"../../../../p5/useSketch\";\nimport GridSketch from \"./GridSketch\";\nimport useGridGraph from \"./useGridGraph\";\nimport useRoutingAlgorithm from \"../useRoutingAlgorithm\";\n\nimport \"./routing.css\";\nimport StepThruListControls, {\n  useStepThruListControls,\n} from \"../../../../lib/StepThruListControls\";\nimport RouteObserverStage from \"../RouteObserverStage\";\nimport HeuristicCostTable from \"../../../../ComputerScience/Algorithms/Routing/HeuristicCostTable\";\nimport { PointDataItem } from \"../../../../p5/Boid/types\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"../../../../Bootstrap/Buttons/ButtonBar\";\n\nconst GridRouting: React.FunctionComponent = () => {\n  const { refContainer, updateConfig, sketchContainer } = useSketch(GridSketch);\n\n  const {\n    graph,\n    version,\n    topLeft: sourceNode,\n    bottomRight: destinationNode,\n    toggleConnection,\n  } = useGridGraph({\n    rows: 8,\n    columns: 15,\n  });\n\n  const getPositionOfNode = React.useCallback(\n    (d: PointDataItem) => {\n      const boid = sketchContainer.getBoid(d);\n      return !!boid ? boid.position : undefined;\n    },\n    [sketchContainer]\n  );\n\n  const {\n    stages,\n    onHarvestDistances,\n    onResetDistances,\n    heuristicCosts,\n  } = useRoutingAlgorithm({\n    graph,\n    version,\n    sourceNode,\n    destinationNode,\n    getPositionOfNode,\n  });\n\n  const {\n    item: currentStage,\n    componentProps: steppingControlProps,\n  } = useStepThruListControls(stages);\n\n  React.useEffect(() => {\n    updateConfig({\n      graph,\n      path: currentStage !== undefined ? currentStage.pathFrom : [],\n      toggleConnection,\n    });\n  }, [currentStage, graph, updateConfig, toggleConnection]);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          styleType: \"primary\",\n          onClick: onHarvestDistances,\n          text: \"Harvest Distances\",\n        },\n        {\n          styleType: \"danger\",\n          onClick: onResetDistances,\n          text: \"Clear Distances\",\n        },\n      ],\n    }),\n    [onHarvestDistances, onResetDistances]\n  );\n\n  return (\n    <div>\n      <div ref={refContainer} />\n\n      <div className=\"mb-3\">\n        <p>\n          The A* algorithm is an enchancement on Dijkstras. It takes into\n          account the estimated distance from a given node to the endpoint when\n          calculating the cost for it's priority queue. To make use of this\n          enhancement, click on 'Harvest Distances' and the euclidean distances\n          from each node to the destination will be calculated and used as part\n          of the routing algorithm.\n        </p>\n        <ButtonBar {...buttonBarProps} />\n      </div>\n\n      <HeuristicCostTable graph={graph} heuristicCostsById={heuristicCosts} />\n\n      <StepThruListControls {...steppingControlProps} />\n\n      {currentStage && (\n        <RouteObserverStage graph={graph} currentStage={currentStage} />\n      )}\n    </div>\n  );\n};\n\nexport default GridRouting;\n","import Component from \"./GridRouting\";\nimport { Page } from \"../../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/routing/grid\",\n  title: \"Routing - Grid\",\n  description:\n    \"Build a maze using a grid of dots, then observe how Dijkstras routing algorithm (and A*) can find a way across\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport useRoutingAlgorithm from \"../useRoutingAlgorithm\";\nimport VertexPicker, {\n  usePicker as useVertexPicker,\n} from \"../../../../ComputerScience/DataStructures/GraphManager/GraphBuilder/VertexPicker\";\nimport StepThruListControls, {\n  useStepThruListControls,\n} from \"../../../../lib/StepThruListControls\";\nimport RouteObserverStage from \"../RouteObserverStage\";\nimport HeuristicCostTable from \"../../../../ComputerScience/Algorithms/Routing/HeuristicCostTable\";\n\nimport GraphPickerWithSketch, {\n  usePicker as useGraphPicker,\n} from \"../../../../ComputerScience/DataStructures/GraphManager/GraphPickerWithSketch\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"../../../../Bootstrap/Buttons/ButtonBar\";\n\nconst GraphRouting: React.FunctionComponent = () => {\n  const {\n    graph,\n    componentProps: graphPickerProps,\n    sketchUse: { sketchContainer },\n  } = useGraphPicker(\"complexStringGraph\");\n\n  const {\n    vertex: sourceNode,\n    componentProps: sourcePickerProps,\n  } = useVertexPicker(graph, \"form-control\");\n  const {\n    vertex: destinationNode,\n    componentProps: destinationPickerProps,\n  } = useVertexPicker(graph, \"form-control\");\n\n  const getPositionOfNode = React.useCallback(\n    (d: string) => {\n      const boid = sketchContainer.getBoid(d);\n      return !!boid ? boid.position : undefined;\n    },\n    [sketchContainer]\n  );\n\n  const {\n    path,\n    stages,\n    onHarvestDistances,\n    onResetDistances,\n    heuristicCosts,\n  } = useRoutingAlgorithm({\n    graph, version: 0,\n    sourceNode,\n    destinationNode,\n    getPositionOfNode,\n  });\n\n  const {\n    item: currentStage,\n    componentProps: steppingControlProps,\n  } = useStepThruListControls(stages);\n\n  React.useEffect(() => {\n    graph.vertices.forEach((v) => {\n      if (\n        (sourceNode && sourceNode === v) ||\n        (destinationNode && destinationNode === v)\n      ) {\n        sketchContainer.setBorderWeight(v, 3);\n        sketchContainer.setBorderColour(v, \"black\");\n        sketchContainer.setColour(v, \"green\");\n      } else if (\n        currentStage !== undefined &&\n        currentStage.currentItem !== undefined &&\n        currentStage.currentItem.node === v\n      ) {\n        sketchContainer.setBorderWeight(v, 3);\n        sketchContainer.setBorderColour(v, \"red\");\n      } else if (\n        currentStage !== undefined &&\n        currentStage.pathFrom.includes(v)\n      ) {\n        sketchContainer.setBorderWeight(v, 3);\n        sketchContainer.setBorderColour(v, \"red\");\n      } else {\n        sketchContainer.setBorderWeight(v, 1);\n        sketchContainer.setBorderColour(v, \"black\");\n        sketchContainer.setColour(v, \"blue\");\n      }\n    });\n  }, [sourceNode, destinationNode, currentStage, graph, path, sketchContainer]);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          styleType: \"primary\",\n          onClick: onHarvestDistances,\n          text: \"Harvest Distances\",\n        },\n        {\n          styleType: \"danger\",\n          onClick: onResetDistances,\n          text: \"Clear Distances\",\n        },\n      ],\n    }),\n    [onHarvestDistances, onResetDistances]\n  );\n\n  return (\n    <div>\n      <GraphPickerWithSketch {...graphPickerProps} />\n      <h2>Choose Endpoints</h2>\n      <form>\n        <div className=\"form-group\">\n          <label>Source</label>\n          <VertexPicker {...sourcePickerProps} />\n        </div>\n        <div className=\"form-group\">\n          <label>Destination</label>\n          <VertexPicker {...destinationPickerProps} />\n        </div>\n      </form>\n      <h2>Path Found - {path.join('->')}</h2>\n      <h2>A* Algorithm</h2>\n      <div className=\"mb-3\">\n        <p>\n          The A* algorithm is an enchancement on Dijkstras. It takes into\n          account the estimated distance from a given node to the endpoint when\n          calculating the cost for it's priority queue. To make use of this\n          enhancement, click on 'Harvest Distances' and the euclidean distances\n          from each node to the destination will be calculated and used as part\n          of the routing algorithm.\n        </p>\n        <ButtonBar {...buttonBarProps} />\n      </div>\n\n      <HeuristicCostTable graph={graph} heuristicCostsById={heuristicCosts} />\n\n      <StepThruListControls {...steppingControlProps} />\n\n      {currentStage && (\n        <div className=\"mt-3\">\n          <RouteObserverStage graph={graph} currentStage={currentStage} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GraphRouting;\n","import Component from \"./GraphRouting\";\nimport { Page } from \"../../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/routing/graph\",\n  title: \"Routing - Graph\",\n  description:\n    \"Build a graph of nodes then observe how Dijstras Routing algorithm (and extend with A*) finds a way from one node to another\",\n  component: Component,\n};\n\nexport default Component;\n","import binarySearch from \"./binarySearch\";\nimport linearSearch from \"./linearSearch\";\nconst algorithms = [\n    {\n        name: \"Binary Search\",\n        search: binarySearch,\n    },\n    {\n        name: \"Linear Search\",\n        search: linearSearch,\n    },\n];\nexport default algorithms;\n//# sourceMappingURL=index.js.map","import React from \"react\";\n\nimport algorithms from \"@comp-sci-maths/lib/dist/algorithms/search\";\nimport { NamedSearch } from \"@comp-sci-maths/lib/dist/types\";\nimport { ControlledInput } from \"../../../../types\";\n\ninterface Props extends ControlledInput<NamedSearch | undefined> {\n  className?: string;\n}\n\nconst SearchAlgorithmPicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) =>\n      onChange(algorithms.find(({ name }) => name === value)),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(algorithms[0]), [onChange]);\n\n  return (\n    <select\n      className={className}\n      onChange={onSelectChange}\n      value={value && value.name}\n    >\n      <option />\n      {algorithms.map(({ name }) => (\n        <option key={name} value={name}>\n          {name}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  algorithm: NamedSearch | undefined;\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<NamedSearch | undefined>(undefined);\n\n  return {\n    algorithm: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default SearchAlgorithmPicker;\n","import { PositionVars } from \"@comp-sci-maths/lib/dist/types\";\n\nexport interface SearchObservation {\n  stageName: string;\n  positionVars: PositionVars;\n}\n\nexport const DEFAULT_SEARCH_OBS: SearchObservation = {\n  stageName: \"DEFAULT\",\n  positionVars: {},\n};\n\nexport interface SearchingData<T> {\n  stages: SearchObservation[];\n  matchIndex: number;\n  searchItem: string;\n  data: T[];\n}\n","import p5 from \"p5\";\nimport { NO_MATCH } from \"@comp-sci-maths/lib/dist/algorithms/search/common\";\nimport { AbstractSketch } from \"../../../p5/useSketch\";\n\nimport { DEFAULT_SEARCH_OBS, SearchObservation } from \"./types\";\n\nconst WIDTH = 600;\nconst HEIGHT = 600;\n\ninterface Config {\n  searchItem?: string;\n  data: string[];\n  searchStage: SearchObservation;\n  matchIndex: number;\n  isFinalStage: boolean;\n}\n\nconst getDefaultConfig = (): Config => ({\n  searchItem: undefined,\n  data: [],\n  searchStage: DEFAULT_SEARCH_OBS,\n  matchIndex: NO_MATCH,\n  isFinalStage: false,\n});\n\nclass SearchingSketch extends AbstractSketch<Config> {\n  knownPositionVars: string[];\n\n  constructor() {\n    super(getDefaultConfig());\n    this.knownPositionVars = [];\n  }\n\n  reset() {\n    this.knownPositionVars = [];\n  }\n\n  getPositionVarIndex(positionVar: string): number {\n    if (!this.knownPositionVars.includes(positionVar)) {\n      this.knownPositionVars.push(positionVar);\n    }\n\n    return this.knownPositionVars.indexOf(positionVar);\n  }\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 18);\n    };\n\n    s.draw = function () {\n      const {\n        searchStage = DEFAULT_SEARCH_OBS,\n        data,\n        matchIndex,\n        isFinalStage,\n      } = that.config;\n\n      const { stageName, positionVars } = searchStage;\n\n      s.background(\"white\");\n\n      // Draw the data\n      let datyaY = 100;\n      let dataWidth = s.width / (data.length + 2);\n      let getDataX = (i: number) => (i + 1.5) * dataWidth;\n\n      data.forEach((item, i) => {\n        let x = getDataX(i);\n\n        // Work out the fill colour\n        switch (i) {\n          case matchIndex:\n            if (isFinalStage) {\n              s.fill(\"lime\");\n            } else {\n              s.fill(\"lightblue\");\n            }\n            break;\n          default:\n            s.fill(\"lightblue\");\n            break;\n        }\n\n        // Work out the stroke\n        if (Object.values(positionVars).includes(i)) {\n          s.strokeWeight(3);\n        } else {\n          s.strokeWeight(1);\n        }\n\n        s.ellipse(x, datyaY, dataWidth, dataWidth);\n        s.fill(\"black\");\n        s.text(item, x, datyaY);\n      });\n\n      s.fill(\"black\");\n\n      s.textAlign(s.LEFT, s.CENTER);\n      s.text(stageName, 20, 20);\n\n      // Ensure position vars are in consistent order\n\n      s.textAlign(s.CENTER, s.CENTER);\n      Object.entries(positionVars)\n        .map((k) => ({\n          key: k[0],\n          position: that.getPositionVarIndex(k[0]),\n          index: k[1],\n        }))\n        .forEach(({ key, position, index }) => {\n          s.text(`${key}`, getDataX(index), 150 + position * 30);\n        });\n    };\n  }\n}\n\nexport default SearchingSketch;\n","import React from \"react\";\n\nimport {\n  stringComparator,\n  generateRandomLetters,\n} from \"@comp-sci-maths/lib/dist/common\";\nimport { NamedSearch, SearchUtilities } from \"@comp-sci-maths/lib/dist/types\";\n\nimport { SearchingData, SearchObservation } from \"./types\";\nimport { NO_MATCH } from \"@comp-sci-maths/lib/dist/algorithms/search/common\";\n\ninterface Props {\n  algorithm?: NamedSearch;\n  searchItem: string;\n}\n\nconst useSearchedData = ({\n  algorithm,\n  searchItem,\n}: Props): SearchingData<string> => {\n  const data: string[] = React.useMemo(\n    () =>\n      generateRandomLetters(20, { unique: true, sorted: true }).map((d, i) => i.toString(10)),\n    []\n  );\n\n  const { matchIndex, stages } = React.useMemo(() => {\n    let stages: SearchObservation[] = [];\n    let lastObservation: SearchObservation;\n\n    const searchUtilities: SearchUtilities<string> = {\n      compare: (a, b) => stringComparator(a, b),\n      observe: (stageName, positionVars) => {\n        lastObservation = {\n          stageName,\n          positionVars: { ...positionVars },\n        };\n        stages.push(lastObservation);\n      },\n    };\n\n    // Add explicit Start Observation\n    stages.push({\n      stageName: \"Starting\",\n      positionVars: {},\n    });\n\n    // Run the algorithm\n    let matchIndex: number = NO_MATCH;\n    if (!!algorithm) {\n      matchIndex = algorithm.search(\n        data,\n        searchItem,\n        searchUtilities\n      );\n    }\n\n    // Add explicit End Observation\n    stages.push({\n      stageName: \"Finished\",\n      positionVars: {\n        matchIndex,\n      },\n    });\n\n    return { matchIndex, stages };\n  }, [data, searchItem, algorithm]);\n\n  return {\n    data,\n    searchItem,\n    matchIndex,\n    stages,\n  };\n};\nexport default useSearchedData;\n","import React from \"react\";\n\nimport SearchAlgorithmPicker, {\n  usePicker as useSearchAlgorithmPicker,\n} from \"./SearchAlgorithmPicker\";\n\nimport SearchSketch from \"./SearchSketch\";\nimport useSearchedData from \"./useSearchData\";\nimport useSketch from \"../../../p5/useSketch\";\nimport StepThruListControls, {\n  useStepThruListControls,\n} from \"../../../lib/StepThruListControls\";\n\nconst Search: React.FunctionComponent = () => {\n  const {\n    algorithm,\n    componentProps: algorithmPickerProps,\n  } = useSearchAlgorithmPicker(\"form-control\");\n\n  const [searchItem, setSearchItem] = React.useState<string>(\"\");\n  const onSearchItemChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setSearchItem(value),\n    [setSearchItem]\n  );\n\n  const { data, matchIndex, stages } = useSearchedData({\n    algorithm,\n    searchItem,\n  });\n\n  const {\n    index,\n    item: searchStage,\n    componentProps: steppingControlProps,\n  } = useStepThruListControls(stages);\n\n  const { updateConfig, sketchContainer, refContainer } = useSketch(\n    SearchSketch\n  );\n\n  // Whenever the sort is redone, tell the sketch\n  React.useEffect(() => {\n    updateConfig({\n      data,\n      matchIndex,\n      searchStage,\n      searchItem,\n      isFinalStage: index === stages.length - 1,\n    });\n  }, [\n    index,\n    stages.length,\n    data,\n    matchIndex,\n    searchStage,\n    searchItem,\n    updateConfig,\n  ]);\n\n  const { goToFirst } = steppingControlProps;\n  React.useEffect(() => {\n    goToFirst();\n    sketchContainer.reset();\n  }, [goToFirst, sketchContainer, algorithm, searchItem]);\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Choose Algorithm</label>\n          <SearchAlgorithmPicker {...algorithmPickerProps} />\n        </div>\n      </form>\n\n      <h2>{!!algorithm ? algorithm.name : \"please select algorithm\"}</h2>\n      <div>\n        <div className=\"form-group\">\n          <label>Search Item</label>\n          <input\n            className=\"form-control\"\n            value={searchItem}\n            onChange={onSearchItemChange}\n          />\n        </div>\n        <StepThruListControls {...steppingControlProps} />\n      </div>\n\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default Search;\n","import Component from \"./Search\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/searching\",\n  title: \"Searching\",\n  description:\n    \"Observe the operation of various searching algorithms as they operate step by step\",\n  component: Component,\n};\n\nexport default Component;\n","import bubbleSort from \"./bubbleSort\";\nimport mergeSort from \"./mergeSort\";\nimport quickSort from \"./quickSort\";\nimport insertionSort from \"./insertionSort\";\nconst algorithms = [\n    { name: \"Bubble Sort\", sort: bubbleSort },\n    {\n        name: \"Merge Sort\",\n        sort: mergeSort,\n    },\n    { name: \"Insertion Sort\", sort: insertionSort },\n    { name: \"Quick Sort\", sort: quickSort },\n];\nexport default algorithms;\n//# sourceMappingURL=index.js.map","import React from \"react\";\n\nimport algorithms from \"@comp-sci-maths/lib/dist/algorithms/sort\";\nimport { ControlledInput } from \"../../../../types\";\nimport { NamedCustomisableSort } from \"@comp-sci-maths/lib/dist/algorithms/sort/types\";\n\ninterface Props extends ControlledInput<NamedCustomisableSort | undefined> {\n  className?: string;\n}\n\nconst SortingAlgorithmPicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) =>\n      onChange(algorithms.find(({ name }) => name === value)),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(algorithms[0]), [onChange]);\n\n  return (\n    <select\n      className={className}\n      onChange={onSelectChange}\n      value={value && value.name}\n    >\n      <option />\n      {algorithms.map(({ name }) => (\n        <option key={name} value={name}>\n          {name}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  algorithm: NamedCustomisableSort | undefined;\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<NamedCustomisableSort | undefined>(\n    undefined\n  );\n\n  return {\n    algorithm: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default SortingAlgorithmPicker;\n","import p5 from \"p5\";\nimport { NO_MATCH } from \"@comp-sci-maths/lib/dist/algorithms/search/common\";\nimport { AbstractSketch } from \"../../../p5/useSketch\";\n\nimport {\n  SortStage,\n  DEFAULT_SORT_STAGE,\n  SortStageType,\n  SortObservation,\n} from \"./types\";\nimport DataItemBoid from \"../../../p5/Boid/DataItemBoid\";\n\nconst WIDTH = 600;\nconst HEIGHT = 300;\n\nconst DATA_Y = 100;\n\ninterface Config {\n  sortStage: SortStage<string>;\n}\n\nconst getDefaultConfig = (): Config => ({\n  sortStage: DEFAULT_SORT_STAGE,\n});\n\nclass SortingSketch extends AbstractSketch<Config> {\n  boids: {\n    [id: string]: DataItemBoid<string>;\n  };\n  knownPositionVars: string[];\n\n  constructor() {\n    super(getDefaultConfig());\n    this.boids = {};\n    this.knownPositionVars = [];\n  }\n\n  reset() {\n    this.knownPositionVars = [];\n  }\n\n  getPositionVarIndex(positionVar: string): number {\n    if (!this.knownPositionVars.includes(positionVar)) {\n      this.knownPositionVars.push(positionVar);\n    }\n\n    return this.knownPositionVars.indexOf(positionVar);\n  }\n\n  getBoid(sketch: p5, vertex: string, dataLength: number) {\n    if (!this.boids[vertex]) {\n      this.boids[vertex] = new DataItemBoid<string>({\n        entity: vertex,\n        label: vertex,\n        radius: sketch.width / (dataLength + 2),\n        minForce: 0,\n        maxSpeed: 3,\n        position: sketch.createVector(\n          sketch.random(0, sketch.width),\n          sketch.random(0, sketch.height)\n        ),\n      });\n    }\n    return this.boids[vertex];\n  }\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 18);\n    };\n\n    s.draw = function () {\n      const { sortStage = DEFAULT_SORT_STAGE } = that.config;\n\n      const { data, stageName, positionVars }: SortObservation<string> =\n        sortStage.type === SortStageType.observation\n          ? sortStage\n          : sortStage.lastObservation;\n\n      const {\n        compareIndexA,\n        compareValueA,\n        compareIndexB,\n        compareValueB,\n        compareResult,\n      } =\n        sortStage.type === SortStageType.compare\n          ? {\n            compareValueA: sortStage.a,\n            compareValueB: sortStage.b,\n            compareIndexA: sortStage.aIndex,\n            compareIndexB: sortStage.bIndex,\n            compareResult: sortStage.result,\n          }\n          : {\n            compareValueA: NO_MATCH,\n            compareValueB: NO_MATCH,\n            compareIndexA: NO_MATCH,\n            compareIndexB: NO_MATCH,\n            compareResult: 0,\n          };\n\n      const { swapFrom, swapTo } =\n        sortStage.type === SortStageType.swap\n          ? { swapFrom: sortStage.from, swapTo: sortStage.to }\n          : {\n            swapFrom: NO_MATCH,\n            swapTo: NO_MATCH,\n          };\n\n      s.background(\"skyblue\");\n\n      // Draw the data\n      let dataWidth = s.width / (data.length + 2);\n      let getDataX = (i: number) => (i + 1.5) * dataWidth;\n\n      const boids: DataItemBoid<string>[] = data.map((item, i) => {\n        const boid = that.getBoid(s, item, data.length);\n\n        let x = getDataX(i);\n        switch (i) {\n          case compareIndexA:\n          case compareIndexB:\n            boid.colour = \"green\";\n            break;\n          case swapFrom: {\n            boid.colour = \"red\";\n            x = getDataX(swapTo);\n            break;\n          }\n          case swapTo: {\n            boid.colour = \"red\";\n            x = getDataX(swapFrom);\n            break;\n          }\n          default:\n            boid.colour = \"red\";\n        }\n\n        boid.arrive(s, s.createVector(x, DATA_Y), 5);\n\n        return boid;\n      });\n\n      s.fill(\"black\");\n      s.textAlign(s.LEFT, s.CENTER);\n\n      // Generate the title based on stage information\n      let subTitle = \"\";\n      switch (sortStage.type) {\n        case SortStageType.compare:\n          let comparisonSymbol = \"=\";\n          if (compareResult < 0) {\n            comparisonSymbol = \"<\";\n          } else if (compareResult > 0) {\n            comparisonSymbol = \">\";\n          }\n\n          subTitle = `Comparing data[${compareIndexA}]=${compareValueA} ${comparisonSymbol} data[${compareIndexB}]=${compareValueB}`;\n          break;\n        case SortStageType.swap:\n          subTitle = `Swapping Items [${swapFrom}] and [${swapTo}]`;\n          break;\n      }\n      s.text(stageName, 20, 20);\n      s.text(subTitle, 20, 50);\n\n      boids.forEach((b) => b.update(s));\n      boids.forEach((b, i) => b.draw(s));\n\n      // Ensure position vars are in consistent order\n      s.textAlign(s.CENTER, s.CENTER);\n      s.fill(\"black\");\n      Object.entries(positionVars)\n        .map((k) => ({\n          key: k[0],\n          position: that.getPositionVarIndex(k[0]),\n          index: k[1],\n        }))\n        .forEach(({ key, position, index }) => {\n          s.text(`${key}`, getDataX(index), 150 + position * 30);\n        });\n    };\n  };\n}\n\nexport default SortingSketch;\n","import React from \"react\";\n\nimport {\n  stringComparator,\n  generateRandomLetters,\n  simpleSwap,\n} from \"@comp-sci-maths/lib/dist/common\";\n\nimport {\n  SortStage,\n  SortingData,\n  SortStageType,\n  SortObservation,\n} from \"./types\";\nimport { NO_MATCH } from \"@comp-sci-maths/lib/dist/algorithms/search/common\";\nimport {\n  NamedCustomisableSort,\n  SortUtility,\n} from \"@comp-sci-maths/lib/dist/algorithms/sort/types\";\n\ninterface Props {\n  algorithm?: NamedCustomisableSort;\n}\n\nconst useSortedData = ({ algorithm }: Props): SortingData<string> => {\n  const inputList: string[] = React.useMemo(\n    () =>\n      generateRandomLetters(10, { sorted: false }).map((d, i) => i.toString()),\n    []\n  );\n  const {\n    sortedData,\n    stages,\n  }: SortingData<string> = React.useMemo(() => {\n    let sortedData = inputList;\n    let stages: SortStage<string>[] = [];\n    let lastObservation: SortObservation<string>;\n\n    const sortUtilities: SortUtility<string> = {\n      swap: (data, from, to) => {\n        stages.push({\n          type: SortStageType.swap,\n          from,\n          to,\n          lastObservation,\n        });\n        simpleSwap(data, from, to);\n      },\n      compare: (a, b, meta) => {\n        const result = stringComparator(a, b, meta);\n        stages.push({\n          type: SortStageType.compare,\n          a,\n          b,\n          aIndex: !!meta ? meta.aIndex : NO_MATCH,\n          bIndex: !!meta ? meta.bIndex : NO_MATCH,\n          result,\n          lastObservation,\n        });\n        return result;\n      },\n      observe: (stageName, data, positionVars) => {\n        lastObservation = {\n          type: SortStageType.observation,\n          stageName,\n          data: [...data],\n          positionVars: { ...positionVars },\n        };\n        stages.push(lastObservation);\n      },\n    };\n\n    // Add explicit Start Observation\n    stages.push({\n      type: SortStageType.observation,\n      stageName: \"Starting\",\n      data: [...inputList],\n      positionVars: {},\n    });\n\n    // Run the algorithm\n    if (!!algorithm) {\n      sortedData = algorithm.sort(inputList, sortUtilities);\n    }\n\n    // Add explicit End Observation\n    stages.push({\n      type: SortStageType.observation,\n      stageName: \"Finished\",\n      data: [...sortedData],\n      positionVars: {},\n    });\n\n    return { sortedData, stages };\n  }, [algorithm, inputList]);\n\n  return { sortedData, stages };\n};\nexport default useSortedData;\n","import React from \"react\";\n\nimport SortingAlgorithmPicker, {\n  usePicker as useSortingAlgorithmPicker,\n} from \"./SortingAlgorithmPicker\";\nimport useSketch from \"../../../p5/useSketch\";\nimport SortingSketch from \"./SortingSketch\";\nimport useSortedData from \"./useSortedData\";\nimport StepThruListControls, {\n  useStepThruListControls,\n} from \"../../../lib/StepThruListControls\";\n\nconst Sorting: React.FunctionComponent = () => {\n  const {\n    algorithm,\n    componentProps: algorithmPickerProps,\n  } = useSortingAlgorithmPicker(\"form-control\");\n\n  const { stages } = useSortedData({ algorithm });\n\n  const {\n    item: sortStage,\n    componentProps: steppingControlProps,\n  } = useStepThruListControls(stages);\n  const { goToFirst } = steppingControlProps;\n\n  const { updateConfig, sketchContainer, refContainer } = useSketch(\n    SortingSketch\n  );\n\n  // Whenever the sort is redone, tell the sketch\n  React.useEffect(() => {\n    updateConfig({ sortStage });\n  }, [sortStage, updateConfig]);\n\n  React.useEffect(() => {\n    goToFirst();\n    sketchContainer.reset();\n  }, [goToFirst, sketchContainer, algorithm]);\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Choose Algorithm</label>\n          <SortingAlgorithmPicker {...algorithmPickerProps} />\n        </div>\n      </form>\n\n      <h2>{!!algorithm ? algorithm.name : \"please select algorithm\"}</h2>\n      <StepThruListControls {...steppingControlProps} />\n      <div ref={refContainer} />\n    </div>\n  );\n};\n\nexport default Sorting;\n","import Component from \"./Sorting\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/algorithms/sorting\",\n  title: \"Sorting\",\n  description:\n    \"Observe the operation of various sorting algorithms as they operate, step by step\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\ninterface Props {\n  id: string;\n  label: string | React.ReactElement;\n  checked: boolean;\n  onChange: React.ChangeEventHandler<HTMLInputElement>;\n}\n\nconst Checkbox: React.FunctionComponent<Props> = ({\n  id,\n  label,\n  checked,\n  onChange,\n}) => (\n  <div className=\"form-check\">\n    <input\n      className=\"form-check-input\"\n      type=\"checkbox\"\n      checked={checked}\n      onChange={onChange}\n      id={id}\n    />\n    <label className=\"form-check-label\" htmlFor={id}>\n      {label}\n    </label>{\" \"}\n  </div>\n);\n\nexport default Checkbox;\n","import React from \"react\";\n\nimport { ControlledInput } from \"../../../../types\";\n\nexport type AlgorithmType = \"search\" | \"sort\";\n\nconst ALGORITHM_TYPES: AlgorithmType[] = [\"search\", \"sort\"];\n\ninterface Props extends ControlledInput<AlgorithmType> {\n  className?: string;\n}\n\nconst AlgorithmTypePicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) =>\n      onChange(ALGORITHM_TYPES.find((a) => a === value) || \"search\"),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(ALGORITHM_TYPES[0]), [onChange]);\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      <option />\n      {ALGORITHM_TYPES.map((type) => (\n        <option key={type} value={type}>\n          {type}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<AlgorithmType>(ALGORITHM_TYPES[0]);\n\n  return {\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default AlgorithmTypePicker;\n","import p5 from \"p5\";\nimport { AbstractSketch } from \"../../../p5/useSketch\";\nimport { BigOMeasurements } from \"./types\";\n\nconst WIDTH = 600;\nconst HEIGHT = 600;\n\ninterface Config {\n  startSize: number;\n  endSize: number;\n  measurements: BigOMeasurements;\n}\n\nconst getDefaultConfig = (): Config => ({\n  startSize: 100,\n  endSize: 1000,\n  measurements: {},\n});\n\nclass BigOSketch extends AbstractSketch<Config> {\n  constructor() {\n    super(getDefaultConfig());\n  }\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 18);\n    };\n\n    s.draw = function () {\n      const { measurements, startSize, endSize } = that.config;\n\n      s.background(230);\n      s.strokeWeight(5);\n      s.stroke(\"blue\");\n\n      // Find the largest measurement\n      let highest = 0;\n      Object.values(measurements).forEach((i: number) => {\n        if (i > highest) {\n          highest = i;\n        }\n      });\n\n      Object.entries(measurements)\n        .map((k) => ({ index: parseInt(k[0]), value: k[1] }))\n        .forEach(({ index, value }) => {\n          const x = s.map(index, startSize, endSize, 0, WIDTH);\n          const y = s.map(value, 0, highest, 0, HEIGHT);\n          s.point(x, HEIGHT - y);\n        });\n    };\n  }\n}\n\nexport default BigOSketch;\n","import {\n  arithmeticComparator,\n  generateRandomNumbers,\n} from \"@comp-sci-maths/lib/dist/common\";\nimport React from \"react\";\nimport useInterval from \"../../../lib/useInterval\";\nimport { BigOMeasurements, MeasureProps } from \"./types\";\n\ninterface Props extends MeasureProps {\n  playing: boolean;\n  algorithmWrapper: (inputList: number[]) => number;\n}\n\ninterface ReducerState extends MeasureProps {\n  algorithmWrapper: (inputList: number[]) => number;\n  iterations: number;\n  measurements: BigOMeasurements;\n}\n\ninterface TickAction {\n  type: \"tick\";\n}\ninterface ResetAction extends MeasureProps {\n  type: \"reset\";\n  algorithmWrapper: (inputList: number[]) => number;\n}\n\ntype ReducerAction = TickAction | ResetAction;\n\nconst reducer = (state: ReducerState, action: ReducerAction): ReducerState => {\n  switch (action.type) {\n    case \"tick\":\n      let measurements: BigOMeasurements = {};\n\n      for (let n = state.startSize; n < state.endSize; n += state.step) {\n        const inputList: number[] = generateRandomNumbers(0, 1000, n);\n        inputList.sort(arithmeticComparator);\n\n        // Search for some specific indices\n        let numberOfComparisons: number = state.algorithmWrapper(inputList);\n\n        measurements[n] =\n          state.iterations > 0\n            ? Math.floor(\n              numberOfComparisons / (state.iterations + 1) +\n              ((state.measurements[n] || 0) * state.iterations) /\n              (state.iterations + 1)\n            )\n            : numberOfComparisons;\n      }\n      return {\n        ...state,\n        iterations: state.iterations + 1,\n        measurements,\n      };\n    case \"reset\":\n      const resetAction = action as ResetAction;\n      console.log(\"Reset\");\n      return {\n        ...resetAction,\n        iterations: 1,\n        measurements: {},\n      };\n  }\n};\n\nconst useAlgorithmMeasure = ({\n  playing,\n  startSize,\n  endSize,\n  step,\n  algorithmWrapper,\n}: Props): BigOMeasurements => {\n  const [{ measurements }, dispatch] = React.useReducer(reducer, {\n    algorithmWrapper,\n    iterations: 1,\n    measurements: {},\n    startSize,\n    endSize,\n    step,\n  });\n\n  const tick = React.useCallback(() => dispatch({ type: \"tick\" }), []);\n\n  React.useEffect(\n    () =>\n      dispatch({\n        type: \"reset\",\n        startSize,\n        endSize,\n        step,\n        algorithmWrapper,\n      }),\n    [algorithmWrapper, startSize, endSize, step]\n  );\n\n  useInterval(tick, playing ? 1000 : null);\n\n  return measurements;\n};\n\nexport default useAlgorithmMeasure;\n","import { arithmeticComparator } from \"@comp-sci-maths/lib/dist/common\";\nimport React from \"react\";\nimport Checkbox from \"../../../Bootstrap/Checkbox\";\nimport useSketch from \"../../../p5/useSketch\";\nimport SearchAlgorithmPicker, {\n  usePicker as useSearchAlgorithmPicker,\n} from \"../Search/SearchAlgorithmPicker\";\nimport SortAlgorithmPicker, {\n  usePicker as useSortAlgorithmPicker,\n} from \"../Sorting/SortingAlgorithmPicker\";\n\nimport AlgorithmTypePicker, {\n  usePicker as useAlgorithmTypePicker,\n} from \"./AlgorithmTypePicker\";\nimport BigOSketch from \"./BigOSketch\";\n\nimport useAlgorithmMeasure from \"./useAlgorithmMeasure\";\n\nconst DEFAULT_STEP: number = 40;\nconst DEFAULT_START_SIZE: number = 10;\nconst DEFAULT_END_SIZE: number = 1000;\n\nconst BigONotation: React.FunctionComponent = () => {\n  const { componentProps: algorithmTypePickerProps } = useAlgorithmTypePicker(\n    \"form-control\"\n  );\n\n  const {\n    algorithm: searchAlgorithm,\n    componentProps: searchAlgorithmPickerProps,\n  } = useSearchAlgorithmPicker(\"form-control\");\n  const {\n    algorithm: sortAlgorithm,\n    componentProps: sortAlgorithmPickerProps,\n  } = useSortAlgorithmPicker(\"form-control\");\n\n  const [step, setStep] = React.useState<number>(DEFAULT_STEP);\n  const [startSize, setStartSize] = React.useState<number>(DEFAULT_START_SIZE);\n  const [endSize, setEndSize] = React.useState<number>(DEFAULT_END_SIZE);\n  const [playing, togglePlaying] = React.useReducer((p) => !p, false);\n\n  const algorithmWrapper = React.useCallback(\n    (inputList: number[]) => {\n      let numberOfComparisons: number = 0;\n      if (algorithmTypePickerProps.value === \"search\" && !!searchAlgorithm) {\n        const indexToFind = Math.floor(Math.random() * inputList.length);\n        searchAlgorithm.search(inputList, inputList[indexToFind], {\n          compare: (a, b) => {\n            numberOfComparisons++;\n            return arithmeticComparator(a, b);\n          },\n        });\n      } else if (algorithmTypePickerProps.value === \"sort\" && !!sortAlgorithm) {\n        sortAlgorithm.sort(inputList, {\n          compare: (a, b) => {\n            numberOfComparisons++;\n            return arithmeticComparator(a, b);\n          },\n        });\n      }\n\n      return numberOfComparisons;\n    },\n    [algorithmTypePickerProps.value, sortAlgorithm, searchAlgorithm]\n  );\n\n  const measurements = useAlgorithmMeasure({\n    playing,\n    startSize,\n    endSize,\n    step,\n    algorithmWrapper,\n  });\n\n  const onStepChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setStep(parseInt(value)),\n    [setStep]\n  );\n  const onStartSizeChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setStartSize(parseInt(value)),\n    [setStartSize]\n  );\n  const onEndSizeChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setEndSize(parseInt(value)),\n    [setEndSize]\n  );\n\n  const { refContainer, updateConfig } = useSketch(BigOSketch);\n\n  React.useEffect(() => updateConfig({ startSize, endSize, measurements }), [\n    startSize,\n    endSize,\n    measurements,\n    updateConfig,\n  ]);\n\n  return (\n    <div>\n      <div className=\"form-group\">\n        <label>Step</label>\n        <input\n          className=\"form-control\"\n          type=\"number\"\n          value={step}\n          onChange={onStepChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Start Size</label>\n        <input\n          className=\"form-control\"\n          type=\"number\"\n          value={startSize}\n          onChange={onStartSizeChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>End Size</label>\n        <input\n          className=\"form-control\"\n          type=\"number\"\n          value={endSize}\n          onChange={onEndSizeChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Algorithm Type</label>\n        <AlgorithmTypePicker {...algorithmTypePickerProps} />\n      </div>\n\n      {algorithmTypePickerProps.value === \"sort\" && (\n        <div className=\"form-group\">\n          <label>Sort Algorithm</label>\n          <SortAlgorithmPicker {...sortAlgorithmPickerProps} />\n        </div>\n      )}\n\n      {algorithmTypePickerProps.value === \"search\" && (\n        <div className=\"form-group\">\n          <label>Search Algorithm</label>\n          <SearchAlgorithmPicker {...searchAlgorithmPickerProps} />\n        </div>\n      )}\n\n      <Checkbox\n        id=\"chkPlaying\"\n        label=\"playing\"\n        checked={playing}\n        onChange={togglePlaying}\n      />\n\n      <div ref={refContainer} />\n\n      <table className=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Input Size</th>\n            <th>Average Comparisons</th>\n          </tr>\n        </thead>\n        <tbody>\n          {Object.entries(measurements).map((k) => (\n            <tr key={k[0]}>\n              <td>{k[0]}</td>\n              <td>{k[1]}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default BigONotation;\n","import p5 from \"p5\";\nimport { AbstractSketch } from \"../../p5/useSketch\";\nimport { AxisRange, PlotConfiguration } from \"./types\";\n\nconst WIDTH = 600;\nconst HEIGHT = 600;\n\ninterface Config extends AxisRange {\n  plotConfigurations: PlotConfiguration[];\n}\n\nexport const DEFAULT_RANGE: AxisRange = {\n  from: -100,\n  to: +100,\n  step: 1,\n};\n\nconst getDefaultConfig = (): Config => ({\n  ...DEFAULT_RANGE,\n  plotConfigurations: [],\n});\n\nclass GraphFunctionSketch extends AbstractSketch<Config> {\n  constructor() {\n    super(getDefaultConfig());\n  }\n\n  sketch(s: p5) {\n    const that = this;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n      s.colorMode(s.HSB, 255);\n      s.textFont(\"Helvetica\", 18);\n    };\n\n    s.draw = function () {\n      const { from, to, step, plotConfigurations } = that.config;\n\n      const mapX = (x: number): number =>\n        s.map(x, from, to, -s.width / 2, s.width / 2);\n      const mapY = (y: number): number =>\n        s.map(y, from, to, s.height / 2, -s.height / 2);\n\n      s.background(230);\n      s.strokeWeight(3);\n      s.stroke(\"black\");\n\n      s.translate(s.width / 2, s.height / 2);\n\n      // Draw x-axis\n      s.line(-s.width / 2, 0, s.width / 2, 0);\n\n      // Draw y-axis\n      s.line(0, -s.height / 2, 0, s.height / 2);\n\n      plotConfigurations.forEach(({ colour, graphFunction }) => {\n        let lastX = from - step;\n        let lastY = graphFunction(from - step);\n        s.stroke(colour);\n\n        for (let x = from; x < to; x += step) {\n          let y = graphFunction(x);\n          s.point(mapX(x), mapY(y));\n          s.line(mapX(lastX), mapY(lastY), mapX(x), mapY(y));\n\n          lastX = x;\n          lastY = y;\n        }\n      });\n    };\n  }\n}\n\nexport default GraphFunctionSketch;\n","import React from \"react\";\nimport GraphFunctionSketch from \"../../../p5/GraphFunctionSketch\";\nimport { PlotConfiguration } from \"../../../p5/GraphFunctionSketch/types\";\nimport useSketch from \"../../../p5/useSketch\";\n\n// function factorial(num: number): number {\n//   // If the number is less than 0, reject it.\n//   if (num < 0) return -1;\n//   // If the number is 0, its factorial is 1.\n//   else if (num === 0) return 1;\n//   // Otherwise, call the recursive procedure again\n//   else {\n//     return num * factorial(num - 1);\n//   }\n// }\n\ninterface BigO extends PlotConfiguration {\n  bigONotation: string;\n}\n\nconst plotConfigurations: BigO[] = [\n  {\n    name: \"Linear\",\n    bigONotation: \"O(n)\",\n    colour: \"cyan\",\n    graphFunction: (x: number) => x,\n  },\n  {\n    name: \"Logarithmic\",\n    colour: \"green\",\n    bigONotation: \"O(log(n))\",\n    graphFunction: (x: number) => Math.log(x),\n  },\n  {\n    name: \"n * Logarithmic\",\n    colour: \"blue\",\n    bigONotation: \"O(n * log(n))\",\n    graphFunction: (x: number) => x * Math.log(x),\n  },\n  {\n    name: \"Polynomial\",\n    bigONotation: \"O(n^2)\",\n    colour: \"orange\",\n    graphFunction: (x: number) => Math.pow(x, 2),\n  },\n  {\n    name: \"Exponential\",\n    bigONotation: \"O(2^n)\",\n    colour: \"red\",\n    graphFunction: (x: number) => Math.pow(2, x),\n  },\n  //   {\n  //     name: \"Factorial\",\n  //     colour: \"purple\",\n  //     graphFunction: (x: number) => factorial(x),\n  //   },\n];\n\nconst CompareBigO: React.FunctionComponent = () => {\n  const { refContainer, config, updateConfig } = useSketch(GraphFunctionSketch);\n\n  const onStepChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => updateConfig({ step: parseInt(value) }),\n    [updateConfig]\n  );\n  const onGraphFromChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => updateConfig({ from: parseInt(value) }),\n    [updateConfig]\n  );\n  const onGraphToChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => updateConfig({ to: parseInt(value) }),\n    [updateConfig]\n  );\n\n  React.useEffect(() => {\n    updateConfig({\n      plotConfigurations,\n    });\n  }, [updateConfig]);\n\n  return (\n    <div>\n      <table className=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Big O Notation</th>\n            <th>Colour</th>\n          </tr>\n        </thead>\n        <tbody>\n          {plotConfigurations.map(({ name, bigONotation, colour }, i) => (\n            <tr key={i}>\n              <td>{name}</td>\n              <td>{bigONotation}</td>\n              <td style={{ backgroundColor: colour }}>{colour}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      <div ref={refContainer} />\n\n      <div className=\"row\">\n        <div className=\"form-group col-md-4\">\n          <label>Step</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            value={config.step}\n            onChange={onStepChange}\n          />\n        </div>\n        <div className=\"form-group col-md-4\">\n          <label>Range From</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            value={config.from}\n            onChange={onGraphFromChange}\n          />\n        </div>\n        <div className=\"form-group col-md-4\">\n          <label>Range To</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            value={config.to}\n            onChange={onGraphToChange}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CompareBigO;\n","import BigOMeasure from \"./BigONotation\";\nimport BigOCompare from \"./CompareBigO\";\nimport { Page } from \"../../../../types\";\n\nexport const page1: Page = {\n  href: \"/computerScience/algorithms/measureBigO\",\n  title: \"Big-O Notation - Measure\",\n  description:\n    \"Measure and visualise performance of algorithms by counting their key operations with respect to input size\",\n  component: BigOMeasure,\n};\n\nexport const page2: Page = {\n  href: \"/computerScience/algorithms/compareBigO\",\n  title: \"Big-O Notation - Compare\",\n  description: \"Compare the known Big-O Notations visually\",\n  component: BigOCompare,\n};\n\nexport default BigOCompare;\n","import React from \"react\";\nimport BinaryTreeBuilder from \"../../BinaryTreeBuilder\";\nimport useBinaryTreeBuilder from \"../../BinaryTreeBuilder/useBinaryTreeBuilder\";\n\nconst BinaryTreeComponent: React.FunctionComponent = () => {\n  const binaryTreeBuilder = useBinaryTreeBuilder();\n\n  return (\n    <div>\n      <BinaryTreeBuilder binaryTreeBuilder={binaryTreeBuilder} />\n    </div>\n  );\n};\n\nexport default BinaryTreeComponent;\n","import Component from \"./BinaryTreeComponent\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataStructures/binaryTree\",\n  title: \"Binary Tree\",\n  description: \"Build a binary tree\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport { Graph, Edge, GraphAction } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\n\ninterface Props {\n  graph: Graph<string>;\n  dispatch: (action: GraphAction<string>) => void;\n  filter: (edge: Edge<string>) => boolean;\n  getOtherEnd: (edge: Edge<string>) => string;\n}\n\nconst EdgesCell: React.FunctionComponent<Props> = ({\n  graph,\n  dispatch,\n  filter,\n  getOtherEnd,\n}) => {\n  return (\n    <div className=\"btn-toolbar\">\n      {graph.edges.filter(filter).map((edge, i) => (\n        <span key={i} className=\"input-group btn-group edge-buttons\">\n          <div className=\"input-group-prepend\">\n            <div className=\"input-group-text\">{getOtherEnd(edge)} </div>\n          </div>\n          <button\n            className=\"btn btn-danger btn-sm\"\n            onClick={() => dispatch({ type: 'removeEdge', ...edge })}\n          >\n            X\n          </button>\n        </span>\n      ))}\n    </div>\n  );\n};\n\nexport default EdgesCell;\n","import React from \"react\";\n\nimport {\n  Graph,\n  GraphAction,\n  Edge,\n} from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\nimport EdgesCell from \"./EdgeCell\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"../../../../Bootstrap/Buttons/ButtonBar\";\nimport { Props as ButtonProps } from \"../../../../Bootstrap/Buttons/Button\";\n\ninterface Props {\n  vertex: string;\n  graph: Graph<string>;\n  dispatch: (action: GraphAction<string>) => void;\n  pendingFrom: string | undefined;\n  newEdgeWeight: number;\n  prepareEdge: (from: string) => void;\n  cancelEdge: () => void;\n  completeEdge: (to: string, weight: number) => void;\n  clearAll: () => void;\n}\n\nconst GET_EDGE_FROM = (edge: Edge<string>) => edge.from;\nconst GET_EDGE_TO = (edge: Edge<string>) => edge.to;\n\nconst VertexRow: React.FunctionComponent<Props> = ({\n  vertex,\n  dispatch,\n  newEdgeWeight,\n  graph,\n  pendingFrom,\n  prepareEdge,\n  completeEdge,\n  cancelEdge,\n}) => {\n  const onPrepareEdge = React.useCallback(() => prepareEdge(vertex), [\n    vertex,\n    prepareEdge,\n  ]);\n  const onCompleteEdge = React.useCallback(\n    () => completeEdge(vertex, newEdgeWeight),\n    [vertex, newEdgeWeight, completeEdge]\n  );\n  const onCancelEdge = React.useCallback(() => cancelEdge(), [cancelEdge]);\n  const onRemoveVertex = React.useCallback(() => {\n    dispatch({ type: 'removeVertex', vertex });\n  }, [vertex, dispatch]);\n\n  const filterOutgoing = React.useCallback(\n    (edge: Edge<string>) => graph.areVerticesEqual(edge.from, vertex),\n    [vertex, graph]\n  );\n  const filterIncoming = React.useCallback(\n    (edge: Edge<string>) => graph.areVerticesEqual(edge.to, vertex),\n    [vertex, graph]\n  );\n  const buttonBarProps: ButtonBarProps = React.useMemo(() => {\n    const buttons: ButtonProps[] = [];\n\n    if (pendingFrom === undefined) {\n      buttons.push({\n        onClick: onPrepareEdge,\n        className: \"btn-sm\",\n        text: \"Edge From\",\n        styleType: \"primary\",\n      });\n    }\n\n    if (pendingFrom !== undefined && pendingFrom !== vertex) {\n      buttons.push({\n        onClick: onCompleteEdge,\n        className: \"btn-sm\",\n        text: \"Edge To\",\n        styleType: \"success\",\n      });\n    }\n\n    if (pendingFrom === vertex) {\n      buttons.push({\n        onClick: onCancelEdge,\n        className: \"btn-sm\",\n        styleType: \"warning\",\n        text: \"Cancel\",\n      });\n    }\n    buttons.push({\n      onClick: onRemoveVertex,\n      className: \"btn-sm\",\n      styleType: \"danger\",\n      text: \"Remove Vertex\",\n    });\n\n    return { buttons };\n  }, [\n    pendingFrom,\n    vertex,\n    onPrepareEdge,\n    onCompleteEdge,\n    onRemoveVertex,\n    onCancelEdge,\n  ]);\n\n  return (\n    <tr>\n      <td>{vertex}</td>\n      <td>\n        <EdgesCell\n          filter={filterOutgoing}\n          getOtherEnd={GET_EDGE_TO}\n          graph={graph}\n          dispatch={dispatch}\n        />\n      </td>\n      <td>\n        <EdgesCell\n          filter={filterIncoming}\n          getOtherEnd={GET_EDGE_FROM}\n          graph={graph}\n          dispatch={dispatch}\n        />\n      </td>\n      <td>\n        <ButtonBar {...buttonBarProps} />\n      </td>\n    </tr>\n  );\n};\n\nexport default VertexRow;\n","import React from \"react\";\nimport VertexRow from \"./VertexRow\";\n\nimport \"./graphBuilder.css\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"../../../../Bootstrap/Buttons/ButtonBar\";\nimport Checkbox from '../../../../Bootstrap/Checkbox';\nimport { Graph, GraphAction } from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\n\ninterface Props {\n  graph: Graph<string>;\n  dispatch: (action: GraphAction<string>) => void;\n}\n\nconst GraphBuilder: React.FunctionComponent<Props> = ({ graph, dispatch }: Props) => {\n  const [pendingFrom, prepareEdge] = React.useState<string | undefined>(\n    undefined\n  );\n\n  const [newEdgeWeight, setNewEdgeWeight] = React.useState<number>(1);\n  const onNewEdgeWeightChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewEdgeWeight(parseInt(value)),\n    [setNewEdgeWeight]\n  );\n\n  const [newEdgeBidirectional, setNewEdgeBidirectional] = React.useState<boolean>(true);\n  const onNewEdgeBidirectionalChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { checked } }) => setNewEdgeBidirectional(checked),\n    [setNewEdgeBidirectional]\n  );\n\n\n  const completeEdge = React.useCallback(\n    (to: string, weight: number) => {\n      if (pendingFrom !== undefined) {\n        if (newEdgeBidirectional) {\n          dispatch({\n            type: 'addBidirectionalEdge',\n            from: pendingFrom,\n            to,\n            weight\n          })\n        } else {\n          dispatch({\n            type: 'addUnidirectionalEdge',\n            from: pendingFrom,\n            to,\n            weight\n          })\n        }\n      }\n      prepareEdge(undefined);\n    },\n    [pendingFrom, newEdgeBidirectional, dispatch]\n  );\n  const cancelEdge = React.useCallback(() => prepareEdge(undefined), [\n    prepareEdge,\n  ]);\n\n  const clearAll = React.useCallback(() => {\n    dispatch({ type: 'reset' });\n  }, [dispatch]);\n\n  const [newVertexName, setNewVertexName] = React.useState<string>(\"Z\");\n  const onNewVertexChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewVertexName(value),\n    [setNewVertexName]\n  );\n\n  const onAddVertex = React.useCallback(() => {\n    if (newVertexName.length > 0) {\n      dispatch({ type: 'addVertex', vertex: newVertexName })\n    }\n  }, [newVertexName, dispatch]);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          onClick: onAddVertex,\n          text: \"Add Vertex\",\n          styleType: \"primary\",\n        },\n        {\n          onClick: clearAll,\n          text: \"Clear All\",\n          styleType: \"danger\",\n        },\n      ],\n    }),\n    [clearAll, onAddVertex]\n  );\n\n  return (\n    <div>\n      <h2>Edit Graph</h2>\n      <form>\n        <div className=\"form-group\">\n          <label htmlFor=\"newVertexName\">New Vertex Name</label>\n          <input\n            id=\"newVertexName\"\n            className=\"form-control\"\n            value={newVertexName}\n            onChange={onNewVertexChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"newEdgeWeight\">New Edge Weight</label>\n          <input\n            id=\"newEdgeWeight\"\n            className=\"form-control\"\n            type=\"number\"\n            value={newEdgeWeight}\n            onChange={onNewEdgeWeightChange}\n          />\n        </div>\n        <div className='form-group'>\n          <Checkbox\n            label='New Edges Bidirectional'\n            id='chkNewEdgeBidirectional'\n            checked={newEdgeBidirectional}\n            onChange={onNewEdgeBidirectionalChange} />\n        </div>\n      </form>\n      <ButtonBar {...buttonBarProps} />\n\n      <table className=\"table table-striped table-bordered table-sm\">\n        <thead>\n          <tr>\n            <th>Vertex</th>\n            <th>Outgoing</th>\n            <th>Incoming</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {graph.vertices.map((vertex, i) => (\n            <VertexRow\n              key={i}\n              {...{\n                vertex,\n                clearAll,\n                graph,\n                dispatch,\n                newEdgeWeight,\n                cancelEdge,\n                completeEdge,\n                prepareEdge,\n                pendingFrom,\n              }}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default GraphBuilder;\n","import { Styles } from \"react-modal\";\n\nexport default {\n  overlay: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"rgba(255, 255, 255, 0.75)\",\n  },\n  content: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    // right: '40px',\n    // bottom: '40px',\n    border: \"thin solid #ccc\",\n    background: \"#fff\",\n    overflow: \"auto\",\n    WebkitOverflowScrolling: \"touch\",\n    borderRadius: \"4px\",\n    outline: \"none\",\n    padding: \"0\",\n  },\n} as Styles;\n","/*\n * Copyright 2018 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport Modal from \"react-modal\";\nimport customStyles from \"./customStyles\";\nimport \"./ModalDialog.css\";\n\ninterface ContentProps {\n  header: JSX.Element;\n  content: JSX.Element;\n  actions: JSX.Element;\n}\n\nconst ModalDialog: React.FunctionComponent<ContentProps & ReactModal.Props> = ({\n  header,\n  content,\n  actions,\n  ...rest\n}) => {\n  return (\n    <Modal className={`themed-modal light`} {...rest} style={customStyles}>\n      <div className=\"themed-modal__container\">\n        <header className=\"themed-modal__header\">{header}</header>\n        <div className=\"themed-modal__content\">{content}</div>\n        <div className=\"themed-modal__footer__actions\">{actions}</div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ModalDialog;\n","import ModalDialog from \"./ModalDialog\";\n\nexport { ModalDialog };\n\nexport default ModalDialog;\n","import React from \"react\";\nimport ModalDialog from \"../../../Bootstrap/ModalDialog\";\n\nimport { Props as ButtonProps } from \"../../../Bootstrap/Buttons/Button\";\nimport ButtonBar from \"../../../Bootstrap/Buttons/ButtonBar\";\n\ninterface Props extends ReactModal.Props {\n  createGraph: (name: string) => void;\n  onCloseDialog: () => void;\n}\n\nconst NewGraphDialog: React.FunctionComponent<Props> = (props) => {\n  const { createGraph, onCloseDialog } = props;\n  const [graphName, setGraphName] = React.useState<string>(\"\");\n\n  const onGraphNameChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setGraphName(value),\n    [setGraphName]\n  );\n\n  const buttons: ButtonProps[] = React.useMemo(\n    () => [\n      {\n        text: \"Create\",\n        styleType: \"primary\",\n        onClick: () => {\n          createGraph(graphName);\n          onCloseDialog();\n        },\n      },\n      {\n        text: \"Cancel\",\n        styleType: \"danger\",\n        onClick: onCloseDialog,\n      },\n    ],\n    [graphName, createGraph, onCloseDialog]\n  );\n\n  return (\n    <ModalDialog\n      {...props}\n      header={<h4>New Graph</h4>}\n      content={\n        <form className=\"form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"newGraphName\">Name</label>\n            <input\n              id=\"newGraphName\"\n              className=\"form-control\"\n              value={graphName}\n              onChange={onGraphNameChange}\n            />\n          </div>\n        </form>\n      }\n      actions={<ButtonBar buttons={buttons} />}\n    />\n  );\n};\n\ninterface UseDialog {\n  /**\n   * The owning component is ready to start a deletion process.\n   * Calling this will open the dialog, and setup the UUIDs\n   */\n  showDialog: () => void;\n  /**\n   * These are the properties that the owning component can just give to the Dialog component\n   * using destructing.\n   */\n  componentProps: Props;\n}\n\n/**\n * This is a React custom hook that sets up things required by the owning component.\n */\nexport const useDialog = (\n  createGraph: (name: string) => void\n): UseDialog => {\n  const [isOpen, setIsOpen] = React.useState<boolean>(false);\n\n  const _onCloseDialog = React.useCallback(() => setIsOpen(false), [setIsOpen]);\n\n  const _showDialog = React.useCallback(() => setIsOpen(true), [setIsOpen]);\n\n  return {\n    componentProps: {\n      isOpen,\n      createGraph,\n      onCloseDialog: _onCloseDialog,\n    },\n    showDialog: _showDialog,\n  };\n};\n\nexport default NewGraphDialog;\n","import React from \"react\";\nimport GraphBuilder from \"./GraphBuilder\";\nimport GraphPickerWithSketch, {\n  usePicker as useGraphPicker,\n} from \"./GraphPickerWithSketch\";\nimport DataItemBoid from \"../../../p5/Boid/DataItemBoid\";\nimport Checkbox from \"../../../Bootstrap/Checkbox\";\nimport NewGraphDialog, {\n  useDialog as useNewGraphDialog,\n} from \"./NewGraphDialog\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"../../../Bootstrap/Buttons/ButtonBar\";\nimport cogoToast from \"cogo-toast\";\n\nconst GraphManager: React.FunctionComponent = () => {\n  const {\n    graphName,\n    graphDispatch,\n    graph,\n    savedGraphUse: { createNew, save, reset },\n    componentProps: graphPickerProps,\n    sketchUse: { updateConfig, sketchContainer },\n  } = useGraphPicker(\"simpleStringGraph\");\n\n  const onCreateNew = React.useCallback(\n    (name: string) => {\n      createNew(name);\n      cogoToast.info(`Graph Created with name ${name}`);\n    },\n    [createNew]\n  );\n\n  const {\n    showDialog: showNewGraphDialog,\n    componentProps: newGraphProps,\n  } = useNewGraphDialog(onCreateNew);\n\n  const [physicsEnabled, setPhysicsEnabled] = React.useState<boolean>(false);\n  const onPhysicsEnabledChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { checked } }) => setPhysicsEnabled(checked),\n    [setPhysicsEnabled]\n  );\n\n  React.useEffect(() => {\n    updateConfig({ physicsEnabled });\n  }, [physicsEnabled, updateConfig]);\n\n  const onSave = React.useCallback(() => {\n    const vertexPositions = graph.vertices\n      .map((v) => sketchContainer.getBoid(v))\n      .filter((b) => b !== undefined)\n      .map((b) => b as DataItemBoid<string>)\n      .map((b: DataItemBoid<string>) => ({\n        key: b.entity,\n        position: { x: b.position.x, y: b.position.y },\n      }))\n      .reduce((acc, { key, position }) => ({ ...acc, [key]: position }), {});\n\n    save(graphName, graph, vertexPositions);\n    cogoToast.info(`Graph Saved with name ${graphName}`);\n  }, [save, graphName, graph, sketchContainer]);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          onClick: showNewGraphDialog,\n          text: \"Create New\",\n          styleType: \"primary\",\n        },\n        {\n          onClick: onSave,\n          text: \"Save\",\n          styleType: \"primary\",\n        },\n        {\n          onClick: reset,\n          text: \"Reset\",\n          styleType: \"danger\",\n        },\n      ],\n    }),\n    [showNewGraphDialog, onSave, reset]\n  );\n\n  return (\n    <div>\n      <GraphPickerWithSketch {...graphPickerProps} />\n\n      <div className=\"form-group\">\n        <Checkbox\n          id=\"chkPhysics\"\n          checked={physicsEnabled}\n          onChange={onPhysicsEnabledChange}\n          label=\"Physics Enabled\"\n        />\n      </div>\n      <ButtonBar {...buttonBarProps} />\n\n      <GraphBuilder graph={graph} dispatch={graphDispatch} />\n      <NewGraphDialog {...newGraphProps} />\n    </div>\n  );\n};\n\nexport default GraphManager;\n","import Component from \"./GraphManager\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataStructures/graph\",\n  title: \"Graph\",\n  description:\n    \"Build weighted directional graphs for use in the rest of the application\",\n  component: Component,\n};\n\nexport default Component;\n","import React from 'react';\n\nimport {\n    LinearStructureState\n} from \"@comp-sci-maths/lib/dist/dataStructures/queue/linearDataStructure\";\n\nexport interface Props {\n    state: LinearStructureState<string | number>;\n    namedIndices?: {\n        name: string,\n        value: number\n    }[]\n}\n\nconst DEFAULT_HIGHLIGHTED_ROW = -1;\n\nconst LinearDataStructureDisplay: React.FunctionComponent<Props> = ({\n    state: { contents, capacity, lastResult, lastMessage },\n    namedIndices = []\n}) => {\n    const [highlightedRow, setHighlightedRow] = React.useState<number>(DEFAULT_HIGHLIGHTED_ROW);\n\n    const namedIndicesWithHandlers = React.useMemo(() => namedIndices.map(({ name, value }) => ({\n        name,\n        value,\n        onClick: () => setHighlightedRow(highlightedRow === value ? DEFAULT_HIGHLIGHTED_ROW : value)\n    })), [namedIndices, highlightedRow, setHighlightedRow])\n\n    return (<div className='linearDataStructureItems'>\n        <table className='data-table'>\n            <thead>\n                <tr><th>Index</th><th>Value</th></tr>\n            </thead>\n            <tbody>\n                {contents.map((value, i) => (\n                    <tr key={i} className={i === highlightedRow ? 'highlighted' : ''}>\n                        <td>{i}</td>\n                        <td>{value}</td>\n                    </tr>\n                ))}\n            </tbody>\n        </table>\n\n        <table className='data-table'>\n            <thead>\n                <tr>\n                    <th>Name</th>\n                    <th>Value</th>\n                </tr>\n            </thead>\n            <tbody>\n                {namedIndicesWithHandlers.map(({ name, value, onClick }) => (\n                    <tr key={name} onClick={onClick}>\n                        <td>{name}</td>\n                        <td>{value}</td>\n                    </tr>\n                ))}\n                <tr>\n                    <td>Capacity</td>\n                    <td>{capacity}</td>\n                </tr>\n                <tr>\n                    <td>Last Result</td>\n                    <td>{lastResult}</td>\n                </tr>\n                <tr>\n                    <td>Last Message</td>\n                    <td>{lastMessage}</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>)\n}\n\nexport default LinearDataStructureDisplay;","import { LinkedListState } from '@comp-sci-maths/lib/dist/dataStructures/linkedList/linkedListReducer';\nimport { ToString } from '@comp-sci-maths/lib/dist/types';\nimport React from 'react';\nimport LinearDataStructureDisplay from '../LinearDataStructure/LinearDataStructureDisplay';\n\ninterface Props<T> {\n    linkedListState: LinkedListState<T>;\n    itemToString: ToString<T>;\n}\n\nconst LinkedListDisplayComponent = <T extends any>({ itemToString, linkedListState: {\n    contents,\n    nextFree,\n    start,\n    lastMessage,\n    lastResult,\n    capacity,\n    freeNodes }\n}: Props<T>) => {\n    const { stackPointer } = freeNodes;\n    const freeNodesNamedIndices = React.useMemo(() => ([\n        { name: 'Stack Pointer', value: stackPointer },\n    ]), [stackPointer])\n\n    return <React.Fragment>\n        <div className='linearDataStructureItems'>\n            <table className='table table-striped'>\n                <thead>\n                    <tr>\n                        <td>Index</td>\n                        <td>Value</td>\n                        <td>Next Ptr</td>\n                    </tr>\n                </thead>\n                <tbody>\n                    {contents.map((item, i) => (\n                        <tr key={i}>\n                            <td>{i}</td>\n                            <td>{item !== null ? itemToString(item.value) : ''}</td>\n                            <td>{item !== null ? item.nextPtr : ''}</td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n\n            <table className='table table-striped'>\n                <thead>\n                    <tr>\n                        <td>Name</td>\n                        <td>Value</td>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>Next Free</td>\n                        <td>{nextFree}</td>\n                    </tr>\n                    <tr>\n                        <td>Start</td>\n                        <td>{start}</td>\n                    </tr>\n                    <tr>\n                        <td>Capacity</td>\n                        <td>{capacity}</td>\n                    </tr>\n                    <tr>\n                        <td>Last Result</td>\n                        <td>{lastResult !== null ? itemToString(lastResult.value) : ''}</td>\n                    </tr>\n                    <tr>\n                        <td>Last Message</td>\n                        <td>{lastMessage}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <div>\n            <h2>Queue of Free Nodes</h2>\n\n            <LinearDataStructureDisplay state={freeNodes} namedIndices={freeNodesNamedIndices} />\n        </div>\n    </React.Fragment>\n};\n\nexport default LinkedListDisplayComponent","import React from 'react';\n\nimport { loremIpsum } from 'lorem-ipsum';\n\nimport {\n    linkedListReducer,\n    getInitialLinkedListState,\n    LinkedListAction,\n    LinkedListState\n} from '@comp-sci-maths/lib/dist/dataStructures/linkedList/linkedListReducer';\n\nimport ButtonBar, {\n    Props as ButtonBarProps,\n} from \"../../../Bootstrap/Buttons/ButtonBar\";\nimport LinkedListDisplayComponent from './LinkedListDisplayComponent';\nimport { defaultToString } from '@comp-sci-maths/lib/dist/common';\n\nconst INITIAL_STATE = getInitialLinkedListState<string>();\n\nconst LinkedListComponent: React.FunctionComponent = () => {\n    const [state, dispatch] = React.useReducer(\n        linkedListReducer as React.Reducer<LinkedListState<string>, LinkedListAction<string>>,\n        INITIAL_STATE\n    );\n\n    const [newItem, setNewItem] = React.useState<string>('Bob');\n    const [logicalIndex, setLogicalIndex] = React.useState<number>(0);\n\n    const onNewItemChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n        ({ target: { value } }) => setNewItem(value),\n        [setNewItem]\n    );\n\n    const generateNewItem = React.useCallback(() => setNewItem(loremIpsum({ count: 1, units: 'word' })), [setNewItem]);\n\n    const onLogicalIndexChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n        ({ target: { value } }) => setLogicalIndex(parseInt(value, 10)),\n        [setLogicalIndex]\n    );\n\n    const onReset = React.useCallback(() => {\n        dispatch({ type: 'reset' })\n    }, []);\n\n    const onAppend = React.useCallback(() => {\n        dispatch({ type: 'append', value: newItem })\n        generateNewItem();\n    }, [newItem, generateNewItem,]);\n\n    const onInsert = React.useCallback(() => {\n        dispatch({ type: 'insert', value: newItem, logicalIndex });\n        generateNewItem();\n    }, [newItem, logicalIndex, generateNewItem])\n\n    const onRemove = React.useCallback(() => {\n        dispatch({ type: 'remove', logicalIndex })\n    }, [logicalIndex]);\n\n    const buttonBarProps: ButtonBarProps = React.useMemo(\n        () => ({\n            buttons: [\n                {\n                    text: \"Append\",\n                    onClick: onAppend,\n                    styleType: \"primary\",\n                },\n                {\n                    text: \"Insert\",\n                    onClick: onInsert,\n                    styleType: \"primary\",\n                },\n                {\n                    text: \"Remove\",\n                    onClick: onRemove,\n                    styleType: \"primary\",\n                },\n                {\n                    text: \"Reset\",\n                    onClick: onReset,\n                    styleType: \"danger\",\n                },\n            ],\n        }),\n        [onAppend, onInsert, onRemove, onReset]\n    );\n\n    return (\n        <div>\n            <form>\n                <div className=\"form-group\">\n                    <label>New Item</label>\n                    <input\n                        className=\"form-control\"\n                        value={newItem}\n                        onChange={onNewItemChange}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label>Logical Index</label>\n                    <input\n                        className=\"form-control\"\n                        value={logicalIndex}\n                        type=\"number\"\n                        min={0}\n                        max={state.capacity}\n                        onChange={onLogicalIndexChange}\n                    />\n                </div>\n            </form>\n\n            <ButtonBar {...buttonBarProps} />\n\n            <LinkedListDisplayComponent itemToString={defaultToString} linkedListState={state} />\n        </div>\n    );\n}\n\nexport default LinkedListComponent;","import Component from \"./LinkedListComponent\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataStructures/linkedList\",\n  title: \"Linked List\",\n  description: `Build a Linked List and observe how the pointers are used to traverse it this dynamic data structure`,\n  component: Component,\n};\n\nexport default Component;\n","import React from 'react';\n\nimport {\n    LinearStructureAction\n} from \"@comp-sci-maths/lib/dist/dataStructures/queue/linearDataStructure\";\n\nimport ButtonBar, {\n    Props as ButtonBarProps,\n} from \"../../../Bootstrap/Buttons/ButtonBar\";\n\nimport LinearDataStructureDisplay,\n{\n    Props as LinearDataStructureDisplayProps\n} from './LinearDataStructureDisplay';\n\nimport \"./linearDataStructure.css\";\nimport { loremIpsum } from 'lorem-ipsum';\n\ninterface Props extends LinearDataStructureDisplayProps {\n    pushOperationName?: string;\n    popOperationName?: string;\n    dispatch: (action: LinearStructureAction<string | number>) => void;\n}\n\nconst generateWord = () => loremIpsum({ units: 'word', count: 1 });\n\nconst LinearDataStructureEditor: React.FunctionComponent<Props> = (\n    {\n        dispatch,\n        pushOperationName = 'Push',\n        popOperationName = 'Pop',\n        ...lds\n    }) => {\n    const [newItem, setNewItem] = React.useState<string>(generateWord());\n\n    const onNewItemChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n        ({ target: { value } }) => setNewItem(value),\n        [setNewItem]\n    );\n\n    const onReset = React.useCallback(() => {\n        dispatch({ type: 'reset' })\n    }, [dispatch]);\n\n    const onPush = React.useCallback(() => {\n        dispatch({ type: 'push', value: newItem })\n        setNewItem(generateWord());\n    }, [newItem, setNewItem, dispatch]);\n\n    const onPop = React.useCallback(() => {\n        dispatch({ type: 'pop' })\n    }, [dispatch]);\n\n    const buttonBarProps: ButtonBarProps = React.useMemo(\n        () => ({\n            buttons: [\n                {\n                    text: pushOperationName,\n                    onClick: onPush,\n                    styleType: \"primary\",\n                },\n                {\n                    text: popOperationName,\n                    onClick: onPop,\n                    styleType: \"primary\",\n                },\n                {\n                    text: \"Reset\",\n                    onClick: onReset,\n                    styleType: \"danger\",\n                },\n            ],\n        }),\n        [pushOperationName, popOperationName, onPush, onPop, onReset]\n    );\n\n    return (\n        <div>\n            <form>\n                <div className=\"form-group\">\n                    <label>New Item</label>\n                    <input\n                        className=\"form-control\"\n                        value={newItem}\n                        onChange={onNewItemChange}\n                    />\n                </div>\n            </form>\n\n            <ButtonBar {...buttonBarProps} />\n\n            <LinearDataStructureDisplay {...lds} />\n        </div>\n    );\n}\n\nexport default LinearDataStructureEditor;","import React from \"react\";\n\nimport {\n  getInitialStackState,\n  stackReducer,\n  StackState\n} from \"@comp-sci-maths/lib/dist/dataStructures/stack/stackReducer\";\nimport LinearDataStructureEditor from \"../LinearDataStructure/LinearDataStructureEditor\";\n\nconst INITIAL_STATE: StackState<number> = getInitialStackState<number>();\n\nconst StackComponent: React.FunctionComponent = () => {\n  const [state, dispatch] = React.useReducer(\n    stackReducer,\n    INITIAL_STATE\n  );\n  const { stackPointer } = state;\n  const namedIndices = React.useMemo(() => ([\n    { name: 'Stack Pointer', value: stackPointer }\n  ]), [stackPointer])\n\n  return <LinearDataStructureEditor\n    state={state as StackState<number>}\n    dispatch={dispatch}\n    namedIndices={namedIndices} />\n};\n\nexport default StackComponent;\n","import Component from \"./StackComponent\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataStructures/stack\",\n  title: \"Stack\",\n  description: `Build a Stack and learn how items are added and removed. \n    Items are pushed and popped, the ordering follows First In Last Out`,\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport {\n  queueReducer,\n  QueueState,\n  getInitialQueueState\n} from \"@comp-sci-maths/lib/dist/dataStructures/queue/queueReducer\";\n\nimport LinearDataStructureEditor from \"../LinearDataStructure/LinearDataStructureEditor\";\n\nconst INITIAL_STATE: QueueState<string> = getInitialQueueState<string>();\n\nconst QueueComponent: React.FunctionComponent = () => {\n  const [state, dispatch] = React.useReducer(\n    queueReducer,\n    INITIAL_STATE\n  );\n  const { front, rear } = state;\n  const namedIndices = React.useMemo(() => ([\n    { name: 'Front', value: front },\n    { name: 'Rear', value: rear }\n  ]), [front, rear])\n\n  return <LinearDataStructureEditor\n    pushOperationName=\"Enqueue\"\n    popOperationName=\"Dequeue\"\n    state={state as QueueState<string>}\n    dispatch={dispatch}\n    namedIndices={namedIndices} />\n};\n\nexport default QueueComponent;\n","import React from \"react\";\n\nimport { loremIpsum } from 'lorem-ipsum';\n\nimport {\n  priorityQueueReducer,\n  getInitialPriorityQueueState,\n  PrioritisedItem,\n} from \"@comp-sci-maths/lib/dist/dataStructures/queue/priorityQueueReducer\";\n\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"../../../Bootstrap/Buttons/ButtonBar\";\nimport LinkedListDisplayComponent from \"../LinkedList/LinkedListDisplayComponent\";\nimport { LinkedListState } from \"@comp-sci-maths/lib/dist/dataStructures/linkedList/linkedListReducer\";\n\nconst INITIAL_STATE = getInitialPriorityQueueState<PrioritisedItem<string>>();\n\nconst generateWord = () => loremIpsum({ units: 'word', count: 1 });\n\nconst StackComponent: React.FunctionComponent = () => {\n  const [state, dispatch] = React.useReducer(priorityQueueReducer, INITIAL_STATE);\n\n  const [newItem, setNewItem] = React.useState<string>(generateWord());\n  const [newPriority, setNewPriority] = React.useState<number>(1);\n\n  const onNewItemChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewItem(value),\n    [setNewItem]\n  );\n\n  const onNewPriorityChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setNewPriority(parseInt(value, 10)),\n    [setNewPriority]\n  );\n\n  const onReset = React.useCallback(() => dispatch({ type: 'reset' }), []);\n\n  const onEnqueue = React.useCallback(() => {\n    dispatch({ type: 'enqueue', value: newItem, priority: newPriority })\n    setNewItem(generateWord());\n  }, [newItem, newPriority, setNewItem]);\n\n  const onDequeue = React.useCallback(() => dispatch({ type: 'dequeue' }), []);\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Enqueue\",\n          onClick: onEnqueue,\n          styleType: \"primary\",\n        },\n        {\n          text: \"Dequeue\",\n          onClick: onDequeue,\n          styleType: \"primary\",\n        },\n        {\n          text: \"Reset\",\n          onClick: onReset,\n          styleType: \"danger\",\n        },\n      ],\n    }),\n    [onEnqueue, onDequeue, onReset]\n  );\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>New Item</label>\n          <input\n            className=\"form-control\"\n            value={newItem}\n            onChange={onNewItemChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>New Item Priority</label>\n          <input\n            className=\"form-control\"\n            value={newPriority}\n            type=\"number\"\n            onChange={onNewPriorityChange}\n          />\n        </div>\n      </form>\n      <ButtonBar {...buttonBarProps} />\n\n      <LinkedListDisplayComponent\n        itemToString={({ value, priority }: PrioritisedItem<string>) => `${value} - ${priority}`}\n        linkedListState={state as LinkedListState<PrioritisedItem<string>>} />\n    </div>\n  );\n};\n\nexport default StackComponent;\n","import QueueComponent from \"./QueueComponent\";\nimport PriorityQueueComponent from \"./PriorityQueueComponent\";\nimport { Page } from \"../../../../types\";\n\nexport const queuePage: Page = {\n  href: \"/computerScience/dataStructures/queue\",\n  title: \"Queue\",\n  description: `Build a Queue and learn how items are added and removed.\n  Items are enqueued and dequeued, the ordering follows First In First Out`,\n  component: QueueComponent,\n};\n\nexport const priorityQueuePage: Page = {\n  href: \"/computerScience/dataStructures/priorityQueue\",\n  title: \"Priority Queue\",\n  description: `Build a Priority Queue and learn how items are added and removed with respect to priority.\n  Items are enqueued and dequeued, the ordering follows First In First Out, but higher priority items will jump the queue`,\n  component: PriorityQueueComponent,\n};\n\nexport default QueueComponent;\n","import p5 from \"p5\";\nimport { AbstractSketch } from \"../../../p5/useSketch\";\n\nexport const SIGNAL_MODE_SINE = \"Sine Wave\";\nexport const SIGNAL_MODE_NOISE = \"Perlin Noise\";\n\nexport const signalTypes = [SIGNAL_MODE_SINE, SIGNAL_MODE_NOISE];\n\nconst WIDTH = 480;\nconst HEIGHT = 320;\n\ninterface Sample {\n  signal: number;\n  x: number;\n  qSignal: number;\n}\n\nexport interface Config {\n  samplingRate: number;\n  resolution: number;\n  signalFrequency: number;\n  plotSignal: boolean;\n  plotSamples: boolean;\n  plotSquareWave: boolean;\n  plotQuantisation: boolean;\n  signalType: string;\n}\n\nconst defaultConfig: Config = {\n  samplingRate: 10,\n  resolution: 3,\n  signalFrequency: 3,\n  plotSignal: true,\n  plotSamples: false,\n  plotQuantisation: false,\n  plotSquareWave: true,\n  signalType: SIGNAL_MODE_NOISE,\n};\n\nclass Sketch extends AbstractSketch<Config> {\n  constructor() {\n    super(defaultConfig);\n  }\n\n  sketch(s: p5) {\n    const that = this;\n    let analogueSignal: number[] = [];\n    const CROSS_LENGTH = 5;\n\n    s.setup = function () {\n      s.createCanvas(WIDTH, HEIGHT);\n    };\n\n    s.draw = function () {\n      s.background(240);\n      s.translate(0, s.height / 2);\n\n      const {\n        samplingRate,\n        resolution,\n        signalFrequency,\n        plotSignal,\n        plotSamples,\n        plotSquareWave,\n        plotQuantisation,\n        signalType,\n      } = that.config;\n\n      let quantisationStep = s.height / Math.pow(2, resolution);\n\n      // Record analogue signal\n      let signalValue = 0.0;\n      switch (signalType) {\n        case SIGNAL_MODE_SINE:\n          let t = s.map(s.frameCount, 0, s.width, 0, s.TWO_PI);\n          signalValue = s.sin(t * signalFrequency) * (s.height / 2);\n          break;\n        case SIGNAL_MODE_NOISE:\n          signalValue =\n            s.noise((s.frameCount / 1000) * signalFrequency) * s.height -\n            s.height / 2;\n          break;\n      }\n\n      // Write the signals\n      analogueSignal.splice(0, 0, signalValue);\n\n      // Control their length\n      while (analogueSignal.length > s.width) {\n        analogueSignal.pop();\n      }\n\n      let samples: Sample[] = analogueSignal\n        .map((signal, x) => ({\n          signal,\n          qSignal: quantisationStep * Math.floor(signal / quantisationStep),\n          x,\n        }))\n        .filter(\n          ({ x }) =>\n            (x - s.frameCount) % Math.floor(s.width / samplingRate) === 0\n        );\n\n      // Draw Axis and gridlines\n      s.noFill();\n      s.stroke(\"black\");\n      s.strokeWeight(2);\n      s.line(0, 0, s.width, 0);\n      s.strokeWeight(1);\n      s.stroke(\"grey\");\n      for (let y = 0; y < s.height / 2; y += quantisationStep) {\n        s.line(0, y, s.width, y);\n        s.line(0, -y, s.width, -y);\n      }\n\n      // Plot the Samples\n      if (plotSamples) {\n        s.stroke(\"green\");\n        samples.forEach(({ signal, x }) => {\n          s.strokeWeight(2);\n          s.push();\n          s.translate(x, signal);\n          s.line(-CROSS_LENGTH, -CROSS_LENGTH, CROSS_LENGTH, CROSS_LENGTH);\n          s.line(-CROSS_LENGTH, CROSS_LENGTH, CROSS_LENGTH, -CROSS_LENGTH);\n          s.pop();\n          s.strokeWeight(1);\n          s.line(x, signal, x, s.height / 2);\n        });\n      }\n\n      // Plot Quantisation\n      if (plotQuantisation) {\n        s.stroke(\"red\");\n        s.strokeWeight(8);\n        samples.forEach(({ qSignal, x }) => {\n          s.point(x, qSignal);\n        });\n      }\n\n      // Draw the Analogue Signal\n      if (plotSignal) {\n        showSignal(\"blue\", analogueSignal);\n      }\n\n      if (plotSquareWave) {\n        s.stroke(\"red\");\n        for (let i = 0; i < samples.length - 1; i++) {\n          s.line(\n            samples[i].x,\n            samples[i].qSignal,\n            samples[i + 1].x,\n            samples[i].qSignal\n          );\n          s.line(\n            samples[i + 1].x,\n            samples[i].qSignal,\n            samples[i + 1].x,\n            samples[i + 1].qSignal\n          );\n        }\n      }\n    };\n\n    function showSignal(colour: string, signal: number[]) {\n      s.stroke(colour);\n      s.strokeWeight(1);\n      s.beginShape();\n      signal.forEach((signal, x) => {\n        s.vertex(x, signal);\n      });\n      s.endShape();\n    }\n  };\n}\n\nexport default Sketch;\n","import React from \"react\";\n\nimport Sketch, { signalTypes } from \"./Sketch\";\nimport useSketch from \"../../../p5/useSketch\";\n\nconst AnalogueSignals: React.FunctionComponent = () => {\n  const {\n    config: {\n      samplingRate,\n      resolution,\n      signalFrequency,\n      signalType,\n      plotSignal,\n      plotSamples,\n      plotQuantisation,\n      plotSquareWave,\n    },\n    updateConfig,\n    onNumericConfigChange,\n    onBooleanConfigChange,\n    refContainer,\n  } = useSketch(Sketch);\n\n  const onSamplingRateChange = React.useMemo(\n    () => onNumericConfigChange(\"samplingRate\"),\n    [onNumericConfigChange]\n  );\n  const onResolutionChange = React.useMemo(\n    () => onNumericConfigChange(\"resolution\"),\n    [onNumericConfigChange]\n  );\n  const onSignalFrequencyChange = React.useMemo(\n    () => onNumericConfigChange(\"signalFrequency\"),\n    [onNumericConfigChange]\n  );\n\n  const onPlotSignalChange = React.useMemo(\n    () => onBooleanConfigChange(\"signalFrequency\"),\n    [onBooleanConfigChange]\n  );\n  const onPlotSamplesChange = React.useMemo(\n    () => onBooleanConfigChange(\"plotSamples\"),\n    [onBooleanConfigChange]\n  );\n  const onPlotQuantisationChange = React.useMemo(\n    () => onBooleanConfigChange(\"plotQuantisation\"),\n    [onBooleanConfigChange]\n  );\n  const onPlotSquareWaveChange = React.useMemo(\n    () => onBooleanConfigChange(\"plotSquareWave\"),\n    [onBooleanConfigChange]\n  );\n  const onSignalTypeChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => updateConfig({ signalType: value }),\n    [updateConfig]\n  );\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label htmlFor=\"signalType\">Signal Type</label>\n          <select\n            className=\"custom-select\"\n            id=\"signalType\"\n            value={signalType}\n            onChange={onSignalTypeChange}\n          >\n            {signalTypes.map((signalType) => (\n              <option key={signalType} value={signalType}>\n                {signalType}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"samplingRate\">Sampling Rate (Hertz)</label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            id=\"samplingRate\"\n            placeholder=\"Sampling Rate\"\n            value={samplingRate}\n            onChange={onSamplingRateChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"quantisationStep\">\n            Resolution (audio bit depth){\" \"}\n          </label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            id=\"resolution\"\n            placeholder=\"Resolution\"\n            value={resolution}\n            onChange={onResolutionChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"signalFrequency\">Signal Frequency (Hertz)</label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            id=\"signalFrequency\"\n            placeholder=\"Signal Frequency\"\n            step=\"0.1\"\n            value={signalFrequency}\n            onChange={onSignalFrequencyChange}\n          />\n        </div>\n        <h4>Plot</h4>\n        <div className=\"form-check form-check-inline\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            checked={plotSignal}\n            onChange={onPlotSignalChange}\n            id=\"chkPlotSignal\"\n          />\n          <label className=\"form-check-label\" htmlFor=\"chkPlotSignal\">\n            Signal\n          </label>\n        </div>\n        <div className=\"form-check form-check-inline\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            checked={plotSamples}\n            onChange={onPlotSamplesChange}\n            id=\"chkPlotSamples\"\n          />\n          <label className=\"form-check-label\" htmlFor=\"chkPlotSamples\">\n            Samples\n          </label>\n        </div>\n        <div className=\"form-check form-check-inline\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            checked={plotQuantisation}\n            onChange={onPlotQuantisationChange}\n            id=\"chkPlotQuantisation\"\n          />\n          <label className=\"form-check-label\" htmlFor=\"chkPlotQuantisation\">\n            Quantisation\n          </label>\n        </div>\n        <div className=\"form-check form-check-inline\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            checked={plotSquareWave}\n            onChange={onPlotSquareWaveChange}\n            id=\"chkPlotSquareWave\"\n          />\n          <label className=\"form-check-label\" htmlFor=\"chkPlotSquareWave\">\n            Square Wave\n          </label>\n        </div>\n      </form>\n      <div className=\"sketch\" ref={refContainer} />\n    </div>\n  );\n};\n\nexport default AnalogueSignals;\n","import Sound from \"./Sound\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataRepresentation/sound\",\n  title: \"Sound\",\n  description:\n    \"Create sound waveforms, take samples and generate a digital signal from an analogue one\",\n  component: Sound,\n};\n\nexport default Sound;\n","import React from \"react\";\nimport { ColourMap } from \"./types\";\n\ninterface Props {\n  width: number;\n  height: number;\n  colourDepth: number;\n  availableColours: ColourMap;\n}\n\ninterface UseBitmapData {\n  pixels: number[][];\n  rawData: string;\n  setColour: (x: number, y: number, colour: number) => void;\n  randomiseColours: () => void;\n}\n\ninterface SetColourAction {\n  type: \"setColour\";\n  x: number;\n  y: number;\n  colour: number;\n}\n\ninterface InitialiseAction extends Props {\n  type: \"initialise\";\n}\n\ninterface RandomizeAction {\n  type: \"randomize\";\n}\n\ntype ReducerAction = SetColourAction | InitialiseAction | RandomizeAction;\n\ninterface ReducerState {\n  availableColours: ColourMap;\n  pixels: number[][];\n  colourDepth: number;\n  rawData: string;\n  width: number;\n  height: number;\n}\n\nconst defaultReducerState: ReducerState = {\n  availableColours: { 0: \"FF0000\", 1: \"0000FF\" },\n  colourDepth: 1,\n  pixels: [],\n  rawData: \"\",\n  width: 0,\n  height: 0,\n};\n\nconst getRawData = (colourDepth: number, pixels: number[][]): string => {\n  return pixels\n    .map((row) =>\n      row.map((i) => i.toString(2).padStart(colourDepth, \"0\")).join(\"\")\n    )\n    .join(\"\");\n};\n\nconst reducer = (state: ReducerState, action: ReducerAction): ReducerState => {\n  switch (action.type) {\n    case \"initialise\": {\n      const { width, height, availableColours, colourDepth } = action;\n      const pixels: number[][] = Array(height)\n        .fill(null)\n        .map((i) =>\n          Array(width)\n            .fill(null)\n            .map((i) => 0)\n        );\n      return {\n        width,\n        height,\n        availableColours,\n        colourDepth,\n        pixels: pixels,\n        rawData: getRawData(state.colourDepth, pixels),\n      };\n    }\n    case \"setColour\": {\n      const { x, y, colour } = action;\n      const pixels = state.pixels.map((row, sx) =>\n        sx === x ? row.map((cell, sy) => (sy === y ? colour : cell)) : row\n      );\n\n      return {\n        ...state,\n        pixels: pixels,\n        rawData: getRawData(state.colourDepth, pixels),\n      };\n    }\n    case \"randomize\": {\n      const pixels = state.pixels.map((row) =>\n        row.map(() =>\n          Math.floor(\n            Math.random() * Object.values(state.availableColours).length\n          )\n        )\n      );\n      return {\n        ...state,\n        pixels,\n        rawData: getRawData(state.colourDepth, pixels),\n      };\n    }\n  }\n};\n\nconst useBitmapData = ({\n  height,\n  width,\n  colourDepth,\n  availableColours,\n}: Props): UseBitmapData => {\n  const [{ pixels, rawData }, dispatch] = React.useReducer(\n    reducer,\n    defaultReducerState\n  );\n\n  React.useEffect(\n    () =>\n      dispatch({\n        type: \"initialise\",\n        width,\n        height,\n        colourDepth,\n        availableColours,\n      }),\n    [width, height, availableColours, colourDepth]\n  );\n\n  const setColour = React.useCallback(\n    (x: number, y: number, colour: number) =>\n      dispatch({ type: \"setColour\", x, y, colour }),\n    []\n  );\n\n  const randomiseColours = React.useCallback(\n    () => dispatch({ type: \"randomize\" }),\n    []\n  );\n\n  return { pixels, rawData, setColour, randomiseColours };\n};\n\nexport default useBitmapData;","import React from \"react\";\nimport { ColourMap } from \"./types\";\n\ninterface Props {\n  value: number;\n  onChange: (v: number) => void;\n  availableColours: ColourMap;\n  colourDepth: number;\n}\n\nconst ColourPalette: React.FunctionComponent<Props> = ({\n  availableColours,\n  colourDepth,\n  value,\n  onChange,\n}) => {\n  const availableColoursWithHandlers = React.useMemo(\n    () =>\n      Object.entries(availableColours).map(([code, colourHex]) => ({\n        backgroundColor: colourHex,\n        onClick: () => onChange(parseInt(code)),\n        isCurrent: value === parseInt(code),\n      })),\n    [availableColours, onChange, value]\n  );\n\n  return (\n    <div className=\"colour-palette\">\n      <div className=\"colour-palette__selector\">\n        {availableColoursWithHandlers.map(\n          ({ backgroundColor, onClick, isCurrent }, i) => (\n            <div\n              key={i}\n              style={{ backgroundColor }}\n              onClick={onClick}\n              className={isCurrent ? \"current\" : \"\"}\n            ></div>\n          )\n        )}\n      </div>\n      <div className=\"colour-palette__current ml-3\">\n        <div>Binary: {value.toString(2).padStart(colourDepth, \"0\")}</div>\n        <div>CSS: {availableColours[value]}</div>\n        <div\n          className=\"colour-palette__current--swatch\"\n          style={{ backgroundColor: availableColours[value] }}\n        ></div>\n      </div>\n    </div>\n  );\n};\n\ninterface UseProps {\n  colourDepth: number;\n}\n\nexport interface UseColourPallete {\n  componentProps: Props;\n}\n\nexport const useColourPallete = ({\n  colourDepth,\n}: UseProps): UseColourPallete => {\n  // Work out available colours based on depth...\n  const availableColours: ColourMap = React.useMemo(() => {\n    const numberColours = Math.pow(2, colourDepth);\n    const spectrum: ColourMap = {};\n    for (let x = 0; x < numberColours; x++) {\n      const c = Math.floor((255 * x) / numberColours);\n      spectrum[x] = `rgb(${c},${c},${c})`;\n    }\n    return spectrum;\n  }, [colourDepth]);\n\n  const [value, onChange] = React.useState<number>(0);\n\n  return {\n    componentProps: { value, onChange, availableColours, colourDepth },\n  };\n};\n\nexport default ColourPalette;\n","import React from \"react\";\nimport useBitmapData from \"./useBitmapData\";\nimport ColourPalette, { useColourPallete } from \"./ColourPalette\";\n\nimport \"./bitmapping.css\";\nimport useGroupUp from \"../../../lib/useGroupUp\";\n\nconst DEFAULT_WIDTH: number = 10;\nconst DEFAULT_HEIGHT: number = 10;\nconst DEFAULT_COLOUR_DEPTH: number = 8;\nconst AVAILABLE_COLOUR_DEPTHS: number[] = [1, 2, 4, 8];\n\nconst Bitmapping: React.FunctionComponent = () => {\n  const [width, setWidth] = React.useState<number>(DEFAULT_WIDTH);\n  const [height, setHeight] = React.useState<number>(DEFAULT_HEIGHT);\n  const [colourDepth, setColourDepth] = React.useState<number>(\n    DEFAULT_COLOUR_DEPTH\n  );\n\n  const { componentProps: paletteProps } = useColourPallete({\n    colourDepth,\n  });\n  const { value: currentColour, availableColours } = paletteProps;\n\n  const onWidthChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setWidth(parseInt(value)),\n    [setWidth]\n  );\n  const onHeightChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setHeight(parseInt(value)),\n    [setHeight]\n  );\n  const onColourDepthChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => setColourDepth(parseInt(value)),\n    [setColourDepth]\n  );\n\n  const { pixels, rawData, setColour, randomiseColours } = useBitmapData({\n    width,\n    height,\n    colourDepth,\n    availableColours,\n  });\n\n  const pixelsWithHandlers = React.useMemo(\n    () =>\n      pixels.map((row, x) =>\n        row.map((colour, y) => ({\n          backgroundColor: availableColours[colour],\n          onClick: () => setColour(x, y, currentColour),\n        }))\n      ),\n    [currentColour, pixels, availableColours, setColour]\n  );\n\n  const { itemGroups: rawDataSplit } = useGroupUp({\n    items: rawData.split(\"\"),\n    groupSize: 8,\n  });\n  const rawDataInWords = React.useMemo(\n    () => rawDataSplit.map((r) => r.join(\"\")).join(\" \"),\n    [rawDataSplit]\n  );\n\n  return (\n    <div>\n      <div className=\"image-data-container\">\n        <table className=\"bitmap-table\">\n          <tbody>\n            {pixelsWithHandlers.map((row, x) => (\n              <tr key={x}>\n                {row.map(({ backgroundColor, onClick }, y) => (\n                  <td\n                    key={y}\n                    style={{ backgroundColor }}\n                    onClick={onClick}\n                  ></td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        <div className=\"binary-data\">{rawDataInWords}</div>\n      </div>\n\n      <button className=\"btn btn-primary mt-3 mb-3\" onClick={randomiseColours}>\n        Randomise\n      </button>\n\n      <h4>\n        Available Colours 2<sup>{colourDepth}</sup> ={\" \"}\n        {Object.keys(availableColours).length}\n      </h4>\n      <ColourPalette {...paletteProps} />\n\n      <h4>Metadata</h4>\n      <form>\n        <div className=\"form-group\">\n          <label>Width</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            min={4}\n            max={20}\n            onChange={onWidthChange}\n            value={width}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Height</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            min={4}\n            max={20}\n            onChange={onHeightChange}\n            value={height}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Colour Depth</label>\n          <select\n            className=\"form-control\"\n            value={colourDepth}\n            onChange={onColourDepthChange}\n          >\n            {AVAILABLE_COLOUR_DEPTHS.map((a) => (\n              <option key={a} value={a}>\n                {a}\n              </option>\n            ))}\n          </select>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Bitmapping;\n","import Bitmapping from \"./Bitmapping\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataRepresentation/bitmapImages\",\n  title: \"Bitmap Images\",\n  description:\n    \"Create images by representing pixels as numbers that stand for colour values\",\n  component: Bitmapping,\n};\n","import React from \"react\";\n\nconst AsciiTable: React.FunctionComponent = () => {\n  return (\n    <table className=\"table table-sm table-striped\">\n      <thead>\n        <tr>\n          <th>Code</th>\n          <th>Character</th>\n          <th>Code</th>\n          <th>Character</th>\n        </tr>\n      </thead>\n\n      {Array(128)\n        .fill(null)\n        .map((_, i) => i)\n        .map((i) => (\n          <tr>\n            <td>0x{i.toString(16)}</td>\n            <td>{String.fromCharCode(i)}</td>\n            <td>0x{(2 * i).toString(16)}</td>\n            <td>{String.fromCharCode(2 * i)}</td>\n          </tr>\n        ))}\n    </table>\n  );\n};\n\nexport default AsciiTable;\n","import AsciiText from \"./AsciiText\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/dataRepresentation/asciiText\",\n  title: \"ASCII Text\",\n  description:\n    \"Characters are each allocated a numerical code, text can be represented\",\n  component: AsciiText,\n};\n","import React from \"react\";\n\nimport \"./asciiText.css\";\nimport AsciiTable from \"./AsciiTable\";\n\nconst CYBERCHEF_LINK =\n  \"https://gchq.github.io/CyberChef/#recipe=To_Hexdump(16,false,false)&input=VGhlIHF1aWNrIGJyb3duIGZveCBqdW1wZWQgb3ZlciB0aGUgbGF6eSBkb2c\";\n\nconst AsciiDemo: React.FunctionComponent = () => {\n  const [text, setText] = React.useState<string>(\n    \"The quick brown fox jumped over the lazy dog\"\n  );\n\n  const onTextChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setText(value),\n    [setText]\n  );\n\n  const asAscii: string = React.useMemo(\n    () =>\n      text\n        .split(\"\")\n        .map((t) => t.charCodeAt(0))\n        .map((d) => d.toString(16))\n        .join(\"\"),\n    [text]\n  );\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Text</label>\n          <input\n            className=\"form-control\"\n            value={text}\n            onChange={onTextChange}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Raw Hex</label>\n          <div className=\"form-control hexDump\">{asAscii}</div>\n        </div>\n      </form>\n\n      <p>\n        Whilst this is a cute little demo, there is a far superior tool for\n        observing this form of representation{\" \"}\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={CYBERCHEF_LINK}>\n          here\n        </a>\n      </p>\n\n      <h2>ASCII Character Table</h2>\n      <AsciiTable />\n    </div>\n  );\n};\n\nexport default AsciiDemo;\n","export const choose = <T>(arr: T[], exclude: T[] = []): T => {\n  const chooseFrom: T[] = arr.filter((a) => !exclude.includes(a));\n  return chooseFrom[Math.floor(Math.random() * chooseFrom.length)];\n};\n\nexport const generateRandomInteger = (from: number, to: number) =>\n  from + Math.floor((to - from) * Math.random())\n","import React from 'react';\r\n\r\ninterface StreakCounter {\r\n    streak: number,\r\n    onHit: () => void,\r\n    onMiss: () => void\r\n}\r\n\r\n\r\ntype StreakAction = 'Y' | 'N';\r\n\r\nconst streakReducer = (state: number, action: StreakAction) => action === 'Y' ? state + 1 : 0;\r\n\r\nconst useStreakCounter = (): StreakCounter => {\r\n\r\n    const [streak, dispatch] = React.useReducer(streakReducer, 0);\r\n\r\n    return {\r\n        streak,\r\n        onHit: React.useCallback(() => dispatch('Y'), []),\r\n        onMiss: React.useCallback(() => dispatch('N'), []),\r\n    }\r\n}\r\n\r\nexport default useStreakCounter;","import React from 'react';\r\n\r\ninterface Props {\r\n    value: number,\r\n    min?: number,\r\n    max: number\r\n}\r\n\r\nconst ProgressBar: React.FunctionComponent<Props> = ({ value, min = 0, max }) => {\r\n    return (<div className=\"progress\">\r\n        <div className=\"progress-bar\"\r\n            role=\"progressbar\"\r\n            style={{ width: `${100 * (value - min) / (max - min)}%` }}\r\n            aria-valuenow={value}\r\n            aria-valuemin={min}\r\n            aria-valuemax={max}>{value}</div>\r\n    </div>)\r\n}\r\n\r\nexport default ProgressBar;","import React from \"react\";\r\nimport {\r\n  denaryInteger as denaryRaw,\r\n  binaryInteger as binaryRaw,\r\n  hexadecimalInteger as hexadecimalRaw,\r\n} from \"@comp-sci-maths/lib/dist\";\r\n\r\nconst denary = denaryRaw.withWidth(1);\r\nconst binary = binaryRaw.withWidth(4);\r\nconst hexadecimal = hexadecimalRaw.withWidth(1);\r\n\r\nconst numberBases = [denary, binary, hexadecimal];\r\n\r\nexport interface UseConversionTable {\r\n  headings: string[];\r\n  values: {\r\n    denaryValue: string;\r\n    binaryValue: string;\r\n    hexadecimalValue: string;\r\n  }[];\r\n}\r\n\r\nconst useConversionTable = (): UseConversionTable =>\r\n  React.useMemo(() => {\r\n    const values = [];\r\n\r\n    for (let value = 0; value < 16; value++) {\r\n      let denaryValue = denary.toString(value);\r\n      let binaryValue = binary.toString(value);\r\n      let hexadecimalValue = hexadecimal.toString(value);\r\n      values.push({ denaryValue, binaryValue, hexadecimalValue });\r\n    }\r\n\r\n    return {\r\n      headings: numberBases.map((n) => n.name),\r\n      values,\r\n    };\r\n  }, []);\r\nexport default useConversionTable;","import React from \"react\";\r\n\r\nimport useConversionTable from \"./useConversionTable\";\r\nimport { INumberBase } from \"@comp-sci-maths/lib/dist/dataRepresentation/numberBases/types\";\r\n\r\ninterface Props {\r\n  from: INumberBase;\r\n  to: INumberBase;\r\n}\r\n\r\nconst NumberBaseConversionTable: React.FunctionComponent<Props> = ({\r\n  from,\r\n  to,\r\n}) => {\r\n  const { headings, values } = useConversionTable();\r\n\r\n  return (\r\n    <table className=\"table table-striped\">\r\n      <thead>\r\n        <tr>\r\n          {headings.map((h) => (\r\n            <th key={h}>{h}</th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {values.map(({ denaryValue, binaryValue, hexadecimalValue }) => (\r\n          <tr key={denaryValue}>\r\n            <td>{denaryValue}</td>\r\n            <td>{binaryValue}</td>\r\n            <td>{hexadecimalValue}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default NumberBaseConversionTable;\r\n","import React from \"react\";\r\nimport cogoToast from \"cogo-toast\";\r\n\r\nimport { generateRandomInteger, choose } from \"../../../lib/utilities\";\r\nimport {\r\n  binaryInteger,\r\n  hexadecimalInteger,\r\n  denaryInteger as denaryRaw,\r\n} from \"@comp-sci-maths/lib/dist\";\r\nimport useStreakCounter from \"../../../lib/useStreakCounter\";\r\nimport ProgressBar from \"../../../Bootstrap/ProgressBar\";\r\nimport NumberBaseConversionTable from \"./NumberBaseConversionTable\";\r\nimport { INumberBase } from \"@comp-sci-maths/lib/dist/dataRepresentation/numberBases/types\";\r\n\r\n// Correction to default value\r\nconst denary = denaryRaw.withWidth(1);\r\n\r\nconst MAX_VALUE = 255;\r\nconst TARGET_STREAK = 10;\r\n\r\ninterface Question {\r\n  to: INumberBase;\r\n  from: INumberBase;\r\n  value: number;\r\n}\r\n\r\nconst generateQuestion = (): Question => {\r\n  let value = generateRandomInteger(0, MAX_VALUE);\r\n  const from: INumberBase = choose([binaryInteger, denary, hexadecimalInteger]);\r\n  const to: INumberBase = choose(\r\n    [binaryInteger, denary, hexadecimalInteger].filter((x) => x !== from)\r\n  );\r\n  return {\r\n    value,\r\n    from,\r\n    to,\r\n  };\r\n};\r\n\r\nconst NumberBases: React.FunctionComponent = () => {\r\n  const [{ from, to, value }, regenerateQuestion] = React.useReducer(\r\n    generateQuestion,\r\n    generateQuestion()\r\n  );\r\n  const { streak, onHit, onMiss } = useStreakCounter();\r\n\r\n  const [answer, setAnswer] = React.useState<string>(\"\");\r\n  const onAnswerChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\r\n    ({ target: { value } }) => setAnswer(value),\r\n    [setAnswer]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (streak === TARGET_STREAK) {\r\n      cogoToast.info(\r\n        `Well done on converting ${TARGET_STREAK} in a row. You have earnt some window staring time!`\r\n      );\r\n    }\r\n  }, [streak]);\r\n\r\n  const onSubmit: React.MouseEventHandler = React.useCallback(\r\n    (e) => {\r\n      const expected = to.toString(value);\r\n      if (expected.toLowerCase() === answer.toLowerCase()) {\r\n        cogoToast.info(\"Correct!\");\r\n        onHit();\r\n      } else {\r\n        cogoToast.error(\r\n          `Incorrect ${from.toString(value)} in ${to.name\r\n          } is actually ${expected}`\r\n        );\r\n        onMiss();\r\n      }\r\n      regenerateQuestion();\r\n      e.preventDefault();\r\n    },\r\n    [regenerateQuestion, onHit, onMiss, value, to, from, answer]\r\n  );\r\n\r\n  return (\r\n    <div className=\"row align-items-start\">\r\n      <div className=\"col\">\r\n        <h4>\r\n          Convert {from.toString(value)}\r\n          <sub>{from.base}</sub> into {to.name}\r\n        </h4>\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label>Your Answer</label>\r\n            <input\r\n              className=\"form-control\"\r\n              value={answer}\r\n              onChange={onAnswerChange}\r\n            />\r\n          </div>\r\n          <button onClick={onSubmit}>Submit</button>\r\n        </form>\r\n\r\n        <div>Try and get to a streak of {TARGET_STREAK} correct answers</div>\r\n        <ProgressBar value={streak} max={TARGET_STREAK} />\r\n      </div>\r\n      <div className=\"col\">\r\n        <h4>Table of Helpful Lookups</h4>\r\n        <NumberBaseConversionTable from={from} to={to} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NumberBases;\r\n","import { Page } from '../../../../types';\r\nimport NumberBases from './NumberBases';\r\n\r\nexport const page: Page = {\r\n    href: \"/computerScience/dataRepresentation/numberBases\",\r\n    title: \"Number Bases\",\r\n    description:\r\n        \"Convert Numbers between Various Bases\",\r\n    component: NumberBases,\r\n};\r\n","import { booleanToBinArray, numberToBinary } from \"../../dataRepresentation/numberBases/simpleBinary\";\nimport { ComputeComputation, ComputeDestination, ComputeJump, CpuInstructionType } from \"./types\";\nconst assemble = (input) => {\n    switch (input.type) {\n        case CpuInstructionType.directAddress:\n            return `0${booleanToBinArray(numberToBinary(input.address, 15))}`;\n        case CpuInstructionType.compute:\n            let a = '0';\n            let comp = '0000000';\n            let dest = '000';\n            let jump = '000';\n            switch (input.computation) {\n                case ComputeComputation.ZERO:\n                    a = '0';\n                    comp = '101010';\n                    break;\n                case ComputeComputation.ONE:\n                    a = '0';\n                    comp = '111111';\n                    break;\n                case ComputeComputation.NEGATIVE_ONE:\n                    a = '0';\n                    comp = '111010';\n                    break;\n                case ComputeComputation.D:\n                    a = '0';\n                    comp = '001100';\n                    break;\n                case ComputeComputation.A:\n                    a = '0';\n                    comp = '110000';\n                    break;\n                case ComputeComputation.NOT_D:\n                    a = '0';\n                    comp = '001101';\n                    break;\n                case ComputeComputation.NOT_A:\n                    a = '0';\n                    comp = '110001';\n                    break;\n                case ComputeComputation.NEGATIVE_D:\n                    a = '0';\n                    comp = '001111';\n                    break;\n                case ComputeComputation.NEGATIVE_A:\n                    a = '0';\n                    comp = '110011';\n                    break;\n                case ComputeComputation.D_PLUS_ONE:\n                    a = '0';\n                    comp = '011111';\n                    break;\n                case ComputeComputation.A_PLUS_ONE:\n                    a = '0';\n                    comp = '110111';\n                    break;\n                case ComputeComputation.D_MINUS_ONE:\n                    a = '0';\n                    comp = '001110';\n                    break;\n                case ComputeComputation.A_MINUS_ONE:\n                    a = '0';\n                    comp = '110010';\n                    break;\n                case ComputeComputation.D_PLUS_A:\n                    a = '0';\n                    comp = '000010';\n                    break;\n                case ComputeComputation.D_MINUS_A:\n                    a = '0';\n                    comp = '010011';\n                    break;\n                case ComputeComputation.A_MINUS_D:\n                    a = '0';\n                    comp = '000111';\n                    break;\n                case ComputeComputation.D_AND_A:\n                    a = '0';\n                    comp = '000000';\n                    break;\n                case ComputeComputation.D_OR_A:\n                    a = '0';\n                    comp = '010101';\n                    break;\n                case ComputeComputation.M:\n                    a = '1';\n                    comp = '110000';\n                    break;\n                case ComputeComputation.NOT_M:\n                    a = '1';\n                    comp = '110001';\n                    break;\n                case ComputeComputation.M_PLUS_ONE:\n                    a = '1';\n                    comp = '110111';\n                    break;\n                case ComputeComputation.M_MINUS_ONE:\n                    a = '1';\n                    comp = '110010';\n                    break;\n                case ComputeComputation.D_PLUS_M:\n                    a = '1';\n                    comp = '000010';\n                    break;\n                case ComputeComputation.D_MINUS_M:\n                    a = '1';\n                    comp = '010011';\n                    break;\n                case ComputeComputation.M_MINUS_D:\n                    a = '1';\n                    comp = '000111';\n                    break;\n                case ComputeComputation.D_AND_M:\n                    a = '1';\n                    comp = '000000';\n                    break;\n                case ComputeComputation.D_OR_M:\n                    a = '1';\n                    comp = '010101';\n                    break;\n            }\n            switch (input.destination) {\n                case ComputeDestination.M:\n                    dest = '001';\n                    break;\n                case ComputeDestination.D:\n                    dest = '010';\n                    break;\n                case ComputeDestination.MD:\n                    dest = '011';\n                    break;\n                case ComputeDestination.A:\n                    dest = '100';\n                    break;\n                case ComputeDestination.AM:\n                    dest = '101';\n                    break;\n                case ComputeDestination.AD:\n                    dest = '110';\n                    break;\n                case ComputeDestination.AMD:\n                    dest = '111';\n                    break;\n            }\n            switch (input.jump) {\n                case ComputeJump.JGT:\n                    jump = '001';\n                    break;\n                case ComputeJump.JEQ:\n                    jump = '010';\n                    break;\n                case ComputeJump.JGE:\n                    jump = '011';\n                    break;\n                case ComputeJump.JLT:\n                    jump = '100';\n                    break;\n                case ComputeJump.JNE:\n                    jump = '101';\n                    break;\n                case ComputeJump.JLE:\n                    jump = '110';\n                    break;\n                case ComputeJump.JMP:\n                    jump = '111';\n                    break;\n            }\n            return `111${a}${comp}${dest}${jump}`;\n        case CpuInstructionType.namedAddress:\n            throw new Error('Named Address commands need to be translated to direct before use');\n        case CpuInstructionType.label:\n            throw new Error('Label command need to be used to determine addresses then discarded');\n    }\n};\nexport default assemble;\n//# sourceMappingURL=assemble.js.map","import React from \"react\";\nimport { INumberBase } from \"@comp-sci-maths/lib/dist/dataRepresentation/numberBases/types\";\n\nimport ModalDialog from \"../../../Bootstrap/ModalDialog\";\nimport cogoToast from \"cogo-toast\";\nimport { Props as ButtonProps } from \"../../../Bootstrap/Buttons/Button\";\nimport ButtonBar from \"../../../Bootstrap/Buttons/ButtonBar\";\n\ninterface BaseProps {\n  numberBase: INumberBase;\n  maxAddress: number;\n}\n\ninterface Props extends BaseProps {\n  isOpen: boolean;\n  value: number;\n  onValueChange: React.ChangeEventHandler<HTMLInputElement>;\n  onConfirm: () => void;\n  onCancel: () => void;\n}\n\nconst StartAddressDialog: React.FunctionComponent<Props> = (props) => {\n  const { value, onValueChange, numberBase, onConfirm, onCancel } = props;\n\n  const buttons: ButtonProps[] = React.useMemo(\n    () => [\n      {\n        text: \"Go to\",\n        styleType: \"primary\",\n        onClick: onConfirm,\n      },\n      {\n        text: \"Cancel\",\n        styleType: \"danger\",\n        onClick: onCancel,\n      },\n    ],\n    [onConfirm, onCancel]\n  );\n\n  return (\n    <ModalDialog\n      {...props}\n      header={<h4>Select Address to Display</h4>}\n      content={\n        <form className=\"form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"txtStartAddress\">\n              Start Address ({numberBase.name})\n            </label>\n            <input\n              id=\"txtStartAddress\"\n              className=\"form-control\"\n              value={value}\n              onChange={onValueChange}\n            />\n          </div>\n        </form>\n      }\n      actions={<ButtonBar buttons={buttons} />}\n    />\n  );\n};\n\ninterface UseDialog {\n  startAddress: number;\n  showDialog: () => void;\n  componentProps: Props;\n}\n\nexport const useDialog = (baseProps: BaseProps): UseDialog => {\n  const { maxAddress, numberBase } = baseProps;\n  const [startAddress, setStartAddress] = React.useState<number>(0);\n\n  const [isOpen, setIsOpen] = React.useState<boolean>(false);\n\n  const [value, setValue] = React.useState<number>(startAddress);\n  const onValueChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setValue(numberBase.fromString(value)),\n    [numberBase, setValue]\n  );\n\n  const onCancel = React.useCallback(() => setIsOpen(false), [setIsOpen]);\n  const showDialog = React.useCallback(() => setIsOpen(true), [setIsOpen]);\n  const _onConfirm = React.useCallback(() => {\n    if (value < 0) {\n      cogoToast.error(\"Invalid Start Address (less than zero\");\n      return;\n    }\n    if (value > maxAddress) {\n      cogoToast.error(\n        `Invalid Start Address (higher than allowed max of ${maxAddress})`\n      );\n      return;\n    }\n    setStartAddress(value);\n    onCancel();\n  }, [value, maxAddress, setStartAddress, onCancel]);\n\n  React.useEffect(() => setValue(startAddress), [startAddress, setValue]);\n\n  return {\n    startAddress,\n    showDialog,\n    componentProps: {\n      ...baseProps,\n      isOpen,\n      value,\n      onValueChange,\n      onConfirm: _onConfirm,\n      onCancel,\n    },\n  };\n};\n\nexport default StartAddressDialog;\n","import React from \"react\";\n\nimport { ProgramsById } from \"./types\";\nimport { Optional } from \"@comp-sci-maths/lib/dist/types\";\n\ninterface UseSavedPrograms {\n  names: string[];\n  programs: ProgramsById;\n  createNew(name: string, content?: string): Optional<string>;\n  deleteProgram(name: string): void;\n  saveProgram(name: string, program: string): void;\n  reset: () => void;\n}\n\nexport default React.createContext<UseSavedPrograms>({\n  names: [],\n  programs: {},\n  createNew: () => {\n    throw new Error(\"invalid context\");\n  },\n  deleteProgram: () => {\n    throw new Error(\"invalid context\");\n  },\n  saveProgram: () => {\n    throw new Error(\"invalid context\");\n  },\n  reset: () => {\n    throw new Error(\"invalid context\");\n  },\n});\n","import max from \"./Max\";\nimport add from \"./Add\";\nimport rect from \"./Rect\";\nimport multAsm from \"./mult/Mult.asm\";\nimport multCmp from \"./mult/Mult.cmp\";\nimport multTst from \"./mult/Mult.tst\";\n\nexport const programs = {\n  \"Max.asm\": max,\n  \"Add.asm\": add,\n  \"Rect.asm\": rect,\n  \"Mult.asm\": multAsm,\n  \"Mult.cmp\": multCmp,\n  \"Mult.tst\": multTst,\n};\n","const f = `// This file is part of www.nand2tetris.org\r\n// and the book \"The Elements of Computing Systems\"\r\n// by Nisan and Schocken, MIT Press.\r\n// File name: projects/06/max/Max.asm\r\n\r\n// Computes R2 = max(R0, R1)  (R0,R1,R2 refer to RAM[0],RAM[1],RAM[2])\r\n\r\n   @R0\r\n   D=M              // D = first number\r\n   @R1\r\n   D=D-M            // D = first number - second number\r\n   @OUTPUT_FIRST\r\n   D;JGT            // if D>0 (first is greater) goto output_first\r\n   @R1\r\n   D=M              // D = second number\r\n   @OUTPUT_D\r\n   0;JMP            // goto output_d\r\n(OUTPUT_FIRST)\r\n   @R0             \r\n   D=M              // D = first number\r\n(OUTPUT_D)\r\n   @R2\r\n   M=D              // M[2] = D (greatest number)\r\n(INFINITE_LOOP)\r\n   @INFINITE_LOOP\r\n   0;JMP            // infinite loop\r\n`\r\nexport default f;","const f =`// This file is part of www.nand2tetris.org\r\n// and the book \"The Elements of Computing Systems\"\r\n// by Nisan and Schocken, MIT Press.\r\n// File name: projects/06/add/Add.asm\r\n\r\n// Computes R0 = 2 + 3  (R0 refers to RAM[0])\r\n\r\n@2\r\nD=A\r\n@3\r\nD=D+A\r\n@0\r\nM=D`\r\nexport default f;\r\n","const f = `\r\n// This file is part of www.nand2tetris.org\r\n// and the book \"The Elements of Computing Systems\"\r\n// by Nisan and Schocken, MIT Press.\r\n// File name: projects/06/rect/Rect.asm\r\n\r\n// Draws a rectangle at the top-left corner of the screen.\r\n// The rectangle is 16 pixels wide and R0 pixels high.\r\n\r\n   @0\r\n   D=M\r\n   @INFINITE_LOOP\r\n   D;JLE \r\n   @counter\r\n   M=D\r\n   @SCREEN\r\n   D=A\r\n   @address\r\n   M=D\r\n(LOOP)\r\n   @address\r\n   A=M\r\n   M=-1\r\n   @address\r\n   D=M\r\n   @32\r\n   D=D+A\r\n   @address\r\n   M=D\r\n   @counter\r\n   MD=M-1\r\n   @LOOP\r\n   D;JGT\r\n(INFINITE_LOOP)\r\n   @INFINITE_LOOP\r\n   0;JMP\r\n`\r\nexport default f;","const f =`// This file is part of www.nand2tetris.org\r\n// and the book \"The Elements of Computing Systems\"\r\n// by Nisan and Schocken, MIT Press.\r\n// File name: projects/04/Mult.asm\r\n\r\n// Multiplies R0 and R1 and stores the result in R2.\r\n// (R0, R1, R2 refer to RAM[0], RAM[1], and RAM[2], respectively.)\r\n//\r\n// This program only needs to handle arguments that satisfy\r\n// R0 >= 0, R1 >= 0, and R0*R1 < 32768.\r\n\r\n// Put your code here.\r\n// numberOfTimes = R[0]\r\n// R[1] = base number\r\n@R2 // 2\r\nM=0 // Clear the current value\r\n\r\n@R0\r\nD=M+1\r\n@n // 17\r\nM=D\r\n\r\n(LOOP)\r\n@n\r\nM=M-1\r\nD=M\r\n@END\r\nD;JEQ // if n === 0, GOTO END\r\n\r\n@R2\r\nD=M\r\n@R1\r\nD=D+M\r\n@R2\r\nM=D\r\n\r\n@LOOP\r\n0;JEQ\r\n\r\n\r\n(END)\r\n@END\r\n0;JMP`;\r\n\r\nexport default f;","const f =`|  RAM[0]  |  RAM[1]  |  RAM[2]  |\r\n|       0  |       0  |       0  |\r\n|       1  |       0  |       0  |\r\n|       0  |       2  |       0  |\r\n|       3  |       1  |       3  |\r\n|       2  |       4  |       8  |\r\n|       6  |       7  |      42  |`;\r\nexport default f;","const f = `// This file is part of www.nand2tetris.org\r\n// and the book \"The Elements of Computing Systems\"\r\n// by Nisan and Schocken, MIT Press.\r\n// File name: projects/04/mult/Mult.tst\r\n\r\nload Mult.asm,\r\noutput-file Mult.out,\r\ncompare-to Mult.cmp,\r\noutput-list RAM[0]%D2.6.2 RAM[1]%D2.6.2 RAM[2]%D2.6.2;\r\n\r\nset RAM[0] 0,   // Set test arguments\r\nset RAM[1] 0,\r\nset RAM[2] -1;  // Test that program initialized product to 0\r\nrepeat 20 {\r\n  ticktock;\r\n}\r\nset RAM[0] 0,   // Restore arguments in case program used them as loop counter\r\nset RAM[1] 0,\r\noutput;\r\n\r\nset PC 0,\r\nset RAM[0] 1,   // Set test arguments\r\nset RAM[1] 0,\r\nset RAM[2] -1;  // Ensure that program initialized product to 0\r\nrepeat 50 {\r\n  ticktock;\r\n}\r\nset RAM[0] 1,   // Restore arguments in case program used them as loop counter\r\nset RAM[1] 0,\r\noutput;\r\n\r\nset PC 0,\r\nset RAM[0] 0,   // Set test arguments\r\nset RAM[1] 2,\r\nset RAM[2] -1;  // Ensure that program initialized product to 0\r\nrepeat 80 {\r\n  ticktock;\r\n}\r\nset RAM[0] 0,   // Restore arguments in case program used them as loop counter\r\nset RAM[1] 2,\r\noutput;\r\n\r\nset PC 0,\r\nset RAM[0] 3,   // Set test arguments\r\nset RAM[1] 1,\r\nset RAM[2] -1;  // Ensure that program initialized product to 0\r\nrepeat 120 {\r\n  ticktock;\r\n}\r\nset RAM[0] 3,   // Restore arguments in case program used them as loop counter\r\nset RAM[1] 1,\r\noutput;\r\n\r\nset PC 0,\r\nset RAM[0] 2,   // Set test arguments\r\nset RAM[1] 4,\r\nset RAM[2] -1;  // Ensure that program initialized product to 0\r\nrepeat 150 {\r\n  ticktock;\r\n}\r\nset RAM[0] 2,   // Restore arguments in case program used them as loop counter\r\nset RAM[1] 4,\r\noutput;\r\n\r\nset PC 0,\r\nset RAM[0] 6,   // Set test arguments\r\nset RAM[1] 7,\r\nset RAM[2] -1;  // Ensure that program initialized product to 0\r\nrepeat 210 {\r\n  ticktock;\r\n}\r\nset RAM[0] 6,   // Restore arguments in case program used them as loop counter\r\nset RAM[1] 7,\r\noutput;\r\n`;\r\n\r\nexport default f;","import React from \"react\";\nimport cogoToast from \"cogo-toast\";\n\nimport useLocalStorage, {\n  useStoreObjectFactory,\n} from \"../../lib/useLocalStorage\";\n\nimport { programs as defaultPrograms } from \"./cannedPrograms\";\nimport SavedProgramsContext from \"./SavedProgramsContext\";\nimport { ProgramsById } from \"./types\";\nimport { Optional } from \"@comp-sci-maths/lib/dist/types\";\n\nconst SavedProgramsContextProvider: React.FunctionComponent = ({\n  children,\n}) => {\n  const {\n    value: programs,\n    reduceValue: reducePrograms,\n    setValue: setPrograms,\n  } = useLocalStorage<ProgramsById>(\n    \"saved-programs\",\n    defaultPrograms,\n    useStoreObjectFactory()\n  );\n\n  const names: string[] = React.useMemo(() => Object.keys(programs), [\n    programs,\n  ]);\n\n  const createNew = React.useCallback(\n    (name: string, content: string = \"// New Program\"): Optional<string> => {\n      if (name.length < 3) {\n        cogoToast.error(\"Could not save graph with short name (length < 3)\");\n        return;\n      }\n\n      if (names.includes(name)) {\n        cogoToast.error(\"This name already exists\");\n        return;\n      }\n\n      reducePrograms((existing: ProgramsById) => ({\n        ...existing,\n        [name]: content,\n      }));\n      cogoToast.info(`New Program Created ${name}`);\n      return content;\n    },\n    [reducePrograms, names]\n  );\n\n  const saveProgram = React.useCallback(\n    (name: string, program: string) => {\n      reducePrograms((existing: ProgramsById) => ({\n        ...existing,\n        [name]: program,\n      }));\n      cogoToast.info(`Program Saved ${name}`);\n    },\n    [reducePrograms]\n  );\n\n  const deleteProgram = React.useCallback(\n    (name: string) => {\n      reducePrograms((existing: ProgramsById) => {\n        const updated = { ...existing };\n        delete updated[name];\n        return updated;\n      });\n      cogoToast.info(`Program Deleted ${name}`);\n    },\n    [reducePrograms]\n  );\n\n  const reset = React.useCallback(() => {\n    setPrograms(defaultPrograms);\n  }, [setPrograms]);\n\n  return (\n    <SavedProgramsContext.Provider\n      value={{\n        names,\n        programs,\n        createNew,\n        deleteProgram,\n        saveProgram,\n        reset,\n      }}\n    >\n      {children}\n    </SavedProgramsContext.Provider>\n  );\n};\n\nexport default SavedProgramsContextProvider;\n","import useSavedPrograms from \"./useSavedPrograms\";\nimport SavedProgramsContextProvider from \"./SavedProgramsContextProvider\";\n\nexport default useSavedPrograms;\nexport { SavedProgramsContextProvider };\n","import React from \"react\";\nimport SavedProgramsContext from \"./SavedProgramsContext\";\n\nconst useSavedPrograms = () => {\n  return React.useContext(SavedProgramsContext);\n};\n\nexport default useSavedPrograms\n","import React from \"react\";\nimport ModalDialog from \"../../../Bootstrap/ModalDialog\";\nimport { Props as ButtonProps } from \"../../../Bootstrap/Buttons/Button\";\nimport ButtonBar from \"../../../Bootstrap/Buttons/ButtonBar\";\nimport useSavedPrograms from \"../../../lib/useSavedPrograms\";\n\ninterface Props {\n  selectedProgram: string;\n  onSelectChange: React.ChangeEventHandler<HTMLSelectElement>;\n  isOpen: boolean;\n  onConfirm: () => void;\n  onCancel: () => void;\n}\n\nconst ProgramPickerDialog: React.FunctionComponent<Props> = (props) => {\n  const { selectedProgram, onSelectChange, onConfirm, onCancel } = props;\n\n  const { names } = useSavedPrograms();\n\n  const buttons: ButtonProps[] = React.useMemo(\n    () => [\n      {\n        text: \"Load\",\n        styleType: \"primary\",\n        onClick: onConfirm,\n      },\n      {\n        text: \"Cancel\",\n        styleType: \"danger\",\n        onClick: onCancel,\n      },\n    ],\n    [onConfirm, onCancel]\n  );\n\n  return (\n    <ModalDialog\n      {...props}\n      header={<h4>Select Address to Display</h4>}\n      content={\n        <div className=\"form-group\">\n          <label>Program</label>\n          <select\n            className=\"form-control\"\n            value={selectedProgram}\n            onChange={onSelectChange}\n          >\n            {names.map((name) => (\n              <option key={name} value={name}>\n                {name}\n              </option>\n            ))}\n          </select>\n        </div>\n      }\n      actions={<ButtonBar buttons={buttons} />}\n    />\n  );\n};\n\ninterface UseDialog {\n  showDialog: () => void;\n  componentProps: Props;\n}\n\nexport const useDialog = (\n  onConfirm: (programName: string, program: string) => void\n): UseDialog => {\n  const [isOpen, setIsOpen] = React.useState<boolean>(false);\n\n  const { names, programs } = useSavedPrograms();\n\n  const [selectedProgram, setProgramName] = React.useState<string>(names[0]);\n\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => {\n      setProgramName(value);\n    },\n    [setProgramName]\n  );\n\n  const onCancel = React.useCallback(() => setIsOpen(false), [setIsOpen]);\n  const showDialog = React.useCallback(() => setIsOpen(true), [setIsOpen]);\n  const _onConfirm = React.useCallback(() => {\n    onConfirm(selectedProgram, programs[selectedProgram]);\n    onCancel();\n  }, [selectedProgram, programs, onConfirm, onCancel]);\n\n  return {\n    showDialog,\n    componentProps: {\n      isOpen,\n      onSelectChange,\n      selectedProgram,\n      onConfirm: _onConfirm,\n      onCancel,\n    },\n  };\n};\n\nexport default ProgramPickerDialog;\n","import assemble from \"@comp-sci-maths/lib/dist/computation/assemblyLanguage/assemble\";\nimport React from \"react\";\nimport { HackCpu } from \"@comp-sci-maths/lib/dist\";\nimport { INumberBase } from \"@comp-sci-maths/lib/dist/dataRepresentation/numberBases/types\";\nimport { LoadProgram, MAX_TABLE_ROWS } from \"./types\";\nimport StartAddressDialog, {\n  useDialog as useStartAddressDialog,\n} from \"./StartAddressDialog\";\nimport { Props as ButtonProps } from \"../../../Bootstrap/Buttons/Button\";\nimport ButtonBar from \"../../../Bootstrap/Buttons/ButtonBar\";\nimport ProgramPickerDialog, {\n  useDialog as useProgramPicker,\n} from \"../ProgramManager/ProgramPickerDialog\";\n\ninterface Props {\n  cpu: HackCpu;\n  loadProgram: LoadProgram;\n  numberBase: INumberBase;\n}\n\nconst ProgramMemoryTable: React.FunctionComponent<Props> = ({\n  cpu: { programCounter, program },\n  loadProgram,\n  numberBase,\n}) => {\n  const {\n    startAddress,\n    showDialog: showStartAddressDialog,\n    componentProps: startAddressProps,\n  } = useStartAddressDialog({\n    numberBase,\n    maxAddress: program.length,\n  });\n\n  const {\n    showDialog: showProgramPicker,\n    componentProps: programPickerProps,\n  } = useProgramPicker(loadProgram);\n\n  const buttons: ButtonProps[] = React.useMemo(\n    () => [\n      {\n        text: \"Search\",\n        styleType: \"primary\",\n        onClick: showStartAddressDialog,\n      },\n      {\n        text: \"Load\",\n        styleType: \"primary\",\n        onClick: showProgramPicker,\n      },\n    ],\n    [showStartAddressDialog, showProgramPicker]\n  );\n\n  return (\n    <div>\n      <ProgramPickerDialog {...programPickerProps} />\n      <h4>\n        ROM\n        <ButtonBar className=\"title-button\" buttons={buttons} />\n      </h4>\n      <div className=\"form-group\">\n        <label>PC</label>\n        <input\n          className=\"form-control\"\n          readOnly\n          value={numberBase.toString(programCounter)}\n        />\n      </div>\n      <table className=\"cpu-table code-text\">\n        <thead>\n          <tr>\n            <th>Line</th>\n            <th>Code</th>\n          </tr>\n        </thead>\n        <tbody>\n          {program\n            .filter(\n              (p, i) => i >= startAddress && i < startAddress + MAX_TABLE_ROWS\n            )\n            .map((p, i) => (\n              <tr\n                key={i}\n                className={\n                  startAddress + i === programCounter ? \"highlighted\" : \"\"\n                }\n              >\n                <td>{numberBase.toString(i)}</td>\n                <td>{assemble(p)}</td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n      <StartAddressDialog {...startAddressProps} />\n    </div>\n  );\n};\n\nexport default ProgramMemoryTable;\n","export const MAX_TABLE_ROWS = 32;\n\nexport type LoadProgram = (programName: string, program: string) => void;\nexport type SetRamValues = (address: number, values: number[]) => void;\n","import React from \"react\";\nimport ModalDialog from \"../../../Bootstrap/ModalDialog\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"../../../Bootstrap/Buttons/ButtonBar\";\n\ninterface NewProps {\n  onConfirm: (address: number, values: number[]) => void;\n}\n\ninterface Props extends ReactModal.Props {\n  startAddress: number;\n  onStartAddressChange: React.ChangeEventHandler<HTMLInputElement>;\n  memoryValue: string;\n  onMemoryValueChange: React.ChangeEventHandler<HTMLInputElement>;\n  onConfirm: () => void;\n  onCloseDialog: () => void;\n}\n\nconst SetRamValueModal: React.FunctionComponent<Props> = ({\n  startAddress,\n  onStartAddressChange,\n  memoryValue,\n  onMemoryValueChange,\n  onCloseDialog,\n  onConfirm,\n  ...rest\n}) => {\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Cancel\",\n          styleType: \"primary\",\n          onClick: onCloseDialog,\n        },\n        {\n          text: \"Confirm\",\n          styleType: \"danger\",\n          onClick: () => {\n            onConfirm();\n            onCloseDialog();\n          },\n        },\n      ],\n    }),\n    [onConfirm, onCloseDialog]\n  );\n\n  return (\n    <ModalDialog\n      {...rest}\n      header={<h3>Set a value in RAM</h3>}\n      content={\n        <form>\n          <div className=\"form-group\">\n            <label>Start Address</label>\n            <input\n              className=\"form-control\"\n              value={startAddress}\n              onChange={onStartAddressChange}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Memory Value(s) CSV</label>\n            <input\n              className=\"form-control\"\n              value={memoryValue}\n              onChange={onMemoryValueChange}\n            />\n          </div>\n        </form>\n      }\n      actions={<ButtonBar {...buttonBarProps} />}\n    />\n  );\n};\n\ninterface UseSetRamValueModal {\n  componentProps: Props;\n  showDialog: () => void;\n}\n\nconst useSetRamValueModal = ({ onConfirm }: NewProps): UseSetRamValueModal => {\n  const [isOpen, setIsOpen] = React.useState<boolean>(false);\n  const [startAddress, setStartAddress] = React.useState<number>(0);\n  const [memoryValue, setMemoryValue] = React.useState<string>(\"0\");\n\n  const onStartAddressChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setStartAddress(parseInt(value, 10)),\n    [setStartAddress]\n  );\n  const onMemoryValueChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setMemoryValue(value),\n    [setMemoryValue]\n  );\n\n  const _onConfirm = React.useCallback(() => {\n    const memoryValues = memoryValue.split(\",\").map((s) => parseInt(s, 10));\n    console.log(\"FOO \", memoryValues);\n    onConfirm(startAddress, memoryValues);\n  }, [onConfirm, startAddress, memoryValue]);\n\n  const _onCloseDialog = React.useCallback(() => {\n    setIsOpen(false);\n  }, [setIsOpen]);\n\n  const _showDialog = React.useCallback(() => {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  return {\n    componentProps: {\n      isOpen,\n      startAddress,\n      onStartAddressChange,\n      memoryValue,\n      onMemoryValueChange,\n      onConfirm: _onConfirm,\n      onCloseDialog: _onCloseDialog,\n    },\n    showDialog: _showDialog,\n  };\n};\n\nexport default SetRamValueModal;\n\nexport { useSetRamValueModal };\n","import React from \"react\";\n\nimport { HackCpu } from \"@comp-sci-maths/lib/dist\";\nimport { INumberBase } from \"@comp-sci-maths/lib/dist/dataRepresentation/numberBases/types\";\nimport { Props as ButtonProps } from \"../../../Bootstrap/Buttons/Button\";\nimport SetRamValueModal, { useSetRamValueModal } from \"./SetRamValueModal\";\nimport StartAddressDialog, {\n  useDialog as useStartAddressDialog,\n} from \"./StartAddressDialog\";\nimport { MAX_TABLE_ROWS, SetRamValues } from \"./types\";\nimport ButtonBar from \"../../../Bootstrap/Buttons/ButtonBar\";\n\ninterface Props {\n  cpu: HackCpu;\n  numberBase: INumberBase;\n  setRamValue: SetRamValues;\n}\n\nconst RAMTable: React.FunctionComponent<Props> = ({\n  cpu: { addressRegister, memory },\n  numberBase,\n  setRamValue,\n}) => {\n  const {\n    componentProps: setRamValueProps,\n    showDialog: showSetRamValueDialog,\n  } = useSetRamValueModal({\n    onConfirm: React.useCallback(\n      (address: number, values: number[]) => {\n        setRamValue(address, values);\n      },\n      [setRamValue]\n    ),\n  });\n\n  const {\n    startAddress,\n    showDialog: showStartAddressDialog,\n    componentProps: startAddressProps,\n  } = useStartAddressDialog({\n    numberBase,\n    maxAddress: memory.contents.length,\n  });\n\n  const buttons: ButtonProps[] = React.useMemo(\n    () => [\n      {\n        text: \"Search\",\n        onClick: showStartAddressDialog,\n        styleType: \"primary\",\n      },\n      {\n        text: \"Write\",\n        onClick: showSetRamValueDialog,\n        styleType: \"primary\",\n      },\n    ],\n    [showSetRamValueDialog, showStartAddressDialog]\n  );\n\n  return (\n    <div>\n      <h4>\n        RAM\n        <ButtonBar className=\"title-button\" buttons={buttons} />\n      </h4>\n\n      <div className=\"form-group\">\n        <label>A</label>\n        <input\n          className=\"form-control\"\n          readOnly\n          value={numberBase.toString(addressRegister)}\n        />\n      </div>\n      <table className=\"cpu-table code-text\">\n        <thead>\n          <tr>\n            <th>Address</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>\n          {memory.contents\n            .filter(\n              (p, i) => i >= startAddress && i < startAddress + MAX_TABLE_ROWS\n            )\n            .map((p, i) => (\n              <tr\n                key={i}\n                className={\n                  startAddress + i === addressRegister ? \"highlighted\" : \"\"\n                }\n              >\n                <td>{numberBase.toString(startAddress + i)}</td>\n                <td>{numberBase.base === 10 ? p : numberBase.toString(p)}</td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n      <SetRamValueModal {...setRamValueProps} />\n      <StartAddressDialog {...startAddressProps} />\n    </div>\n  );\n};\n\nexport default RAMTable;\n","import React from \"react\";\nimport cogoToast from \"cogo-toast\";\n\nimport { HackCpu } from \"@comp-sci-maths/lib/dist\";\nimport { INumberBase } from \"@comp-sci-maths/lib/dist/dataRepresentation/numberBases/types\";\nimport { LoadProgram } from \"./types\";\n\ninterface UseHackCpuSimulator {\n  version: number;\n  cpu: HackCpu;\n  reset: () => void;\n  tick: () => void;\n  setRamValue: (address: number, values: number[]) => void;\n  loadProgram: LoadProgram;\n}\n\nconst useHackCpuSimulator = (numberBase: INumberBase): UseHackCpuSimulator => {\n  const [version, incrementVersion] = React.useReducer((a) => a + 1, 0);\n  const cpuRef = React.useRef<HackCpu>(new HackCpu());\n\n  const reset = React.useCallback(() => {\n    try {\n      cpuRef.current.reset();\n      incrementVersion();\n      cogoToast.info(\"CPU Reset\");\n    } catch (e) {\n      cogoToast.error('Error Resetting CPU');\n    }\n  }, [cpuRef]);\n\n  const loadProgram = React.useCallback(\n    (programName: string, program: string) => {\n      try {\n        cpuRef.current.loadProgram(program.split('\\n'));\n        incrementVersion();\n        cogoToast.info(\"Program Loaded into CPU ROM\");\n      } catch (e) {\n        cogoToast.error('Error Loading Program');\n      }\n    },\n    [cpuRef]\n  );\n\n  const tick = React.useCallback(() => {\n    try {\n      cpuRef.current.tick();\n      incrementVersion();\n    } catch (e) {\n      cogoToast.error('Error Ticking CPU');\n    }\n  }, [cpuRef]);\n\n  const setRamValue = React.useCallback(\n    (address: number, values: number[]) => {\n      try {\n        cpuRef.current.getMemory().set(address, ...values);\n        incrementVersion();\n        cogoToast.info(\n          `Memory Contents from ${numberBase.toString(\n            address\n          )} set to ${values.map((s) => numberBase.toString(s)).join(\", \")}`\n        );\n      } catch (e) {\n        cogoToast.error('Error Setting Memory Contents');\n      }\n    },\n    [cpuRef, numberBase]\n  );\n\n  return {\n    version,\n    setRamValue,\n    cpu: cpuRef.current,\n    reset,\n    tick,\n    loadProgram,\n  };\n};\n\nexport default useHackCpuSimulator;\n","import React from \"react\";\n\nimport { ControlledInput } from \"../../../../types\";\nimport {\n  signed16bitBinary,\n  denaryInteger,\n  signed16bitHex,\n} from \"@comp-sci-maths/lib/dist\";\nimport { INumberBase } from \"@comp-sci-maths/lib/dist/dataRepresentation/numberBases/types\";\n\nconst NUMBER_BASES: INumberBase[] = [\n  denaryInteger,\n  signed16bitBinary,\n  signed16bitHex,\n];\n\ninterface Props extends ControlledInput<INumberBase> {\n  className?: string;\n}\n\nconst NumberBasePicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) => {\n      const found = NUMBER_BASES.find(({ name }) => name === value);\n      if (found !== undefined) {\n        onChange(found);\n      }\n    },\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(NUMBER_BASES[0]), [onChange]);\n\n  return (\n    <select\n      className={className}\n      onChange={onSelectChange}\n      value={value && value.name}\n    >\n      <option />\n      {NUMBER_BASES.map(({ name }) => (\n        <option key={name} value={name}>\n          {name}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  numberBase: INumberBase;\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<INumberBase>(NUMBER_BASES[0]);\n\n  return {\n    numberBase: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default NumberBasePicker;\n","import { HackCpu } from \"@comp-sci-maths/lib/dist\";\nimport { INumberBase } from \"@comp-sci-maths/lib/dist/dataRepresentation/numberBases/types\";\nimport React from \"react\";\n\ninterface Props {\n  cpu: HackCpu;\n  numberBase: INumberBase;\n}\n\nconst ALUDisplay: React.FunctionComponent<Props> = ({\n  cpu: {\n    addressRegister,\n    dataRegister,\n    alu: { aRegister, dRegister, mContents, lastComputation, lastResult },\n  },\n  numberBase,\n}) => {\n  return (\n    <div>\n      <h4>Internal Register</h4>\n      <div className=\"form-group\">\n        <label>D</label>\n        <input\n          readOnly\n          className=\"form-control\"\n          value={numberBase.toString(dataRegister)}\n        />\n      </div>\n      <h4>Last ALU Computation</h4>\n      <div className=\"form-group\">\n        <label>D</label>\n        <input\n          readOnly\n          className=\"form-control\"\n          value={numberBase.toString(dRegister)}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>A</label>\n        <input\n          readOnly\n          className=\"form-control\"\n          value={numberBase.toString(aRegister)}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>M</label>\n        <input\n          readOnly\n          className=\"form-control\"\n          value={numberBase.toString(mContents)}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Computation</label>\n        <input readOnly className=\"form-control\" value={lastComputation} />\n      </div>\n      <div className=\"form-group\">\n        <label>Result</label>\n        <input\n          readOnly\n          className=\"form-control\"\n          value={numberBase.toString(lastResult)}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ALUDisplay;\n","import React from \"react\";\n\nexport interface Tab {\n  title: string;\n  content: React.ReactElement;\n}\n\ninterface Props {\n  selectedTitle?: string;\n  setSelectedTitle: (t: string) => void;\n  tabs: Tab[];\n}\n\nconst Tabs: React.FunctionComponent<Props> = ({\n  tabs,\n  selectedTitle,\n  setSelectedTitle,\n}) => {\n  const tabsWithHandlers = React.useMemo(\n    () =>\n      tabs.map((tab) => ({\n        tab,\n        onSelect: () => setSelectedTitle(tab.title),\n      })),\n    [tabs, setSelectedTitle]\n  );\n\n  React.useEffect(() => {\n    const nonExistentTabSelected =\n      selectedTitle &&\n      !tabsWithHandlers.find(({ tab: { title } }) => title === selectedTitle);\n    const noTabSelected = !selectedTitle;\n    if (\n      tabsWithHandlers.length > 0 &&\n      (nonExistentTabSelected || noTabSelected)\n    ) {\n      setSelectedTitle(tabsWithHandlers[0].tab.title);\n    }\n  }, [selectedTitle, setSelectedTitle, tabsWithHandlers]);\n\n  return (\n    <React.Fragment>\n      <ul className=\"nav nav-tabs\">\n        {tabsWithHandlers.map(({ onSelect, tab: { title } }) => (\n          <li key={title} className=\"nav-item\">\n            <button\n              onClick={onSelect}\n              className={`nav-link ${title === selectedTitle ? \"active\" : \"\"}`}\n              aria-current=\"page\"\n            >\n              {title}\n            </button>\n          </li>\n        ))}\n      </ul>\n      {tabs\n        .map(({ title, content }) => (\n          <div style={{display: title === selectedTitle ? 'block' : 'none'}} key={title}>{content}</div>\n        ))}\n    </React.Fragment>\n  );\n};\n\nexport const useTabs = (tabs: Tab[]): Props => {\n  const [selectedTitle, setSelectedTitle] = React.useState<string>();\n\n  return {\n    selectedTitle,\n    setSelectedTitle,\n    tabs,\n  };\n};\n\nexport default Tabs;\n","import {\n  CpuTestInstruction,\n  CpuTestInstructionType,\n  CpuTestScript,\n  CpuTestTickTockInstruction,\n} from \"@comp-sci-maths/lib/dist/computation/TestScripts/types\";\nimport { Optional } from \"@comp-sci-maths/lib/dist/types\";\nimport React from \"react\";\n\ninterface Props {\n  lastInstruction: Optional<CpuTestInstruction>;\n  testScript: Optional<CpuTestScript>;\n}\n\nconst DEFAULT_TEST_INSTRUCTION: CpuTestTickTockInstruction = {\n  type: CpuTestInstructionType.ticktock,\n  lineContent: \"ticktock\",\n  lineNumber: 0,\n};\n\nconst DEFAULT_TEST_SCRIPT: CpuTestScript = {\n  compareTo: \"\",\n  testInstructions: [],\n  load: \"\",\n  outputFile: \"\",\n  loadAll: true\n};\n\nconst TestScriptTable: React.FunctionComponent<Props> = ({\n  lastInstruction = DEFAULT_TEST_INSTRUCTION,\n  testScript = DEFAULT_TEST_SCRIPT,\n}) => {\n  return (\n    <React.Fragment>\n      <div className=\"form-group\">\n        <label>Line Number</label>\n        <input\n          className=\"form-control\"\n          readOnly\n          value={lastInstruction.lineNumber}\n        />\n      </div>\n      <div className=\"form-group\">\n        <table className=\"cpu-table code-text\">\n          <thead>\n            <tr>\n              <th>Line</th>\n              <th>Instruction</th>\n            </tr>\n          </thead>\n          <tbody>\n            {((!!testScript && testScript.testInstructions) || []).map(\n              ({ lineContent, lineNumber }, i) => (\n                <tr\n                  key={i}\n                  className={\n                    lastInstruction.lineNumber === lineNumber\n                      ? \"highlighted\"\n                      : \"\"\n                  }\n                >\n                  <td>{lineNumber}</td>\n                  <td>{lineContent}</td>\n                </tr>\n              )\n            )}\n          </tbody>\n        </table>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default TestScriptTable;\n","import React from \"react\";\n\ninterface Props {\n  scriptOutput: string[];\n}\n\nconst TestScriptOutput: React.FunctionComponent<Props> = ({ scriptOutput }) => {\n  return (\n    <table className=\"cpu-table code-text\">\n      <thead>\n        <tr>\n          <th>Line Number</th>\n          <th>Content</th>\n        </tr>\n      </thead>\n      <tbody>\n        {scriptOutput.map((c, i) => (\n          <tr key={i}>\n            <td>{i}</td>\n            <td>{c}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default TestScriptOutput;\n","import { HackCpuTestRunner } from \"@comp-sci-maths/lib/dist\";\nimport React from \"react\";\nimport Button from \"../../../Bootstrap/Buttons/Button\";\nimport Tabs, { Tab, useTabs } from \"../../../Bootstrap/Tabs/Tabs\";\nimport ProgramPickerDialog, {\n  useDialog as useProgramPicker,\n} from \"../ProgramManager/ProgramPickerDialog\";\nimport TestScriptTable from \"./TestScriptTable\";\nimport TestScriptOutput from \"./TestScriptOutput\";\nimport { LoadProgram } from \"./types\";\n\ninterface Props {\n  cpuTestRunner: HackCpuTestRunner;\n  loadScript: LoadProgram;\n}\n\nconst TestScript: React.FunctionComponent<Props> = ({\n  cpuTestRunner,\n  loadScript,\n}) => {\n  const loadTestScript = React.useCallback(\n    (programName, program) => {\n      loadScript(programName, program);\n    },\n    [loadScript]\n  );\n\n  const {\n    showDialog: showProgramPicker,\n    componentProps: programPickerProps,\n  } = useProgramPicker(loadTestScript);\n\n  const { testScript, lastInstruction, testOutput, compareTo } = cpuTestRunner;\n\n  const tabs: Tab[] = React.useMemo(\n    () => [\n      {\n        title: \"Script\",\n        content: (\n          <TestScriptTable\n            lastInstruction={lastInstruction}\n            testScript={testScript}\n          />\n        ),\n      },\n      {\n        title: \"Compare\",\n        content: <TestScriptOutput scriptOutput={compareTo || []} />,\n      },\n      {\n        title: \"Output\",\n        content: <TestScriptOutput scriptOutput={testOutput || []} />,\n      },\n    ],\n    [compareTo, testOutput, lastInstruction, testScript]\n  );\n  const tabsProps = useTabs(tabs);\n\n  return (\n    <div>\n      <ProgramPickerDialog {...programPickerProps} />\n      <h4>\n        Test Script\n        <Button\n          className=\"title-button\"\n          text=\"Load\"\n          onClick={showProgramPicker}\n          styleType=\"primary\"\n        />\n      </h4>\n      <Tabs {...tabsProps} />\n    </div>\n  );\n};\n\nexport default TestScript;\n","import React from \"react\";\nimport cogoToast from \"cogo-toast\";\n\nimport { HackCpu, HackCpuTestRunner } from \"@comp-sci-maths/lib/dist\";\nimport useSavedPrograms from \"../../../lib/useSavedPrograms\";\nimport { LoadProgram } from \"./types\";\n\ninterface UseHackCpuTestRunner {\n  version: number;\n  cpuTestRunner: HackCpuTestRunner;\n  loadScript: LoadProgram;\n  tick: () => void;\n  reset: () => void;\n}\n\nconst useHackCpuTestRunner = (cpu: HackCpu): UseHackCpuTestRunner => {\n  const { programs } = useSavedPrograms();\n\n  const [version, incrementVersion] = React.useReducer((a) => a + 1, 0);\n  const cpuTestRunnerRef = React.useRef<HackCpuTestRunner>(\n    new HackCpuTestRunner(\"\", (d: string) => {\n      if (!(d in programs)) {\n        cogoToast.error(\n          `Could not find ${d} in saved programs, required by test script`\n        );\n        return [\"\"];\n      }\n      return programs[d].split('\\n');\n    })\n  );\n\n  const loadScript = React.useCallback(\n    (programName: string, program: string) => {\n      try {\n        cpuTestRunnerRef.current.loadScript(program.split('\\n'));\n        incrementVersion();\n        cogoToast.info(`Test Script Loaded ${programName}`);\n      } catch (e) {\n        cogoToast.error('Error Loading Test Script');\n      }\n    },\n    [cpuTestRunnerRef]\n  );\n\n  const tick = React.useCallback(() => {\n    cpuTestRunnerRef.current.step();\n    incrementVersion();\n  }, [incrementVersion]);\n\n  const reset = React.useCallback(() => {\n    cpuTestRunnerRef.current.reset();\n    incrementVersion();\n  }, [incrementVersion]);\n\n  return {\n    version,\n    cpuTestRunner: cpuTestRunnerRef.current,\n    loadScript,\n    tick,\n    reset,\n  };\n};\n\nexport default useHackCpuTestRunner;\n","import HackCpuSimulator from \"./HackCpuSimulator\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/computation/hackCpuSimulator\",\n  title: \"Hack CPU Simulator\",\n  description:\n    \"Load and run assembly code programs, simulating the Hack CPU\",\n  component: HackCpuSimulator,\n};\n","import React from \"react\";\n\nimport ROMTable from \"./ROMTable\";\nimport RAMTable from \"./RAMTable\";\nimport useHackCpuSimulator from \"./useHackCpuSimulator\";\nimport NumberBasePicker, {\n  usePicker as useNumberBasePicker,\n} from \"./NumberBasePicker\";\n\nimport StepForwardControls, {\n  useStepForwardControls,\n} from \"../../../lib/StepForwardControls\";\n\nimport \"./cpuSimulator.css\";\nimport ALUDisplay from \"./ALUDisplay\";\nimport TestScript from \"./TestScript\";\nimport useHackCpuTestRunner from \"./useHackCpuTestRunner\";\n\nconst HackCpuSimulator: React.FunctionComponent = () => {\n  const { numberBase, componentProps } = useNumberBasePicker(\"form-control\");\n\n  const {\n    version: cpuVersion,\n    cpu,\n    setRamValue,\n    loadProgram,\n    reset: resetCpu,\n    tick: tickCpu,\n  } = useHackCpuSimulator(numberBase);\n  const {\n    version: testRunnerVersion,\n    cpuTestRunner,\n    loadScript,\n    tick: tickTestScript,\n    reset: resetTestScript,\n  } = useHackCpuTestRunner(cpu);\n\n  const { componentProps: stepForwardCpuProps } = useStepForwardControls({\n    reset: resetCpu,\n    iterate: tickCpu,\n  });\n\n  const { componentProps: stepForwardTestProps } = useStepForwardControls({\n    reset: resetTestScript,\n    iterate: tickTestScript,\n  });\n\n  return (\n    <div>\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <div className=\"form-group\">\n            <label>Test Script Controls</label>\n            <StepForwardControls {...stepForwardTestProps} />\n          </div>\n        </div>\n\n        <div className=\"col-md-2\">\n          <div className=\"form-group\">\n            <label>CPU Controls</label>\n            <StepForwardControls {...stepForwardCpuProps} />\n          </div>\n        </div>\n\n        <div className=\"col-md-2\">\n          <div className=\"form-group\">\n            <label>Number Base</label>\n            <NumberBasePicker {...componentProps} />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-md-4\">\n          <TestScript cpuTestRunner={cpuTestRunner} loadScript={loadScript} />\n        </div>\n        <div className=\"col-md-3\">\n          <ROMTable\n            cpu={cpu}\n            numberBase={numberBase}\n            loadProgram={loadProgram}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <RAMTable\n            cpu={cpu}\n            numberBase={numberBase}\n            setRamValue={setRamValue}\n          />\n        </div>\n        <div className=\"col-md-2\">\n          <ALUDisplay cpu={cpu} numberBase={numberBase} />\n        </div>\n      </div>\n      <div className=\"hidden-version\">{cpuVersion}</div>\n      <div className=\"hidden-version\">{testRunnerVersion}</div>\n    </div>\n  );\n};\n\nexport default HackCpuSimulator;\n","import React from \"react\";\nimport { ControlledInput } from \"../../../../types\";\nimport { chipFactory } from \"@comp-sci-maths/lib/dist\";\n\ninterface Props extends ControlledInput<string> {\n  className?: string;\n}\n\nconst NandChipPicker: React.FunctionComponent<Props> = ({\n  className,\n  value,\n  onChange,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value: name } }) => {\n      onChange(name);\n    },\n    [onChange]\n  );\n\n  return (\n    <select className={className} onChange={onSelectChange} value={value}>\n      <option />\n      {Object.keys(chipFactory).map((name) => (\n        <option key={name} value={name}>\n          {name}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  chipName: string;\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<string>(Object.keys(chipFactory)[0]);\n\n  return {\n    chipName: value,\n    componentProps: {\n      className,\n      value,\n      onChange,\n    },\n  };\n};\n\nexport default NandChipPicker;\n","import { Chip } from \"@comp-sci-maths/lib/dist\";\nimport { Optional } from \"@comp-sci-maths/lib/dist/types\";\nimport React from 'react';\n\ninterface Props {\n    chip: Chip;\n    historyLength: number;\n}\n\ninterface PinNamedValue {\n    name: string;\n    value: Optional<boolean>;\n}\n\nexport interface PinNamedValueHistory {\n    name: string;\n    values: Optional<boolean>[];\n}\n\ninterface PinValueHistoryState {\n    chip: Chip;\n    historyLength: number;\n    values: PinNamedValueHistory[];\n}\n\ninterface SetChipAction {\n    type: 'setchip';\n    chip: Chip;\n    historyLength: number;\n}\n\ninterface TickTockAction {\n    type: 'ticktock';\n}\n\ntype PinHistoryAction = SetChipAction | TickTockAction;\n\nconst getPinValues = (chip: Chip): PinNamedValue[] => {\n    const values: PinNamedValue[] = Object.entries(chip.pins).map(([name, binaryPin]) => ({\n        name,\n        value: binaryPin.lastOutput\n    }));\n\n    Object.entries(chip.buses).forEach(([name, binaryBus]) => {\n        binaryBus.pins.forEach((binaryPin, i) => {\n            values.push({ name: `${name}[${i}]`, value: binaryPin.lastOutput });\n        });\n    })\n\n    return values;\n}\n\nconst pinValueHistoryReducer = (state: PinValueHistoryState, action: PinHistoryAction): PinValueHistoryState => {\n    switch (action.type) {\n        case 'setchip': {\n            const values: PinNamedValueHistory[] =\n                getPinValues(action.chip)\n                    .map(({ name, value }) => ({\n                        name,\n                        values: Array(action.historyLength).fill(null).map((_, i) => i === 0 ? value : undefined)\n                    }));\n            return {\n                chip: action.chip,\n                historyLength: action.historyLength,\n                values\n            }\n        }\n        case 'ticktock': {\n            const newValues = getPinValues(state.chip);\n            return {\n                chip: state.chip,\n                historyLength: state.historyLength,\n                values: state.values\n                    .map(({ name, values }) =>\n                    ({\n                        name, values: Array(state.historyLength).fill(null).map((_, i) => {\n                            if (i === 0) return newValues.find(n => n.name === name)?.value\n                            if ((i - 1) < values.length) return values[i - 1];\n                            return undefined;\n                        })\n                    }))\n            }\n        }\n    }\n}\n\ninterface UsePinValueHistory {\n    pinHistory: PinValueHistoryState;\n    ticktockHistory: () => void;\n}\n\nconst usePinValueHistory = ({ chip, historyLength }: Props): UsePinValueHistory => {\n    const [pinHistory, dispatch] = React.useReducer(pinValueHistoryReducer, { chip, historyLength, values: [] });\n    React.useEffect(() => dispatch({ type: 'setchip', chip, historyLength }), [chip, historyLength]);\n\n    const ticktockHistory = React.useCallback(() => dispatch({ type: 'ticktock' }), []);\n\n    return {\n        pinHistory,\n        ticktockHistory\n    }\n}\n\nexport default usePinValueHistory;","import React from \"react\";\nimport { Chip, chipFactory, Clock } from \"@comp-sci-maths/lib/dist/index\";\nimport Nand from \"@comp-sci-maths/lib/dist/computation/nand/Logic/Nand\";\nimport { Optional } from \"@comp-sci-maths/lib/dist/types\";\nimport usePinValueHistory, { PinNamedValueHistory } from \"./usePinValueHistory\";\n\ninterface Props {\n  historyLength: number;\n  chipName: string;\n}\n\ninterface UseChip {\n  chip: Chip;\n  clock: Clock;\n  onTickTock: () => void;\n  onTogglePin: (name: string, index: number) => void;\n  pinValueHistory: PinNamedValueHistory[];\n  pins: {\n    [name: string]: Optional<boolean>;\n  };\n  buses: {\n    [name: string]: Optional<boolean>[];\n  };\n}\n\nconst useChip = ({ chipName, historyLength }: Props): UseChip => {\n  const clock = React.useMemo(() => new Clock(), []);\n\n  const [version, incrementVersion] = React.useReducer((i) => i + 1, 0);\n  const chip = React.useMemo(() => {\n    if (chipName in chipFactory) {\n      return chipFactory[chipName](clock);\n    }\n\n    return new Nand();\n  }, [clock, chipName]);\n\n  const { pinHistory, ticktockHistory } = usePinValueHistory({ chip, historyLength });\n\n  const onTickTock = React.useCallback(() => {\n    ticktockHistory();\n    clock.ticktock();\n    incrementVersion();\n  }, [clock, incrementVersion, ticktockHistory]);\n\n  const onTogglePin = React.useCallback(\n    (name: string, index: number) => {\n      if (name in chip.pins) {\n        chip.getPin(name).send(!chip.getPin(name).lastOutput);\n      } else if (name in chip.buses) {\n        chip\n          .getBus(name)\n          .getPin(index)\n          .send(!chip.getBus(name).getPin(index).lastOutput);\n      }\n      incrementVersion();\n    },\n    [chip, incrementVersion]\n  );\n\n  const pins = React.useMemo(() => {\n    if (version < 0) {\n      console.log(\"Weird\");\n    }\n    const result: { [name: string]: Optional<boolean> } = {};\n    Object.entries(chip.pins).forEach(\n      ([name, { lastOutput }]) => (result[name] = lastOutput)\n    );\n    return result;\n  }, [chip.pins, version]);\n\n  const buses = React.useMemo(() => {\n    if (version < 0) {\n      console.log(\"Weird\");\n    }\n    const result: { [name: string]: Optional<boolean>[] } = {};\n    Object.entries(chip.buses).forEach(\n      ([name, { pins }]) =>\n        (result[name] = pins.map((i) => i.lastOutput))\n    );\n\n    return result;\n  }, [chip.buses, version]);\n\n  return {\n    chip,\n    clock,\n    onTickTock,\n    onTogglePin,\n    pins,\n    buses,\n    pinValueHistory: pinHistory.values\n  };\n};\n\nexport default useChip;\n","import { Optional } from \"@comp-sci-maths/lib/dist/types\";\nimport React from \"react\";\nimport { boolToBin } from \"./NandComponent\";\n\ninterface Props {\n  name: string;\n  values: Optional<boolean>[];\n}\n\nconst BusDisplay: React.FunctionComponent<Props> = ({ name, values }) => {\n  return (\n    <div>\n      <h4>{name}</h4>\n      <div>\n        {values\n          .map((value, index) => ({ value, index }))\n          .reverse()\n          .map(({ value, index }) => (\n            <span key={index} className=\"binary-digit\">\n              {boolToBin(value)}\n            </span>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default BusDisplay;\n","import { Optional } from \"@comp-sci-maths/lib/dist/types\";\nimport React from \"react\";\nimport { boolToBin } from \"./NandComponent\";\n\ninterface Props {\n  name: string;\n  values: Optional<boolean>[];\n  onTogglePin: (name: string, index: number) => void;\n}\n\nconst BusModify: React.FunctionComponent<Props> = ({\n  name,\n  values,\n  onTogglePin,\n}) => {\n  return (\n    <div className=\"busDisplay\">\n      <h4>{name}</h4>\n      <div>\n        {values\n          .map((value, index) => ({ value, index }))\n          .reverse()\n          .map(({ value, index }) => (\n            <span\n              key={index}\n              className=\"binary-digit clickable\"\n              onClick={() => onTogglePin(name, index)}\n            >\n              {boolToBin(value)}\n            </span>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default BusModify;\n","import React from 'react';\nimport { PinNamedValueHistory } from './usePinValueHistory';\n\nconst PULSE_DIM = 30;\n\nconst PinDisplay: React.FunctionComponent<PinNamedValueHistory> = ({ name, values }) => {\n    return <div>\n        <span>{name}</span>\n        <svg className='pin-display'>\n            {values.map((v, x) => {\n                const y = v ? PULSE_DIM : 2 * PULSE_DIM;\n                let verticalEdge;\n                if (x > 0 && values[x-1] !== v) {\n                    verticalEdge = <line \n                        x1={x * PULSE_DIM} x2={x * PULSE_DIM} \n                        y1={PULSE_DIM} y2={2 * PULSE_DIM}\n                        stroke=\"blue\" strokeWidth=\"5\"></line>\n                }\n\n                return <React.Fragment key={x}>\n                    {verticalEdge}\n                    <line\n                        x1={x * PULSE_DIM} \n                        x2={(x + 1) * PULSE_DIM} \n                        y1={y} y2={y} \n                        stroke=\"blue\" strokeWidth=\"5\" />\n                        </React.Fragment>\n            })}\n        </svg>\n    </div>\n}\n\nexport default PinDisplay;","import * as React from \"react\";\nimport NandChipPicker, { usePicker as useChipPicker } from \"./NandChipPicker\";\nimport useChip from \"./useChip\";\n\nimport \"./nand.css\";\nimport BusDisplay from \"./BusDisplay\";\nimport BusModify from \"./BusModify\";\nimport PinDisplay from \"./PinDisplay\";\nimport { Optional } from \"@comp-sci-maths/lib/dist/types\";\n\nexport const boolToBin = (v: Optional<boolean>): string => {\n  if (v === true) return \"1\";\n  if (v === false) return \"0\";\n  return \"-\";\n};\n\nconst HISTORY_LENGTH = 64;\n\nconst NandComponent: React.FunctionComponent = () => {\n  const { chipName, componentProps: chipPickerProps } = useChipPicker(\n    \"form-control\"\n  );\n\n  const {\n    chip,\n    clock: { count, state },\n    onTickTock,\n    pinValueHistory,\n    pins,\n    buses,\n    onTogglePin,\n  } = useChip({ chipName, historyLength: HISTORY_LENGTH });\n\n  return (\n    <div>\n      NAND Gates\n      <NandChipPicker {...chipPickerProps} />\n      <h2>{chipName}</h2>\n      <button className=\"btn btn-info btn-clock\" onClick={onTickTock}>\n        Clock \n      </button>\n      <div>\n        Time: {count} {state ? \"+\" : \"\"}\n      </div>\n      <div>\n        <h3>Inputs</h3>\n        <div className=\"pinGroup\">\n          {Object.entries(pins)\n            .filter(([name]) => chip.inputs.includes(name))\n            .map(([name, value]) => (\n              <BusModify\n                key={name}\n                name={name}\n                values={[value]}\n                onTogglePin={onTogglePin}\n              />\n            ))}\n        </div>\n        <div className=\"busGroup\">\n          {Object.entries(buses)\n            .filter(([name]) => chip.inputs.includes(name))\n            .map(([name, values]) => (\n              <BusModify\n                key={name}\n                name={name}\n                values={values}\n                onTogglePin={onTogglePin}\n              />\n            ))}\n        </div>\n\n        <h3>Outputs</h3>\n        <div className=\"pinGroup\">\n          {Object.entries(pins)\n            .filter(([name]) => chip.outputs.includes(name))\n            .map(([name, value]) => (\n              <BusDisplay key={name} name={name} values={[value]} />\n            ))}\n        </div>\n        <div className=\"busGroup\">\n          {Object.entries(buses)\n            .filter(([name]) => chip.outputs.includes(name))\n            .map(([name, values]) => (\n              <BusDisplay key={name} name={name} values={values} />\n            ))}\n        </div>\n      </div>\n\n      <h3>Trace</h3>\n      <div>\n        {pinValueHistory.map((pinHistory) => (\n          <PinDisplay key={pinHistory.name} {...pinHistory} />\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default NandComponent;\n","import NandComponent from \"./NandComponent\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/computation/nand\",\n  title: \"Nand Gate Chips\",\n  description: \"Test chips built entirely from NAND gates\",\n  component: NandComponent,\n};\n","import React from \"react\";\nimport ModalDialog from \"../../../Bootstrap/ModalDialog\";\n\nimport { Props as ButtonProps } from \"../../../Bootstrap/Buttons/Button\";\nimport ButtonBar from \"../../../Bootstrap/Buttons/ButtonBar\";\n\ninterface Props extends ReactModal.Props {\n  createProgram: (name: string) => void;\n  onCloseDialog: () => void;\n}\n\nconst NewProgramDialog: React.FunctionComponent<Props> = (props) => {\n  const { createProgram, onCloseDialog } = props;\n  const [programName, setProgramName] = React.useState<string>(\"\");\n\n  const onProgramNameChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setProgramName(value),\n    [setProgramName]\n  );\n\n  const buttons: ButtonProps[] = React.useMemo(\n    () => [\n      {\n        text: \"Create\",\n        styleType: \"primary\",\n        onClick: () => {\n          createProgram(programName);\n          onCloseDialog();\n        },\n      },\n      {\n        text: \"Cancel\",\n        styleType: \"danger\",\n        onClick: onCloseDialog,\n      },\n    ],\n    [programName, createProgram, onCloseDialog]\n  );\n\n  return (\n    <ModalDialog\n      {...props}\n      header={<h4>New Hack ASM Program</h4>}\n      content={\n        <form className=\"form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"newProgramName\">Name</label>\n            <input\n              id=\"newProgramName\"\n              className=\"form-control\"\n              value={programName}\n              onChange={onProgramNameChange}\n            />\n          </div>\n        </form>\n      }\n      actions={<ButtonBar buttons={buttons} />}\n    />\n  );\n};\n\ninterface UseDialog {\n  /**\n   * The owning component is ready to start a deletion process.\n   * Calling this will open the dialog, and setup the UUIDs\n   */\n  showDialog: () => void;\n  /**\n   * These are the properties that the owning component can just give to the Dialog component\n   * using destructing.\n   */\n  componentProps: Props;\n}\n\n/**\n * This is a React custom hook that sets up things required by the owning component.\n */\nexport const useDialog = (\n  createProgram: (name: string) => void\n): UseDialog => {\n  const [isOpen, setIsOpen] = React.useState<boolean>(false);\n\n  const _onCloseDialog = React.useCallback(() => setIsOpen(false), [setIsOpen]);\n  const _showDialog = React.useCallback(() => setIsOpen(true), [setIsOpen]);\n\n  return {\n    componentProps: {\n      isOpen,\n      createProgram,\n      onCloseDialog: _onCloseDialog,\n    },\n    showDialog: _showDialog,\n  };\n};\n\nexport default NewProgramDialog;\n","import React from \"react\";\n\nexport interface UseDirtyState<T> {\n  value: T;\n  setValue: (n: T) => void;\n  isDirty: boolean;\n  setClean: () => void;\n}\n\nconst useDirtyState = <T>(defaultValue: T): UseDirtyState<T> => {\n  const [value, setValue] = React.useState<T>(defaultValue);\n  const [isDirty, setIsDirty] = React.useState<boolean>(false);\n\n  const _setValue = React.useCallback(\n    (value: T) => {\n      setValue(value);\n      setIsDirty(true);\n    },\n    [setValue, setIsDirty]\n  );\n\n  const _setClean = React.useCallback(() => {\n    setIsDirty(false);\n  }, [setIsDirty]);\n\n  return {\n    setValue: _setValue,\n    setClean: _setClean,\n    isDirty,\n    value,\n  };\n};\n\nexport default useDirtyState;\n","import React from \"react\";\n\nimport useDirtyState from \"../../../lib/useDirtyState\";\n\nimport { Props as ButtonProps } from \"../../../Bootstrap/Buttons/Button\";\nimport ButtonBar from \"../../../Bootstrap/Buttons/ButtonBar\";\nimport useSavedPrograms from \"../../../lib/useSavedPrograms\";\n\nconst DEFAULT_PROGRAM: string = \"// New Program\";\n\ninterface Props {\n  program: string;\n  programName: string;\n  closeProgram: (name: string) => void;\n}\n\nconst ProgramEditor: React.FunctionComponent<Props> = ({\n  program,\n  programName,\n  closeProgram,\n}) => {\n  const { saveProgram, deleteProgram } = useSavedPrograms();\n  const {\n    value: editedProgram,\n    setValue: setEditedProgram,\n    isDirty: isEditedProgramDirty,\n    setClean: setEditedProgramClean,\n  } = useDirtyState(DEFAULT_PROGRAM);\n\n  const onEditedProgramChange: React.ChangeEventHandler<HTMLTextAreaElement> = React.useCallback(\n    ({ target: { value } }) => setEditedProgram(value),\n    [setEditedProgram]\n  );\n\n  React.useEffect(() => {\n    setEditedProgram(program);\n    setEditedProgramClean();\n  }, [program, setEditedProgramClean, setEditedProgram]);\n\n  const buttons: ButtonProps[] = React.useMemo(\n    () => [\n      {\n        onClick: () => {\n          saveProgram(programName, editedProgram);\n          setEditedProgramClean();\n        },\n        text: \"Save\",\n        styleType: \"success\",\n        disabled: !isEditedProgramDirty,\n      },\n      {\n        onClick: () => {\n          deleteProgram(programName);\n          closeProgram(programName);\n        },\n        text: \"Delete\",\n        styleType: \"danger\",\n      },\n      {\n        onClick: () => closeProgram(programName),\n        text: \"Close\",\n        styleType: \"warning\",\n      },\n    ],\n    [\n      isEditedProgramDirty,\n      editedProgram,\n      programName,\n      setEditedProgramClean,\n      closeProgram,\n      deleteProgram,\n      saveProgram,\n    ]\n  );\n\n  return (\n    <div>\n      <ButtonBar className=\"mt-2 mb-2\" buttons={buttons} />\n      <div className=\"form-group\">\n        <textarea\n          className=\"txt-code code-text\"\n          value={editedProgram}\n          onChange={onEditedProgramChange}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ProgramEditor;\n","import React from \"react\";\n\nimport { UseListReducer } from \"./types\";\n\n/**\n * This file exports a custom hook that can be used to manage a list\n * with a reducer. It handles a few simple use cases for reducer based lists\n * that were common to a number of components.\n */\n\ninterface ReceivedAction<T> {\n  type: \"itemsReceived\";\n  items: T[];\n}\ninterface AddAction<T> {\n  type: \"itemAdded\";\n  item: T;\n}\ninterface RemovedAction<T> {\n  type: \"itemRemoved\";\n  matcher: (i: T) => boolean;\n}\ninterface ClearedAction {\n  type: \"itemsCleared\";\n}\ninterface UpdatedAction<T> {\n  type: \"itemUpdated\";\n  matcher: (i: T) => boolean;\n  newValue: T;\n}\ninterface UpdatedAtIndexAction<T> {\n  type: \"itemUpdatedAtIndex\";\n  index: number;\n  newValue: T;\n}\ninterface RemovedByIndexAction {\n  type: \"itemRemovedByIndex\";\n  index: number;\n}\n\nconst createListReducer = <T>() => {\n  return (\n    state: T[],\n    action:\n      | ReceivedAction<T>\n      | AddAction<T>\n      | UpdatedAction<T>\n      | RemovedAction<T>\n      | UpdatedAtIndexAction<T>\n      | RemovedByIndexAction\n      | ClearedAction\n  ): T[] => {\n    switch (action.type) {\n      case \"itemsReceived\":\n        return action.items;\n      case \"itemAdded\":\n        return [...state, action.item];\n      case \"itemUpdated\":\n        return state.map((i) => (action.matcher(i) ? action.newValue : i));\n      case \"itemRemoved\":\n        return state.filter((u) => !action.matcher(u));\n      case \"itemUpdatedAtIndex\":\n        return state.map((u, i) => (i === action.index ? action.newValue : u));\n      case \"itemRemovedByIndex\":\n        return state.filter((u, i) => i !== action.index);\n      case \"itemsCleared\":\n        return [];\n      default:\n        return state;\n    }\n  };\n};\n\nconst useListReducer = <T extends {}>(\n  initialItems: T[] = []\n): UseListReducer<T> => {\n  const [items, dispatch] = React.useReducer(\n    createListReducer<T>(),\n    initialItems\n  );\n\n  return {\n    items,\n    receiveItems: React.useCallback(\n      (items: T[]) =>\n        dispatch({\n          type: \"itemsReceived\",\n          items,\n        }),\n      [dispatch]\n    ),\n    addItem: React.useCallback(\n      (item: T) =>\n        dispatch({\n          type: \"itemAdded\",\n          item,\n        }),\n      [dispatch]\n    ),\n    removeItem: React.useCallback(\n      (matcher: (i: T) => boolean) =>\n        dispatch({\n          type: \"itemRemoved\",\n          matcher,\n        }),\n      [dispatch]\n    ),\n    clearItems: React.useCallback(() => dispatch({ type: \"itemsCleared\" }), [\n      dispatch,\n    ]),\n    updateItem: React.useCallback(\n      (matcher: (i: T) => boolean, newValue: T) =>\n        dispatch({\n          type: \"itemUpdated\",\n          matcher,\n          newValue,\n        }),\n      [dispatch]\n    ),\n    updateItemAtIndex: React.useCallback(\n      (index: number, newValue: T) =>\n        dispatch({ type: \"itemUpdatedAtIndex\", index, newValue }),\n      [dispatch]\n    ),\n    removeItemAtIndex: React.useCallback(\n      (index: number) =>\n        dispatch({\n          type: \"itemRemovedByIndex\",\n          index,\n        }),\n      [dispatch]\n    ),\n  };\n};\n\nexport default useListReducer;\n","/*\n * Copyright 2018 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\";\nimport ModalDialog from \"../ModalDialog\";\nimport ButtonBar, { Props as ButtonBarProps } from \"../Buttons/ButtonBar\";\n\ninterface NewProps<T> {\n  getQuestion: () => string;\n  getDetails?: (data: T) => string;\n  onConfirm: (data: T) => void;\n}\n\ninterface Props extends ReactModal.Props {\n  question: string;\n  details?: string;\n  onConfirm: () => void;\n  onCloseDialog: () => void;\n}\n\nconst ConfirmDialog: React.FunctionComponent<Props> = ({\n  question,\n  details,\n  onCloseDialog,\n  onConfirm,\n  ...rest\n}) => {\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Cancel\",\n          styleType: \"primary\",\n          onClick: onCloseDialog,\n        },\n        {\n          text: \"Confirm\",\n          styleType: \"danger\",\n          onClick: () => {\n            onConfirm();\n            onCloseDialog();\n          },\n        },\n      ],\n    }),\n    [onConfirm, onCloseDialog]\n  );\n  return (\n    <ModalDialog\n      {...rest}\n      header={<h3>{question}</h3>}\n      content={<div>{details}</div>}\n      actions={<ButtonBar {...buttonBarProps} />}\n    />\n  );\n};\n\ninterface UseDialog<T> {\n  /**\n   * The owning component is ready to start a deletion process.\n   * Calling this will open the dialog, and setup the UUIDs\n   */\n  showDialog: (data: T) => void;\n  /**\n   * These are the properties that the owning component can just give to the Dialog component\n   * using destructing.\n   */\n  componentProps: Props;\n}\n\n/**\n * This is a React custom hook that sets up things required by the owning component.\n */\nexport const useDialog = <T extends {}>(props: NewProps<T>): UseDialog<T> => {\n  const [isOpen, setIsOpen] = React.useState<boolean>(false);\n  const [question, setQuestion] = React.useState<string>(\"No Question\");\n  const [details, setDetails] = React.useState<string | undefined>(undefined);\n  const [data, setData] = React.useState<T>();\n\n  const {\n    onConfirm,\n    getQuestion,\n    getDetails = (): string | undefined => undefined,\n  } = props;\n\n  const _onConfirm = React.useCallback(() => {\n    if (!!data) {\n      onConfirm(data as T);\n    }\n  }, [onConfirm, data]);\n\n  const _onCloseDialog = React.useCallback(() => {\n    setIsOpen(false);\n  }, [setIsOpen]);\n\n  const _showDialog = React.useCallback(\n    (data: T) => {\n      setData(data);\n      setQuestion(getQuestion());\n      setDetails(getDetails(data));\n      setIsOpen(true);\n    },\n    [setData, setQuestion, getQuestion, setDetails, getDetails, setIsOpen]\n  );\n\n  return {\n    componentProps: {\n      question,\n      details,\n      isOpen,\n      onConfirm: _onConfirm,\n      onCloseDialog: _onCloseDialog,\n    },\n    showDialog: _showDialog,\n  };\n};\n\nexport default ConfirmDialog;\n","import ConfirmDialog, { useDialog } from \"./ConfirmDialog\";\n\nexport { ConfirmDialog, useDialog };\n\nexport default ConfirmDialog;\n","import ProgramManager from \"./ProgramManager\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/computation/programManager\",\n  title: \"Program Manager\",\n  description:\n    \"Write text based programs for running in the various simulator tools on this site\",\n  component: ProgramManager,\n};\n","import React from \"react\";\n\nimport NewProgramDialog, {\n  useDialog as useNewProgramDialog,\n} from \"./NewProgramDialog\";\nimport ProgramPickerDialog, {\n  useDialog as useProgramPickerDialog,\n} from \"./ProgramPickerDialog\";\nimport { Props as ButtonProps } from \"../../../Bootstrap/Buttons/Button\";\nimport ButtonBar from \"../../../Bootstrap/Buttons/ButtonBar\";\nimport ProgramEditor from \"./ProgramEditor\";\nimport useListReducer from \"../../../lib/useListReducer\";\nimport Tabs, { Tab, useTabs } from \"../../../Bootstrap/Tabs/Tabs\";\nimport ConfirmDialog, {\n  useDialog as useConfirmDialog,\n} from \"../../../Bootstrap/ConfirmDialog\";\nimport useSavedProgram from \"../../../lib/useSavedPrograms\";\n\ninterface OpenProgram {\n  programName: string;\n  program: string;\n}\n\nconst ProgramManager: React.FunctionComponent = () => {\n  const {\n    createNew: createNewProgram,\n    reset: resetSavedPrograms,\n  } = useSavedProgram();\n\n  const {\n    items: openPrograms,\n    addItem: addOpenProgram,\n    removeItem: removeOpenProgram,\n  } = useListReducer<OpenProgram>([]);\n\n  const openProgram = React.useCallback(\n    (programName: string, program: string) =>\n      addOpenProgram({ programName, program }),\n    [addOpenProgram]\n  );\n  const closeProgram = React.useCallback(\n    (programName: string) => {\n      removeOpenProgram((p) => p.programName === programName);\n    },\n    [removeOpenProgram]\n  );\n\n  const {\n    showDialog: showProgramPicker,\n    componentProps: programPickerProps,\n  } = useProgramPickerDialog(openProgram);\n\n  const tabs: Tab[] = React.useMemo(\n    () =>\n      openPrograms.map(({ programName, program }) => ({\n        title: programName,\n        content: (\n          <ProgramEditor\n            key={programName}\n            programName={programName}\n            program={program}\n            closeProgram={closeProgram}\n          />\n        ),\n      })),\n    [openPrograms, closeProgram]\n  );\n\n  const tabsProps = useTabs(tabs);\n  const { setSelectedTitle: setOpenTab } = tabsProps;\n\n  const createAndOpenNewProgram = React.useCallback(\n    (name: string) => {\n      const content = createNewProgram(name);\n      if (!!content) {\n        openProgram(name, content);\n        setOpenTab(name);\n      }\n    },\n    [setOpenTab, createNewProgram, openProgram]\n  );\n\n  const {\n    showDialog: showNewProgramDialog,\n    componentProps: newProgramProps,\n  } = useNewProgramDialog(createAndOpenNewProgram);\n\n  const {\n    showDialog: showResetConfirmation,\n    componentProps: confirmResetProps,\n  } = useConfirmDialog({\n    getQuestion: () => \"Are you sure you want to reset local program storage?\",\n    onConfirm: resetSavedPrograms,\n  });\n\n  const buttons: ButtonProps[] = React.useMemo(\n    () => [\n      {\n        onClick: showNewProgramDialog,\n        text: \"New\",\n        styleType: \"primary\",\n      },\n      {\n        onClick: showProgramPicker,\n        text: \"Open\",\n        styleType: \"success\",\n      },\n      {\n        onClick: showResetConfirmation,\n        text: \"Reset All\",\n        styleType: \"danger\",\n      },\n    ],\n    [showResetConfirmation, showProgramPicker, showNewProgramDialog]\n  );\n\n  return (\n    <div>\n      <h4>Program Editor</h4>\n\n      <NewProgramDialog {...newProgramProps} />\n      <ConfirmDialog {...confirmResetProps} />\n\n      <div>\n        <ProgramPickerDialog {...programPickerProps} />\n        <ButtonBar buttons={buttons} />\n      </div>\n\n      <Tabs {...tabsProps} />\n    </div>\n  );\n};\n\nexport default ProgramManager;\n","import { TuringTumbleChallenge } from \"./types\";\n\nconst challenges: TuringTumbleChallenge[] = [\n    {\n        title: 'Gravity',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA3klEQVQ4T+2TQQ7CIBBF/2xcd+kSzuAB2hgP0qbeo1yEpL2HMSxdGW8AS1fGExQzVUgtqBdwEhIY/mOGgSFjzFjXNXj0fY+qqmCMQbClXykFChCLrHWQUkQgTLR2aNunPwNZIhA8PKSU3lpLAeR1As0FdCT47aR5MwZjpLIs44khUkK8HMMw+OlOc+iTOPiz0D/Sr7LNS66UGpf6ruviuzVNk7wyCSESyDoLKSS002hFm+SQQPNfncuY97ORApiDuH2yEIsZzBn3GwHe78UG5+KG1X2Ha3HA+uJw+lLNB5hYoLCQpKrgAAAAAElFTkSuQmCC',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=2&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA4klEQVQ4T+2TwQ3CMAxFvy+ce+SYzMAArRCDtAp7NItEavdAKEdOiA2SIyfEBA24kKo0QSyApUiJ7Zev2A5Za4e6rsGr6zpUVQVrLaIt/VprUIQ4yTkPKcUExI0xHkq9/BnIEYEQECClDM45iiCfE2ieQEdC2I45H8bgpFSW5XRjVEqIt6Pv+zC+aQ5x7JsSx7LQX2lW45/V01oPy560bTv1rWmapMskhEgg5x2kkDDeQAmV9DmB5lOdmwqOZ5UimIP4+2QhTmYwZ/zfCAhhLzY4Fzes7jtciwPWF4/Tt4l9+h9FwKywxsHlugAAAABJRU5ErkJggg=='\n    },\n    {\n        title: 'Re-entry',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA30lEQVQ4T9XTMQ6DMAwF0J+lM2PH5Aw9AAw9CIjeg1wkEtyjQ8ZOVW+QjJ2qnoBUBiWKiKuy1hISWH5YEFtYa+e2bUHXOI5omgbWWsTY5rXWEBFRkXMeSskE4o0xHn2/5hnkhIBAQIBSKjjnRIT0XKC8IMJtS4KpU13X6Y2x8Bucpiks38Qhwhz8iTi4C23hbpT/kH9AWut5e4jDMKRz67pumYQ8hJSyQM47KKlgvEEv+2IWC5RPdVENLNvAdoqQQ7Q+LKJiglzQvgkghIs84V69cHif8ayuOD48bixZkx+gUZ+w1VFySwAAAABJRU5ErkJggg==',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=1.5&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA7UlEQVQ4T43TQYrDMAwF0K9N113O0j7DHCBhmIMkpPeILxJI7jEUL2dV5gb2clalJ6iLUhSCrVILAonQizCWyHt/77oO/MzzjLZt4b2HRJ53zoEEcVEIEdaaDcjLNEUMwzOvoEAEQkKCtTaFEEggfxdoXyAwb8lw69Q0zfZHKXwFl2VJ65k0xFiDb5EGq1AOq9EKz4T0lVCNBDCuQntQhXKwIefcPb/EcRxJQN/36yTsg4wxBQoxwBqLKU4YzFDMYoH2U11UA+s2qJ0EaojXR0VczFAL3jcCUjqZT1yOVxxu3/g//uDjL+JXJc/kA06qrrCnRuvlAAAAAElFTkSuQmCC'\n    },\n    {\n        title: 'Ignition',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA30lEQVQ4T92TQQrCMBBF/2xcd+kyOYMHaBEP0hLv0Vwk0N5DJEtX4g2SpSvxBI1MS0ppggruHAgkk3kMM/OHrLVDXdfg03UdqqqCtRbR1n6tNShCHOSch5RiBuLFGA+lJn8GckQgBARIKYNzjuhMCPvpnUAckKRYORicM5Vl+RGIfN/3YazpD6DYxa9rimPgZnwNcfDvmbTWw3qobdvOc2uaZlTC0kgIkUDOO0ghYbyBEioRSgItVZ2TFf9nM0UwB/H6ZCEOZjBnvG8EhHAUO1yLBzbPA+7FCdubx+WN5F+jOaKwVh6qHgAAAABJRU5ErkJggg==',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA70lEQVQ4T63TQQ6CMBAF0D8b1y5dtmfwABDjQSB4D3oREriHMV26Mt6gXboynsCaAYeQtoksnIQEJvMYSqdkrX1XVQW++r5HWZaw1kIizhtjQIK4yDkPrdUM5KbrPJpmymeQIwIhIEBrHZxzRBdCOEzPCeICebNAAZJnOHcqimIGMYy/dRiGMK4ph7hYOi7hT5SDq1AMV6MRfv/iarRc22r0n07GmHe8F23bzvtW1/U4CcsgpVSCnHfQSqPzHRrVJLOYoOVUJ9XAeBqynQTmEB+fLOJihrng80ZACCe1x237xOZ1xGN7xu7ucc2SKfkBKW6vsL7OdnwAAAAASUVORK5CYII='\n    },\n    {\n        title: 'Fusion',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA3UlEQVQ4T+2TOw7CMAyGfy/MHRmTM3CAVoiDtCr3aC4Sqb0HQhmZEDdIRibECRrktqmqJmVgxlKkxPFnyy8yxvRlWYJP27YoigLGGARZ65VSoACxkbUOUooZCBetHep61CcgS3Ql+KOHlNJba4lA8BjfETQYTMA61BKcI+V5vgkEBwHsus4POTEUJbKh+ENTYX4vhFKqX1e3aZq5BVVVDZOwFBJCRJB1FlJIaKdRizrqWAQtpzrVX/5PRgpgCuL1SUJszGBKeN8I8P4sDrhnL+zeJzyzC/YPh9uXYfwAlvyisK0YzGgAAAAASUVORK5CYII=',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABBElEQVQ4T4XTQWrEIBQG4P9tup7lLPUMPUCk9CAJ6T3iRQLmHqW47Kr0Bgqz6ar0BGN5ZgwhPmeEQGL8fM+nkvf+2vc9+HHOwRgD7z1KO/Zba0EF8aAQIrRWGygv8xwxjmu/gALRByG9JGitUwiBCISE9btCecANHEPt4Rap67omKBMUuCxLymsynSFO4VHjTNzFrShHuuXegiX1LRIjHtyC+7VWSILH4ohoD6VqNlGGjfK3IzUAT5aRtfZ6rNg0Tbkw3IZhqPaClFIVCjFAK405zhjVWO1ChfanWtoz/i9GKlBCfH1ExIMZSo3vGwEpvalnfJ1+8fT3ip/TO87fEZ93DuI/H4q/sNAqaoYAAAAASUVORK5CYII='\n    },\n    {\n        title: 'Entropy',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=1&pt=4&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA5ElEQVQ4T+WTQQrDIBBF/2y6zrJLPUMPkFB6kIT0HtqDBJJ7lOKyq9Ib6LKr0hPEMglKEoUeoAOCDv/NV8YhY8xY1zV49X2PqqpgjEGIbV5rDQoQi6x1kFJEIGy6zqFt53wGskQ3gj96SCm9tZYCyOcEWgoCuLVkMDqVZRkrRuGFADUVX8UwDH56UxYCQCB4rMGfEFtsr/oT+isnrfW47YVSKvataZqkWSSESCDrLKSQ6FyHVrRJgxNo+asTNTBNQ9YpgDmIxycLsZjBXPC8EeD9WRzwKN7YfU54FVfsnw73LDInv7TArLBXApN7AAAAAElFTkSuQmCC',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABAElEQVQ4T7WTMW7DMAxFP5fMGTtKZ+gBLBQ5iA33HlYOYsC+RxBozFT0BtKYKcgJooB2KCSSik4hIMAk+PRJyiTn3K1tW/CZpgnGGDjnIJbHrbUggTjJ+wCtVQLkYxwD+n6NVyBPBEJEhNY6eu+JjoT4tfoFxAlys4ACSJzBpNQ0TQJSbXsChuXyF5vnOS495ZAoiOIzVYXyknK/gArgMZQ/lXIgDeUxPfGTkmkM8Zhz+7en9ytZa295WcMwpHfruq6om5RSBeSDh1YaYxjRq77sNYee/+oiG1i2oaokYA3i9alCnMxgzXjfCIjxW33iZ3vB5rrDeXvAx2/AqYqswTvc3cOwWXr+VwAAAABJRU5ErkJggg=='\n    },\n    {\n        title: 'Total Internal Reflection',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA4ElEQVQ4T+2TQQ7CIBBF/2xcd+kSzuAB2hgP0qbeo1ykSXsPY1i6Mt4Alq6MJyhmasFasCeQhASG//gwA6S1HsqyBPeu61AUBbTW8G0ZV0qBPMQiYyykFAHwg7a1qOt3PAEZ8kIppTPmex5BcwGB4OBAZ4Lbu+DMGwWnPM+DQ3S2RaDvezfeaQn9cmL+J7Tm9neasjMmQik1LLPVNE2oW1VVn+pOQhJCRJCxBlJItLZFLeqoAhE0f9WpevF60smDKYi/TxJiMYOpxv+NAOeOYodr9sDmecA9O2F7s7isvKUXk5OssPuzVE4AAAAASUVORK5CYII=',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=7.5&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA5klEQVQ4T+2TwQ3CMAxFvy+ce+SYzMAArRCDtCp7NAxSqd0DoRw5ITZIjpwQEzTIrVxBk4oFsBQpsfz8Ezsma+1QliV4dV2HoihgrYXY0m+MAQnEQc55aK1mQDZt61HXkz8BOSIQAgK01sE5R3QhhP10jiAOkMwCCiB+BmelPM9nYL7biYBmTP5lfd+H8U1LaE2J6VVoTP1XAn5WzxgzLHvRNA1J9aqqippFSqkIct5BK43Wt6hVHTU4gj5/dRQNjNOQVBIwBfH4JCEOZjBlPG8EhHBUO9yyJzavAx7ZGdu7xzWJTM43F9+7sGyXUb4AAAAASUVORK5CYII='\n    },\n    {\n        title: 'Path of Least Resistance',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=4&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA6klEQVQ4T62TTQ6CMBCFXzeuWbpsz+ABYOFBIHiP1oOQwD1cdOnKeIN26cp4AmpGaQO04k9s0gDT982bMi3TWvdlWYJm27YoigJaa/gxjyulwDxEImMshOAB8C9NY1HXz3gCMswLhRDOmOl3BI0FkdUQoETBKc/z4IA9A6RDeM4ydF3nHnuaQK9shvgU8g5fQWPxQoI/lEdOH5SYdnoD/l6eUqqf/zApZehbVVVuvs445xFkrIHgAo1tUPM6akIEjU91qmW0nnTyYAqi65OESExgatB9Y4BzO77BKbtiddvikh2wPlscF47THbwGn7CwQfA5AAAAAElFTkSuQmCC',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABA0lEQVQ4T4WTQW6EMAxFvzddz7LL5Aw9AFHVg4DoPcgcBAnuUVVZdlX1Bsmyq9GcgIzMjCMggbGEAMcvn28Tcs5NdV2Dr2EYYIyBcw4S27y1FiQQF3kfoLVKgDz0fUDb3vMFyBOBEBGhtY7eexKQ3zNoWUDfhPg+16yCwaRUVVXaEWcCuoh034DjOMbZk0B7CktuDYlC9lHrRIJMZYjNpzjYYKUkXXsihMzTnvl9T7LyxFuu9ACPujhD1tpp66PrujS3pmmyKZNSKoN88NBKow89WtVmvcmg5V9d6iSvF5UELEF8fIoQFzNYCj5vBMT4qd7we7rg5fqB/9MXXv8Cfg6mfAOoOq6w9tIJmQAAAABJRU5ErkJggg=='\n    },\n    {\n        title: 'De-Polarisation',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=6&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA4ElEQVQ4T+2TMQ7CMAxFvxfmjozJGThAK8RBWpV7NBeJ1N4DoYxMiBskIxPiBA24JQE1YWHGUqTkx89WbIeMMWNd1+DV9z2qqoIxBsGWulIKFCB2stZBShGBsNHaoW1nPQNZIhA8PKSU3lpLdCT47XxOIHYIkQMYgKAzGDOVZRmBNwhMoRc2DIOf3pSDMv6T9Idelfm9EEqpcVneruti35qmSdpFQogEss5CCgntNFrRJi1LoM+pzjWY77OZApiD+PtkIXZmMGf83wjwfi82OBc3rO47XIsD1heH07fhe+oPRFOesGfVN7wAAAAASUVORK5CYII=',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABCUlEQVQ4T4XTQU7FIBAG4H82rt/SJZzBA5QYD9Km3qNcpAm9hzEsXRlvQBM3rl48wcNM3xte34BK0qRQvhkGCsUYT33fg58QApxziDFCmh733oME8aSUVlhrCpCXeV4xjufxBkpEIGRkWGtzSonolZAfz/0K8QSJLFCAjDMsmbquK+AKgS20asuy5K0mjSSDZNy7JtJL0rBCGugauX+DfgMaFuQ6R7zN/zUOHD7DdSNaRe+DyErqmi4HqzPuA27Ie3/Sk6ZpKuc2DEO1bjLGVCitCdZYzOuM0YxVqRXa/9WtjeHvzUwCW4ivTxPxZIatxveNgJyfzQPeD0fcfT/h6/CC+48Vb38c2g8PU76wCs6ZQwAAAABJRU5ErkJggg=='\n    },\n    {\n        title: 'Dimers',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA5UlEQVQ4T+2TMQ7CMAxFvxdmRsbkDBygFeIgrco9Gg5Sqb0HQhmZEDdIRibECTBySyJowsKMpUjJj1+c2A5Zax9VVUFG3/coyxLWWgSb68YYUIDEyTkPrVUEwqTrPJpm0jOQIwLAALTW7JwjOhJ4w+M6gcQhnEwgMBgBCLqAMVJRFBGId9sT0I6Hf9gwDDy+KQsl7pPwh16J+T0RxpjHPLtt28a61XWdFIuUUgnkvINWGp3v0KgmqVgCvXd1rr6yn40UwBwk3ycLibOAOZP/RgDzTq1xXt6wuG9xXR6wunicvvSeyE/TRJ6wzndBwQAAAABJRU5ErkJggg==',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABEUlEQVQ4T4WTQW7EIAxFvzddz3KWcIYeIGjUgyTK3CP0IJHIPaqKZVdVbwBSN11Vc4KhMg2UAdpaQgmOnz+2A1lrr+M4gpcxBkopWGuRrPZrrUEJ4iDnPKQUGUgv6+oxz9/+DuSIAAQAUsrgnCN6JoRTiPsGigEgBATk5w4kRQaz0jAMLBAtAXgkYInJb2zbthBrKqEI7go5QYF1oQQ0yrujgWqgB95AvwE1mCE1KOKu/Wec2Lybn0b0ii6TpJO0Ne1zqhXLhBHSWl/roGVZ8tymaWrOTUKIBnLeQQqJ1a+YxdyU2kDlX91rDH/vKiWwB/H16UIczGDP+L4REMJZ3OP18Im7ywM+Dk84vnm8/DG0L1EIwrD8fEkiAAAAAElFTkSuQmCC'\n    },\n    {\n        title: 'Double Bond',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=4&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA3UlEQVQ4T+2TMQ7CMAxFvxfmjozJGThAq4qDtAr3aDhIpPYeqMrIhLhBMjIhTtAgF1pBExiYsRQpcfxixd8ma+1QVRV4tW2LoihgrcVkS7/WGjRBHOSch5RiBqaNMR5KPfwJyBH1PUJZQkoZnHNEAAIwniOIA6IUCweDc6Y8z2NgT0AzPv5mXdeF8U9J6EPaP/QszO+F0FoPy+o2TTPrVtd1JBYJISLIeQcpJIw3UEJFikXQa1en9OX7ZKYJTEE8PkmIgxlMGc8bASHsxAan7IrVbYtLdsD67HH80vJ3BV6ZsJehIHQAAAAASUVORK5CYII=',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1.5&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABFUlEQVQ4T4XTPW7DIBQH8P9bOmfsCGfoAYysHsSWew+Tg1jC96gsxk5VbwBSl0xVTxCiRwxxDGmfZGEDPx4fhqy1567rwI8xBkopWGuRYl+vtQYlxJ2c85BSZJBepsljGK71FeSIlgWhbSGlDM45IgABiN8FunYgBATkciGENoDWkmHO1DQNDxgjARwJGG8gtc/zHOKatijClGHNvF1kFSVQZF4rCrQHNXiHHoE9zEg1injX/gse2Hyb20bkXXsg00zKNVV26+4YAESktT7vBx/HMZ9b3/fFvEkIUSDnHaSQmPyEQQzFhAu0/atry+P2aqYEa4ivTxVxZ4a14PtGQAhv4gWfhx88/b7idHjH85fHxx+HdgGN+8iwnFUoAAAAAABJRU5ErkJggg=='\n    },\n    {\n        title: 'Selectivity',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=2&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA1UlEQVQ4T8WT3Q2DIBSFDxs4AszQAfShg2joHrIIie7RByZo3AAmMJ1AmmsLsXJtHyUhwOF+nMufcM4tbduC6jAMaJoGzjmksteNMRAJoiDvA5SSGUgdawO0fusM5EUKVEpF77/HBbQNKKw+Ai2Uneq6zg4JICEy9DiOcd0TBx25nQSlPfxrT0rv6LT2+pqeMWbZT/R9n++t67riuoSUsoB88FBSwQYLLXWRRAFtXzWXMs2zTgnkIPo+LETBBHKF/psAYrzJCx7VDDyvmKs7qilg+nGcLybkmbA3F1k4AAAAAElFTkSuQmCC',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABBElEQVQ4T42T4W3EIAyFnzfICDBDB0gUdZBE6R5hkUhkj1PEBNVtAFL/nzrBuXKuIA6orpYQwfIX+xlMzrn7NE2QZa3FMAxwziFa6TfGgCIkQd4HaK0SED+2LWBZHv4G5IlAYDC01uy9pwjKuYLygAiWKQVMmfq+T3+MgXQc4HGsSt33nU9NJUQHgUdGK2MTikDK+KsxnivoLy25/wkSUdKeV/tLTWUXpHT7ZetGlJpKbf/WlIN2t0zGmHtZxrqu6d7meT5fQm6klKogHzy00tjChkUt1QVXUP6qq2jgnIZmpgi2IBmfJiTBArZM5o0A5g/1hs/uBny/49Zd0F0Drk3k4fwBCie4sBwjh1gAAAAASUVORK5CYII='\n    },\n    {\n        title: 'Duality - Part 1',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=6&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA8ElEQVQ4T82TMY7CMBBF/zTUlFvaZ+AAiVZ7kEThHvFFIiX3QMjlVituYJdUiBMwMEEOyB6UdkeKlHz/5+9xbPLe35qmgTzjOKKua3jvkSrXnXOgBIkphAhrzQKkl2GI6LqnrkCBCAQGw1rLIQRKoHwX0LshgXmkgEtSVVXLjMkowjx1VtM08dyTBin+WfpnEB0J/P3qbnV5ObDaExGBudy/1SRtB2fIOXfLB/u+X/5b27ZFHBljCijEAGsshjigM10RWEDvp1pbnoyrSQnUILk+KiRmAbWS+0YA897s8Le9YHP9wXl7wNcp4vfT4Xvod24yobC0cLpkAAAAAElFTkSuQmCC',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA9klEQVQ4T43TTaqDMBAH8P9s3rrLLpMz9ACKvIMo9h7mIoLeo0iWXT16g2TZ1aMn6JRRImIGakDQcX6Z8WPIe/+u6xpyDMOAsizhvUda+7hzDpSQJIUQYa1ZQTrp+4i2XeIKCkQgMBjWWg4hUIJynaFtQoL7kgLXSkVRrDumRJomcFVlrY7jyPMzaUiytYpfkQYPoRlOBK7m94BDaAsOoT34iogIzEtL23WoPRU55977G13Xrd+taZqsHBljMhRigDUWfezRmjZrMUPbvzrLBuZpUCslqCEZHxVJskBtybwRwHw1F/yd/vHz+sXzdMP5EXFXyRL8ACh8qrDioqtxAAAAAElFTkSuQmCC'\n    },\n    {\n        title: 'Duality - Part 2',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA9klEQVQ4T43TTaqDMBAH8P9s3rrLLpMz9ACKvIMo9h7mIoLeo0iWXT16g2TZ1aMn6JRRImIGakDQcX6Z8WPIe/+u6xpyDMOAsizhvUda+7hzDpSQJIUQYa1ZQTrp+4i2XeIKCkQgMBjWWg4hUIJynaFtQoL7kgLXSkVRrDumRJomcFVlrY7jyPMzaUiytYpfkQYPoRlOBK7m94BDaAsOoT34iogIzEtL23WoPRU55977G13Xrd+taZqsHBljMhRigDUWfezRmjZrMUPbvzrLBuZpUCslqCEZHxVJskBtybwRwHw1F/yd/vHz+sXzdMP5EXFXyRL8ACh8qrDioqtxAAAAAElFTkSuQmCC',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABBUlEQVQ4T3WTMU7FMAyGfy/Mb2RMzsABWiEO0qrco7lIpfYeCGVkQtwgGZkQJ3hGbuvwSIylSo3lz7/j2BRjvA7DAPnWdUXf94gxQq32hxBACklQShneuwLoz7JkTNPhN6BEBAKD4b3nlBLRK4Efj3MDSYBmVlAB9QtYlLquK8AvCOypK9u2jfc71ZAqqOItZ0J1STXYQDVQSj2bIec/kFWKBNWJWqWz3ZaC+uw7nSARgbnt3//dqxSb7oUQrvVbzPNcJmMcx0aOnHMNlHKCdx5LXjC5qXngBrqdamMg9m0wlRS0IFkfE5JgAS2TfSOA+dk94P3yhbvvJ3xeXnD/kfFmIofzB1iiwbAIh48yAAAAAElFTkSuQmCC'\n    },\n    {\n        title: 'Duality - Part 3',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=5&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA2ElEQVQ4T+WTMQ7CIBSGfxbnjo5wBg/QDh6kDd6jXISkvYcDo5PxBjA6GU9Q9KmQWl4XV19CAj/v4w/vgXDOTW3bgsYwDGiaBs45pFjqxhiIBFGS9wFKyQykibUBWr91BvIiJSqlovff6wKaJxRWH4EOyk51XWeHBJAQGXocx/i6Ewetuf0dJIRAjGX9fi+EMWZalrfv+9y3rusKOyGlLCAfPJRUsMFCS120rIDmr5prMO2zTgnkIPo+LETJBHJB/00AMR7kDufqhs19j2t1xPYScFp7fE/9Afu6l7CFHRZpAAAAAElFTkSuQmCC',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABCUlEQVQ4T4WTQWrEMAxFvzZdz7JL+ww9QELoQRLSe8QXCST3KMHLrkpvYC+7Kj3BqDgeuVPLUEEgFnr638Ii7/11HEekb9s29H0P7z0k6rxzDiRQKgohwlpTAPlZ14h5zvkGFIhAYDCstRxCIDoIPOSzglKBdBZQAMknsCh1XVeAAh4HeBiU1X3f+bxTDYmCKN6TTai2VIMKqoFfq3kYKf5ALSupqG6klW7jbilIrn2nG0hEYM6W/h3EaalSVJBz7lp3W5alvIxpmpQcGWMUFGKANRZrXDGbWVlU0P2rVtXAuQ1NJQFbUFqfJpSKE9iKtG8EML+YJ7xfvvDw/YzPyysePyLemkhO/gDt3cOwsTIpQgAAAABJRU5ErkJggg=='\n    },\n    {\n        title: 'Inversion',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=6&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA50lEQVQ4T+WTvQ3CMBCF3zXUlJT2DAyQKGKQRGGPeJFIyR4IuaRCbGCXVIgJcnABW4BNQ8tJluzn+3zy/ZC1dqrrGrKGYUBZlrDWItinbowBBUicnPPQWkUgbPreo20fegZyRPs9uKqgtWbn5EzgiudzAolDeJlAYDACEHQBY6SiKCIQQSIwz4+/2TiOPP8pByXeT+HvIElnmjvg90QYY6bP9HZdF+vWNE0SkJRSCeS8g1Yave/RqjYpWQK9dnWuwHKfjRTAHCTjk4XEWcCcybwRwLxVaxyXFyyuG5yXO6xOHodvzXfXb57horClTcRRAAAAAElFTkSuQmCC',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABBUlEQVQ4T5WTQW6DMBBF/2y6zrJL+ww9AAj1ICB6D9yDIME9qsjLrqLcwF52FeUEmWqcDKLYSZWRLPD4P38zg8l7f2nbFjKmaUJd1/DeQ2Obd86BFBJRCBHWmgXQl3GM6PtrvgAFov0e3DSw1nIIMidww2meQUkAAoOxPG+AOgq4OFVVRbqwAERgTpv/iXmeOX3TGhKFghkB4C6UxJ8EDE84bY+6dnzsdFNq9RT8F9oCAj6EtF9PV++uk3Pust1tGAbS6nVdl5WQjDEZFGKANRZjHNGbPmtXBq3/6lJzZb3opGAJkutThEQsYCnkvhHA/GHecNid8HJ+x8/uC6/HiO8ick3+AoXou7D68z0pAAAAAElFTkSuQmCC'\n    },\n    {\n        title: 'Termination',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=5&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA4UlEQVQ4T+2TvQ3DIBCF3zWpXaaEGTKAXWQQW2QPswiSvUcKylRRNoAyVZQJQnQkIMvgTJCTkPi57w7ucWStffV9Dx7TNKHrOlhrkWy9r7UGJYidnPOQUmQgTYzxUOqzX4EcEYAAQEoZnHO8jMbrAmIHAiFEpG4M5kxt2+aIKdMWOM9ziG9KEBEhhO1MHKiANu+1OPhD32LEQmitX+uqjeOYdRuGodCAhBAF5LyDFBLGGyihCiUKaPmra7rxeTVTAmsQt08VYmcGa8b9RkAIJ3HAtXlg9zzi3pyxv3lcfvypN5CJmrAwz4ssAAAAAElFTkSuQmCC',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA+0lEQVQ4T42TMQ7CMAxFvxdmRsbkDBygFeIgrco9motUau+BUEYmxA2SkQlxAoxclAiatGCpamL5+dt1TdbaZ1VVkKfve5RlCWstgk39xhhQgCTIOQ+tVQTCoes8mubtz0COCAAD0Fqzc06uo8k9gSSAQGAwwnsqKWBUKooiZgxKdCLwbkz+ZcMw8NhTgIgIzPNKQifQZ8q5EhchSZArcVnp355CeXMfYbanJSAL/QIiZIx5TmfRtm2cW13XybBIKZVAzjtopdH5Do1qkgEn0OdfnUQD4zZklQKYg2R9spAEC5gz2TcCmA9qi8v6jtVjj9v6iM3V45xF3s4XVp6ysMiYz1cAAAAASUVORK5CYII='\n    },\n    {\n        title: 'Fixed Ratio',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA7UlEQVQ4T+2TwQ3CMAxFvy+cOXJMZmCAVhWDtCp7NItUavdAKEdOiA2SIyfEBDVyq5S2icQCWIqU2H628hOTtXYoyxKyuq5Dnuew1iLY1m+MAQVIkpzz0FrNQNi0rUddT/4E5IgAMACtNTu3PkeQJITKdCVwwSAQeCwxmRSaO2VZtgCu4KKYE0Pn4Oj7nsc7LaHlhYgIzN9OEvsJRYr8oa8ko3rGmGGrUtM087tVVbXWHAAppSLIeQetNFrfolZ1pHwELX916p0knuwUwBQk45OEJFnAlMm8EcB8Vkfc9y/s3ic89xccHh63JDI5P9itobC3HYABAAAAAElFTkSuQmCC',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABC0lEQVQ4T5WTQW6EMAxFvzddz7LL5Aw9AAj1ICB6D3IRJLjHCGXZVdUbhGVXVU8wrpzBmRmSUaeWUMD8x7eFTd77U9u2kGuaJtR1De89NPZ55xxIIRGFsMJakwC9GccVfX/OF6BAtCzgpoG1lkMIRAAYiM8ZFAULgRtGOkFgMGg7BUxOVVWRvlAnLU2d9EPzPHPsSSARJVAdiMB8cRJNBkVQS9zA5Ljl7zpdSrvt6U+nDHzUaQ8+7PTvnu46OedO+7kZhiH+Aomu6+IkXAcZYzIorAHWWIzriN702Sxm0PVUZ2ogbkPRScESJOtThEQsYClk3whgfjMv+Dh84+nnFV+HI54/V7wXkXPyF3IV17Bm2pQJAAAAAElFTkSuQmCC'\n    },\n    {\n        title: 'Entanglement 1',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA5klEQVQ4T7WTMQ7CIBSG/7c4d3SEM3iANo0HaVPvUS7SpL2HaRidjDeA0cl4gqJowVqog1ESEnj8Hz8PeCSlHIqigO1t2yLLMkgp4do8LoQAOciKlNLgnHnADZpGo6qe8QikyAk550ap93kATQWB1RiwG3mnNE29gwOo72HyPOC7rjOPnGLQkttH6P9ORARjjD/dfP77nL66iI+QEGKYC+q69u9WluUrwVFIjLEAUlqBM45GN6hYFZgG0PRXx45o16NODoxBtnyikBVbMNZsvRFgzI5tcEwuWF23OCd7rE8ah6Xru8dvy9afsGA51/sAAAAASUVORK5CYII=',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABAElEQVQ4T42TQW6DMBBF/2yyzjJL+ww5AAj1ICB6D3wRJLhHhLzsquoN7GVXVU7AVENiEtmGZCRL2P5v/oyNyVo713UNGcMwoCxLWGsRIl43xoACJCLnPLRWKxA++t6jbW/rGcgRgcBgaK3ZOUcBlHkCPQsCGFsKuDoVRbFmDEKaJnBVJaWO48hLTzEUnHKOm5CkF2tpgiYCV0s7S2w73YVvOxERmB+Z4/lueckJvCpvC9jt6SVkjJljUdd16701TfNo8C4kpVQCOe+glUbve7SqTYwT6PmvzpUp+1mnAOYgeT5ZSMQC5kLeGwHMn+qM7+MfDtcP/B4vOP14fO0c4T+oKq2wqQvfrwAAAABJRU5ErkJggg=='\n    },\n    {\n        title: 'Entanglement 2',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=5&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA4ElEQVQ4T82TsQ3CMBBF/zXUKSntGRggUcQgicIe8SKRkj1Q5JIKsYFdUiEmyIEBRyF2KCgQlizZd/f872wfaa2HoijgZtu2yLIMWmv4MbcrpUAeckHGWEgpRsAvmsaiqp72CGTIB0op2Zj3fQBNAwKpl8EdNCqlaToqeID6HpznAd91HT9qikFLah+h3yl9ld6fQEqpYZ5KXddERGBmlGXJcz8JIQLIWAMpJBrboBJVUF4ATX917DKcP6rkwRjk2icKuWAHxobrNwKYd2KDY3LB6rrFOdljfbI4LD3U3X4Dc1KcsIyy8rcAAAAASUVORK5CYII=',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABFUlEQVQ4T42TQU7EMAxFvzesZ8kyOQMHaFVxkFblHg0HqZTeA1VZskLcIJHYzApxgjFyaTIlyQgiRXVcP9v5isk5d+n7HrKttWjbFs45xJX7jTGgCEmQ9wFaqwREY54DxvHHX4E8EQgMhtaavf99LiAJiJkjmJ8lUarUNE0CUuC6grsutUorgTvGsiy83SmHYqX03QHJcBOSn1KaxXgmYNqsbd2uFDPvwPGOVShvKW/170p7S8dE9sOWQuRyX9X8p3o5kIQwxlzydzNNExERmBnDMFyli+0qpQrIBw+tNOYwY1Rj8RYph46vuogGtmkoIAmMYA2S8alCEaxBMm8EMD+pB7ydPnH39Yjz6QX37wGvNWL3fQMsLs6wIeiFNAAAAABJRU5ErkJggg=='\n    },\n    {\n        title: 'Symbiosis',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=5&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA4ElEQVQ4T82TsQ3CMBBF/zXUKSntGRggUcQgicIe8SKRkj1Q5JIKsYFdUiEmyIEBRyF2KCgQlizZd/f872wfaa2HoijgZtu2yLIMWmv4MbcrpUAeckHGWEgpRsAvmsaiqp72CGTIB0op2Zj3fQBNAwKpl8EdNCqlaToqeID6HpznAd91HT9qikFLah+h3yl9ld6fQEqpYZ5KXddERGBmlGXJcz8JIQLIWAMpJBrboBJVUF4ATX917DKcP6rkwRjk2icKuWAHxobrNwKYd2KDY3LB6rrFOdljfbI4LD3U3X4Dc1KcsIyy8rcAAAAASUVORK5CYII=',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAABFklEQVQ4T42TQW7DIBBF/2y6zjJLOEMPYKvqQWw59zA5iCV8jypi2VXVG4DUTVdVTpCpsA0mQKoiWTb4v/kDzJAx5tZ1HfyjtUbbtjDGIIx8XSkFCpAXWesgpYhA+Jgmh2FY1yuQJQKBwZBSsrX38wLyghA5gPncB4pOTdNEYBcCnCQaAs3zzMuecoguBH5hhHcMdCHoL11CEUDmtAUqnEIKO7geSupYTS8/BJwJGPfd/XtPaaA/nYpD2O7vsdMmyEvDO+pZMymlbvnPcRyJiMDM6Ps+va5FSkKIArLOQgqJyU0YxFDUYgGlVV2ogaUbqk4BrEG+faqQF3uwNny/EcB8Es/4OPzg6fqK78Mbjp8O71VkXfwFFkXOsB9vFDIAAAAASUVORK5CYII='\n    },\n    {\n        title: 'Quantum Number',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=9&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA4klEQVQ4T92T0Q2DIBCG/9vAEWCGDqAPHURj95BFSHSPPjBB4wawQJtOIM1pjzSCaZ97CQGO++6HA8g5t7RtC27jOKJpGjjnILb3G2NAAnGQ9wFaqwTIwNqAvt/8BcgTAYgAtNbRe8/T1XieQRxAIERESL+XZDAp1XWdMopStse3Y5qmuJ5JoG9KzGUQO/9TaSv7z9WTwKN7StUzxiz7rMMwpHvrui6TJaVUBvngoZWGDRa96rOdZtDnqy6di9eLSgKWIP4+RYiDGSwZ/zcCYryoE27VA/Q8415dUc0B82HRgRc9pquwSdFDswAAAABJRU5ErkJggg==',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA60lEQVQ4T92T0QnCMBCG/wMH6AjJDA7QIg7SUvdoFim0e4hkAukGybMP4gRGLvWKNhF99qAkOe7LT+/PkbX2Xtc1+BuGAVVVwVoLiXXeGAMSiIuc89BaLYBs+t6jbed8BnJEAAIArXVwzvExBp8TiAsIhIAAWdeSDC5KZVkuN4oSnQhhFy9/i3EcQ/wngb4pMZ1AnPxPpWfbf+2e9PaTT0v3jDH3tRdd15H41DRNYhYppRLIeQetNHrfo1VtYnACvb7qpBqI05BVEjAH8fhkIS5mMBc8bwSEcFBbnIsrNrc9LsURxeQxZZE5+QCaZbqwQfWa3QAAAABJRU5ErkJggg=='\n    },\n    {\n        title: 'Depletion',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA5klEQVQ4T92TQQ7CIBBF/2xcd+kSzuAB2jQepE29R7lIk/YepmHpyngDWLoynqCYUacxBTVunYQAwzz+MABZa6eqqsCt73sURQFrLcSWfmMMSCAOcs5DazUDMug6j6Z5+BOQIxpHhLKE1jo450hAnkcQB9BICGWA9EtJBmelPM/nHUUpyvHpGIYh3M8k0Dcl5iKInf+p9Cj7z9V7S0j1jDHTMqht2/ne6rqOZEkpFUHOO2il0fkOjWoi4Qh6fdWpNHk9qSRgCuLvk4Q4mMGU8X8jIISd2uCYXbC6bnHO9lifPA4fSngDfM+9sJ3eWAkAAAAASUVORK5CYII=',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA8klEQVQ4T72TQQrCMBBF/2xcu3SZnMEDtBQP0lLv0Vyk0N5DSpauxBskS1fiCRoZa4o2aUUQB0rS5D9+5pOQ1rrP8xz8NU2DNE2htYav6bpSCuQhFhljIaUYAT+pa4uyHNYjkCHqOrgsg5TSGWPIg/wfQCygjuAyBz9OLRkcnZIkIQLBgYHBaa7atnWPnhhi0Scn1rxBoxOAx+Fn6odO/+vpGfvXPS3kMKSnlOqnoqqqxptQFEUQJgkhAshYAykkalujFGVgHECvtzp2TN6POnkwBvHziUIsZjBW/N4IcG4vtjitr1jddrisD9icLY4LEd4BdMLDsGv+MHMAAAAASUVORK5CYII='\n    },\n    {\n        title: 'Tetrad',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=5&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA8klEQVQ4T72TQQ6CMBBF/2xcu3TZnsEDQIgHgeA96EVI4B6GdOnKeIN26cp4AseMWqK06MLESQil/S+/v3TIWnstyxLydF2HPM9hrUWo6bwxBhQgETnnobUagTBoW4+6fswnIEc0DOCigNaanXMUQPmOIBHQQOCCEd5TSwFHpyzLiEBgCPBwmqu+7/meSSARfXMSzRv0uxMRmO+5o0o6zYZ5Lsxm+gT+2ckYc51up2ma8SZUVRWdCCmlIsh5B600Wt+iVnUUMYJeb3XqQGQ96RTAFCTtk4RELGCqpN8IYN6qNQ7LMxaXDU7LHVZHj/2Hn3UDQyW8sK40Y8sAAAAASUVORK5CYII=',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA8klEQVQ4T72TQQ6CMBBF/2xcu3TZnsEDQIgHgeA96EVI4B6GdOnKeIN26cp4AseMWqK06MLESQil/S+/v3TIWnstyxLydF2HPM9hrUWo6bwxBhQgETnnobUagTBoW4+6fswnIEc0DOCigNaanXMUQPmOIBHQQOCCEd5TSwFHpyzLiEBgCPBwmqu+7/meSSARfXMSzRv0uxMRmO+5o0o6zYZ5Lsxm+gT+2ckYc51up2ma8SZUVRWdCCmlIsh5B600Wt+iVnUUMYJeb3XqQGQ96RTAFCTtk4RELGCqpN8IYN6qNQ7LMxaXDU7LHVZHj/2Hn3UDQyW8sK40Y8sAAAAASUVORK5CYII='\n    },\n    {\n        title: 'Ennead',\n        start: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=1&pt=6&sp=1.5&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA3UlEQVQ4T9WT/QnDIBDFn3SBjKAzZICETJKQ7hEXEZI9SnCCkg10gXaEWC6tIlGh9L8eCHq+n8/zg2mt977vQW2eZ7RtC601fJzzUkowD5HIGAsheAB8RymLcXznM5BhDIADIIRwxhgaHkHjBIoFiVUEBqemacKKbF3huq7EYVkWd9QUQ0X1ZyIL+ZpK8D86/XQQX0FSyv0snKYp3NswDMdLiINxzhPIWAPBBZRVGPmYmCdQ/KpzW6X5rJMHcxB9nyxEYgJzQf+NAc5deY179YS7APWjwq3aYLfyOb4ApMGZsJsk7bgAAAAASUVORK5CYII=',\n        solution: 'https://jessecrossen.github.io/ttsim/#s=13,17&z=32&cc=6&cr=8&t=3&sp=1.5&sc=0&b=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA6klEQVQ4T9WT4Q2DIBCF36ULOALM0AE0TqKxe8giJrpHY5igcQNYoB3Ba06LaQXb372EAMf78rgLkLV2rqoKMvq+R1EUsNYixD5vjAEFSETOeWitNiAsus6jadZ8AnJE4wguS2it2TlHAZR9BImARgKXjDDvLQXcnPI8JwKBIcDqdBTDMPBSk0Ai+uUkmg/on5yIwLx0OIpkTYdtex0cdu8buEDGmHkvatt2ewl1XUf3JKVUBDnvoJVG5zs0qomMI+j9VaeuKedJpwCmIPk+SUjEAqZC/hsBzBd1xi17gE/A+Z7hmk3w03EPn4ROwrAsPIfPAAAAAElFTkSuQmCC'\n    }\n    // , {\n    //     title: 'Gravity',\n    //     start: 'xxxxxxx',\n    //     solution: 'xxxxxxx'\n    // }     \n]\n\nexport default challenges;","import TuringTumble from \"./TuringTumble\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/computation/turingTumble\",\n  title: \"Turing Tumble\",\n  description:\n    \"Solutions and Assistance with the Turing Tumble challenges, using the online simulator\",\n  component: TuringTumble,\n};\n","import React from 'react';\n\nimport challenges from './challenges';\n\nconst TuringTumble: React.FunctionComponent = () => {\n\n    return <table className='table table-bordered table-striped'>\n        <thead>\n            <tr>\n                <th>Number</th>\n                <th>Name</th>\n                <th>Starting Position</th>\n                <th>Solution</th>\n            </tr>\n        </thead>\n        <tbody>\n            {challenges.map((challenge, i) => (<tr key={i}>\n                <td>{i}</td>\n                <td>{challenge.title}</td>\n                <td><a href={challenge.start} rel='noreferrer' target='_blank'>Attempt</a></td>\n                <td><a href={challenge.solution} rel='noreferrer' target='_blank'>Solution</a></td>\n            </tr>))}\n        </tbody>\n    </table>\n}\n\nexport default TuringTumble;","import { HumanResourceMachineChallenge } from \"./types\";\n\nconst challenges: HumanResourceMachineChallenge[] = [\n    {\n        title: 'Mail Room',\n        description: 'Your program should tell the worker to grab each thing from the INBOX and drop it in the OUTBOX',\n        solution: `-- HUMAN RESOURCE MACHINE PROGRAM --\n        INBOX   \n        OUTBOX  \n        INBOX   \n        OUTBOX  \n        INBOX   \n        OUTBOX  \n    `\n    }\n    , {\n        title: 'Busy Mail Room',\n        description: 'Grab each thing from the INBOX, and drop it into the OUTBOX',\n        solution: `-- HUMAN RESOURCE MACHINE PROGRAM --\n\n        a:\n            INBOX   \n            OUTBOX  \n            JUMP     a        \n        `\n    }, {\n        title: \"Copy Floor\",\n        description: `Ignore the INBOX for now, send the following 3 items to the OUTBOX\\n\\nB U G`,\n        solution: `-- HUMAN RESOURCE MACHINE PROGRAM --\n\n        COPYFROM 4\n        OUTBOX  \n        COPYFROM 0\n        OUTBOX  \n        COPYFROM 3\n        OUTBOX  \n    `\n    }\n    // ,{\n    //     title: '',\n    //     description: '',\n    //     solution: ``\n    // }\n]\n\nexport default challenges;","import cogoToast from 'cogo-toast';\nimport React from 'react';\nimport Button from '../../../Bootstrap/Buttons/Button';\n\nimport challenges from './challenges';\n\nimport './hrm.css'\nimport { HumanResourceMachineChallenge } from './types';\n\ninterface ChallengeWithCopyHandler extends HumanResourceMachineChallenge {\n    onCopy: () => void;\n    challengeId: string;\n}\n\nconst getChallengeTextAreaId = (i: number) => `txtHrmChallenge${i}`\n\nconst HumanResourceMachine: React.FunctionComponent = () => {\n    const challengesWithCopy: ChallengeWithCopyHandler[] = React.useMemo(() => challenges.map((challenge, i) => ({\n        ...challenge,\n        challengeId: getChallengeTextAreaId(i),\n        onCopy: () => {\n            /* Get the text field */\n            var copyText: HTMLTextAreaElement = document.getElementById(getChallengeTextAreaId(i)) as HTMLTextAreaElement;\n\n            /* Select the text field */\n            copyText.select();\n            copyText.setSelectionRange(0, 99999); /* For mobile devices */\n\n            /* Copy the text inside the text field */\n            document.execCommand(\"copy\");\n\n            /* Alert the copied text */\n            cogoToast.info(`Copied HRM Solution to Clipboard for ${challenge.title}`)\n        }\n    })), [])\n\n    return <table className='table table-bordered table-striped'>\n        <thead>\n            <tr>\n                <th>Name</th>\n                <th>Starting Position</th>\n                <th className='hrm-solution-column'>Solution</th>\n                <th>Copy</th>\n            </tr>\n        </thead>\n        <tbody>\n            {challengesWithCopy.map((challenge, i) => (<tr key={i}>\n                <td>{challenge.title}</td>\n                <td>{challenge.description}</td>\n                <td className='hrm-solution-cell'>\n                    <textarea id={challenge.challengeId} rows={challenge.solution.split('\\n').length} readOnly value={challenge.solution}></textarea>\n                </td>\n                <td><Button text='copy' onClick={challenge.onCopy} styleType='light' /></td>\n            </tr>))}\n        </tbody>\n    </table>\n}\n\nexport default HumanResourceMachine;","import HumanResourceMachine from \"./HumanResourceMachine\";\nimport { Page } from \"../../../../types\";\n\nexport const page: Page = {\n  href: \"/computerScience/computation/humanResourceMachine\",\n  title: \"Human Resource Machine\",\n  description:\n    \"Solutions and Code Testing for the Human Resource Machine Assembly Language\",\n  component: HumanResourceMachine,\n};\n","import { generateRandomNumber } from \"../../common\";\nclass Perceptron {\n    constructor(size, activationFunction, learningConstant = 0.1) {\n        this.weights = Array(size).fill(null).map(() => generateRandomNumber(-1, +1));\n        this.activationFunction = activationFunction;\n        this.learningConstant = learningConstant;\n    }\n    feedForward(inputs) {\n        if (inputs.length !== this.weights.length)\n            throw new Error(`Input Size ${inputs.length} does not match Perceptrons Weights ${this.weights.length}`);\n        return this.activationFunction(inputs.map((x, i) => x * this.weights[i]).reduce((acc, curr) => acc + curr, 0));\n    }\n    train({ inputs, desired }) {\n        const guess = this.feedForward(inputs);\n        const error = desired - guess;\n        for (let i = 0; i < this.weights.length; i++) {\n            this.weights[i] += this.learningConstant * error * inputs[i];\n        }\n    }\n}\nexport default Perceptron;\n//# sourceMappingURL=Perceptron.js.map","export const signActivationFn = (a) => a > 0 ? +1 : -1;\n//# sourceMappingURL=activationFunctions.js.map","import { generateRandomNumber } from '../../common';\nimport { signActivationFn } from './activationFunctions';\nexport const coordinateTester = (width, height, m, c) => {\n    return () => {\n        const inputs = [\n            generateRandomNumber(0, width),\n            generateRandomNumber(0, height),\n            1 // bias\n        ];\n        const y = m * inputs[0] + c;\n        return {\n            inputs,\n            desired: signActivationFn(inputs[1] - y)\n        };\n    };\n};\n//# sourceMappingURL=trainingTests.js.map","import { AbstractSketch } from \"../../../p5/useSketch\";\r\nimport Perceptron from '@comp-sci-maths/lib/dist/computation/neuralNetwork/Perceptron';\r\nimport { coordinateTester } from '@comp-sci-maths/lib/dist/computation/neuralNetwork/trainingTests';\r\nimport { signActivationFn } from '@comp-sci-maths/lib/dist/computation/neuralNetwork/activationFunctions';\r\nimport p5 from \"p5\";\r\nimport TrainingTest, { TrainingTestGenerator } from \"@comp-sci-maths/lib/dist/computation/neuralNetwork/TrainingTest\";\r\nimport { Queue } from \"@comp-sci-maths/lib/dist\";\r\n\r\nconst WIDTH = 600;\r\nconst HEIGHT = 600;\r\nconst BLOB_RADIUS = 5;\r\nconst TRAINING_HISTORY_SIZE = 100;\r\n\r\nconst LINE_M = 2;\r\nconst LINE_C = -10;\r\nconst INPUT_SIZE = 3;\r\nconst BIAS = 1;\r\n\r\nexport interface Config {\r\n    lineM: number;\r\n    lineC: number;\r\n    showTraining: boolean;\r\n}\r\n\r\nconst getDefaultConfig = (): Config => ({\r\n    lineM: LINE_M,\r\n    lineC: LINE_C,\r\n    showTraining: true\r\n});\r\n\r\nexport class LineDetectionSketch extends AbstractSketch<Config> {\r\n    perceptron: Perceptron;\r\n    testGenerator: TrainingTestGenerator;\r\n\r\n    constructor() {\r\n        super(getDefaultConfig());\r\n\r\n        this.testGenerator = coordinateTester(WIDTH, HEIGHT, this.config.lineM, this.config.lineC);\r\n        this.perceptron = new Perceptron(INPUT_SIZE, signActivationFn);\r\n    }\r\n\r\n    setConfig(config: Config) {\r\n        super.setConfig(config);\r\n        this.testGenerator = coordinateTester(WIDTH, HEIGHT, this.config.lineM, this.config.lineC);\r\n    }\r\n\r\n    sketch(s: p5) {\r\n        const that = this;\r\n        let points: p5.Vector[];\r\n        const testQueue: Queue<TrainingTest> = new Queue<TrainingTest>();\r\n\r\n        s.setup = function () {\r\n            s.createCanvas(WIDTH, HEIGHT);\r\n            s.colorMode(s.HSB, 255);\r\n            s.textFont(\"Helvetica\", 18);\r\n\r\n            points = Array(100).fill(null).map(() => that.testGenerator()).map(({ inputs: [x, y] }) => s.createVector(x, y));\r\n        };\r\n\r\n        s.draw = function () {\r\n            s.background(220);\r\n\r\n            const lineFrom = s.createVector(0, that.config.lineC);\r\n            const lineTo = s.createVector(s.width, s.width * that.config.lineM + that.config.lineC);\r\n\r\n            const trainingData = that.testGenerator();\r\n            that.perceptron.train(trainingData);\r\n\r\n            testQueue.push(trainingData);\r\n            while (testQueue.size() > TRAINING_HISTORY_SIZE) {\r\n                testQueue.pop();\r\n            }\r\n\r\n            s.stroke('black');\r\n            s.strokeWeight(1);\r\n            s.line(lineFrom.x, lineFrom.y, lineTo.x, lineTo.y);\r\n\r\n            s.strokeWeight(BLOB_RADIUS);\r\n            points.forEach(({ x, y }) => {\r\n                const actual = that.perceptron.feedForward([x, y, BIAS]);\r\n                s.stroke(actual > 0 ? 'blue' : 'red');\r\n                s.point(x, y);\r\n            });\r\n\r\n            if (that.config.showTraining) {\r\n                s.stroke('green');\r\n                for (const i of testQueue.items) {\r\n                    const { inputs: [x, y] } = i;\r\n                    s.point(x, y)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\nexport default LineDetectionSketch;","import React from \"react\";\nimport { Page } from \"../../types\";\n\nimport { page as binaryTreeTraversalPage } from \"./Algorithms/BinaryTreeTraversal\";\nimport { page as graphTraversalPage } from \"./Algorithms/GraphTraversal\";\nimport { page as graphTraversalInteractivePage } from \"./Algorithms/GraphTraversal/Interactive\";\nimport { page as pageRankPage } from \"./Algorithms/PageRank\";\nimport { page as routingGridPage } from \"./Algorithms/Routing/GridRouting\";\nimport { page as routingGraphPage } from \"./Algorithms/Routing/GraphRouting\";\nimport { page as searchPage } from \"./Algorithms/Search\";\nimport { page as sortingPage } from \"./Algorithms/Sorting\";\nimport {\n  page1 as bigONotationMeasurePage,\n  page2 as bigONotationComparePage,\n} from \"./Algorithms/BigONotation\";\n\nimport { page as binaryTreePage } from \"./DataStructures/BinaryTreeComponent\";\nimport { page as graphPage } from \"./DataStructures/GraphManager\";\nimport { page as linkedListPage } from \"./DataStructures/LinkedList\";\nimport { page as stackPage } from \"./DataStructures/StackComponent\";\nimport { queuePage, priorityQueuePage } from \"./DataStructures/QueueComponent\";\n\nimport { page as soundPage } from \"./DataRepresentation/Sound\";\nimport { page as bitmapImagesPage } from \"./DataRepresentation/Images\";\nimport { page as asciiTextPage } from \"./DataRepresentation/AsciiText\";\nimport { page as numberBases } from \"./DataRepresentation/Numbers\";\n\nimport { page as hackCpuSimulator } from \"./Computation/HackCpu\";\nimport { page as nand } from \"./Computation/NandComponent\";\nimport { page as programManager } from \"./Computation/ProgramManager\";\nimport { page as turingTumble } from \"./Computation/TuringTumble\";\nimport { page as hrm } from \"./Computation/HumanResourceMachine\";\nimport { page as neuralNetworks } from \"./Computation/NeuralNetworks\";\n\nimport CardCollection from \"../Bootstrap/CardCollection\";\n\nconst algorithmPages = [\n  binaryTreeTraversalPage,\n  graphTraversalPage,\n  graphTraversalInteractivePage,\n  pageRankPage,\n  routingGraphPage,\n  routingGridPage,\n  searchPage,\n  sortingPage,\n  bigONotationMeasurePage,\n  bigONotationComparePage,\n];\n\nconst dataStructurePages = [\n  binaryTreePage,\n  graphPage,\n  stackPage,\n  queuePage,\n  priorityQueuePage,\n  linkedListPage,\n];\n\nconst dataRepresentationPages = [\n  numberBases,\n  soundPage,\n  bitmapImagesPage,\n  asciiTextPage,\n];\n\nconst computationPages = [\n  hackCpuSimulator,\n  nand,\n  programManager,\n  turingTumble,\n  hrm,\n  neuralNetworks\n];\n\nconst ComputerScience: React.FunctionComponent = () => (\n  <div>\n    <h2>Algorithms</h2>\n    <CardCollection cards={algorithmPages} />\n\n    <h2>Data Structures</h2>\n    <CardCollection cards={dataStructurePages} />\n\n    <h2>Data Representation</h2>\n    <CardCollection cards={dataRepresentationPages} />\n\n    <h2>Theory of Computation</h2>\n    <CardCollection cards={computationPages} />\n  </div>\n);\n\nexport const page: Page = {\n  href: \"/computerScience\",\n  title: \"Computer Science\",\n  description:\n    \"Explore KS4 and KS5 Computer Science Algorithms and Data Structures\",\n  component: ComputerScience,\n};\n\nexport const pages: Page[] = [\n  page,\n  ...algorithmPages,\n  ...dataStructurePages,\n  ...dataRepresentationPages,\n  ...computationPages,\n];\n\nexport default ComputerScience;\n","import NeuralNetwork from \"./NeuralNetwork\";\r\nimport { Page } from \"../../../../types\";\r\n\r\nexport const page: Page = {\r\n    href: \"/computerScience/computation/neuralNetwork\",\r\n    title: \"Neural Network\",\r\n    description:\r\n        \"Show how Neural Networks can be trained\",\r\n    component: NeuralNetwork,\r\n};\r\n","import React from 'react';\r\nimport useSketch from '../../../p5/useSketch';\r\nimport LineDetectionSketch from './LineDetectionSketch';\r\n\r\nconst NeuralNetwork: React.FunctionComponent = () => {\r\n    const { config: { lineM, lineC, showTraining }, updateConfig, onBooleanConfigChange, refContainer } = useSketch(LineDetectionSketch);\r\n\r\n    const onLineMChange = React.useCallback(({ target: { value } }) => {\r\n        updateConfig({\r\n            lineM: parseFloat(value)\r\n        })\r\n    }, [updateConfig]);\r\n\r\n    const onLineCChange = React.useCallback(({ target: { value } }) => {\r\n        updateConfig({\r\n            lineC: parseFloat(value)\r\n        })\r\n    }, [updateConfig]);\r\n\r\n    const onShowTrainingChange = React.useMemo(\r\n        () => onBooleanConfigChange(\"showTraining\"),\r\n        [onBooleanConfigChange]\r\n    );\r\n\r\n    return <div>\r\n        <div ref={refContainer} />\r\n\r\n        <div className='form-group'>\r\n            <label>Line Gradient (m)</label>\r\n            <input className='form-control' type='number' step=\"0.1\" value={lineM} onChange={onLineMChange} />\r\n        </div>\r\n        <div className='form-group'>\r\n            <label>Line y-intercept (c)</label>\r\n            <input className='form-control' type='number' value={lineC} onChange={onLineCChange} />\r\n        </div>\r\n        <div className=\"form-check form-check-inline\">\r\n            <input\r\n                className=\"form-check-input\"\r\n                type=\"checkbox\"\r\n                checked={showTraining}\r\n                onChange={onShowTrainingChange} />\r\n            <label className=\"form-check-label\">Show Training Data</label>\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default NeuralNetwork;","/**\n * This function uses the mod operator to check if a number is divisible.\n * It will be used to verify the results of the more 'digit exploration' based techniques\n * in the other functions.\n *\n * @param value The value to check\n * @param divisor The divisor we are checking aginst\n * @returns boolean to indicate if value can be divided with no remainder\n */\nexport function isDivisibleBy(value, divisor) {\n    return value % divisor === 0;\n}\n/**\n * Tests if a number is prime by successively attempting to divide it by\n * all the numbers from 2 to the square root of the given number.\n *\n * @param value The value to check\n * @returns boolean to indicate if prime\n */\nexport function isPrime(value) {\n    // Calculate the square root, any factors will exist below this value\n    // Round up so we include the square root...\n    const sqRoot = Math.ceil(Math.sqrt(value));\n    // From 2 up to the square root, check for divisibility\n    for (let i = 2; i <= sqRoot; i++) {\n        if (isDivisibleBy(value, i)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Given a numerical value, it deconstructs the number into an array of discrete digits.\n *\n * @param value The value to deconstruct\n * @param radix The radix to use in the representation, defaults to 10\n * @returns The list of digits (as numbers)\n */\nexport function getDigits(value, radix = 10) {\n    if (value < 0) {\n        return [];\n    }\n    const asStr = value.toString(radix);\n    const digits = [];\n    for (const c of asStr) {\n        digits.push(c);\n    }\n    return digits.map((c) => parseInt(c, radix));\n}\n/**\n * Examines a number to determine if it is divisible by 2\n * Uses the algorithm students are expected to be familiar with in KS3\n *\n * @param value The value to examine\n * @param report A callback for textual descriptions of the steps\n */\nexport function dividesBy2(value, report) {\n    report(`Is ${value} divisible by 2?`);\n    const digits = getDigits(value);\n    const lsd = digits[digits.length - 1];\n    const isDiv = [8, 6, 4, 2, 0].includes(lsd);\n    const isDivMod = isDivisibleBy(value, 2);\n    report(`Least Significant Digit is ${lsd}, divisible by 2?: ${isDiv}, Agrees with mod? ${isDiv === isDivMod}`);\n    return isDiv;\n}\n/**\n * Examines a number to determine if it is divisible by 3\n * Uses the algorithm students are expected to be familiar with in KS3\n *\n * @param value The value to examine\n * @param report A callback for textual descriptions of the steps\n */\nexport function dividesBy3(value, report) {\n    report(`Is ${value} divisible by 3?`);\n    let currentValue = value;\n    let digits = getDigits(currentValue);\n    while (digits.length > 1 && currentValue > 0) {\n        currentValue = digits.reduce((acc, curr) => acc + curr, 0);\n        report(`Digits ${digits.join(\", \")} add up to ${currentValue}`);\n        digits = getDigits(currentValue);\n    }\n    const isDiv = [9, 6, 3, 0].includes(currentValue);\n    const isDivMod = isDivisibleBy(value, 3);\n    report(`Finished on Value ${currentValue}, divisible by 3?: ${isDiv}, Agrees with mod? ${isDiv === isDivMod}`);\n    return isDiv;\n}\n/**\n * Examines a number to determine if it is divisible by 5\n * Uses the algorithm students are expected to be familiar with in KS3\n *\n * @param value The value to examine\n * @param report A callback for textual descriptions of the steps\n */\nexport function dividesBy5(value, report) {\n    report(`Is ${value} divisible by 5?`);\n    const digits = getDigits(value);\n    const lsd = digits[digits.length - 1]; // Least Significant Digit\n    const isDiv = [5, 0].includes(lsd);\n    const isDivMod = isDivisibleBy(value, 5);\n    report(`Least Significant Digit is ${lsd}, divisible by 5?: ${isDiv}, Agrees with mod? ${isDiv === isDivMod}`);\n    return isDiv;\n}\nexport function dividesBy6(value, report) {\n    report(`Check if ${value} is divisible by 2`);\n    const isDivBy2 = dividesBy2(value, report);\n    report(`Check if ${value} is divisible by 3`);\n    const isDivBy3 = dividesBy3(value, report);\n    const isDivMod = isDivisibleBy(value, 6);\n    const isDiv = isDivBy2 && isDivBy3;\n    report(`${value} is divisible by 6 ${isDivMod} if divisible by 2 ${isDivBy2} and 3 ${isDivBy3} = ${isDiv}`);\n    return isDiv;\n}\n/**\n * Examines a number to determine if it is divisible by 7\n * Uses the algorithm students are expected to be familiar with in KS3\n *\n * @param value The value to examine\n * @param report A callback for textual descriptions of the steps\n */\nexport function dividesBy7(value, report) {\n    report(`Is ${value} divisible by 7?`);\n    let currentValue = value;\n    let digits = getDigits(currentValue);\n    while (digits.length > 2 && currentValue > 0) {\n        const lsd = digits[digits.length - 1];\n        const msds = Math.floor(currentValue / 10); // lops off the last digit\n        report(`${currentValue}, Double ${lsd} is ${lsd * 2}, ${msds} - ${lsd * 2} = ${msds - lsd * 2}`);\n        currentValue = msds - lsd * 2;\n        digits = getDigits(currentValue);\n    }\n    const isDiv = isDivisibleBy(currentValue, 7);\n    const isDivMod = isDivisibleBy(value, 7);\n    report(`Finished on Value ${currentValue}, divisible by 7?: ${isDiv}, Agrees with mod? ${isDiv === isDivMod}`);\n    return isDiv;\n}\n// Subtract the last digit from the rest. The result must be divisible by 11.\n/**\n * Examines a number to determine if it is divisible by 7\n * Uses the algorithm students are expected to be familiar with in KS3\n *\n * @param value The value to examine\n * @param report A callback for textual descriptions of the steps\n */\nexport function dividesBy11(value, report) {\n    report(`Is ${value} divisible by 11?`);\n    let currentValue = value;\n    let digits = getDigits(currentValue);\n    while (digits.length > 2 && currentValue > 0) {\n        const lsd = digits[digits.length - 1];\n        const msds = Math.floor(currentValue / 10); // lops off the last digit\n        report(`${currentValue}, ${msds} - ${lsd} = ${msds - lsd}`);\n        currentValue = msds - lsd;\n        digits = getDigits(currentValue);\n    }\n    const isDiv = isDivisibleBy(currentValue, 11);\n    const isDivMod = isDivisibleBy(value, 11);\n    report(`Finished on Value ${currentValue}, divisible by 11?: ${isDiv}, Agrees with mod? ${isDiv === isDivMod}`);\n    return isDiv;\n}\nexport const defaultNamedDivisibilityRule = {\n    factor: 1,\n    explanation: [\"Default divisibility by 1\"],\n    rule: (v, reporter) => {\n        reporter(\"Everything is divisible by 1\");\n        return true;\n    },\n};\nexport const divisibilityRules = [\n    {\n        factor: 2,\n        explanation: [\"Last digit is even\"],\n        rule: dividesBy2,\n    },\n    {\n        factor: 3,\n        explanation: [\n            \"Sum all the digits\",\n            \"is result divisible by 3?\",\n            \"Repeat until down to a single digit number\",\n        ],\n        rule: dividesBy3,\n    },\n    {\n        factor: 6,\n        explanation: [\"Divisible by 2 and 3\"],\n        rule: dividesBy6,\n    },\n    {\n        factor: 5,\n        explanation: [\"Last digit is 0 or 5\"],\n        rule: dividesBy5,\n    },\n    {\n        factor: 7,\n        explanation: [\n            \"Take off least significant digit (lsd)\",\n            \"Calculate remaining number - 2 * lsd\",\n            \"repeat until 2 digit number\",\n            \"if divisible by 7 then original number is divisible by 7\",\n        ],\n        rule: dividesBy7,\n    },\n    {\n        factor: 11,\n        explanation: [\n            \"Take off least significant digit (lsd)\",\n            \"Subtract from what remains\",\n            \"Repeat until 2 digit number\",\n            \"if divisible by 11 then original number is divisible by 11\",\n        ],\n        rule: dividesBy11,\n    },\n];\n//# sourceMappingURL=divisibilityRules.js.map","import React from \"react\";\n\nimport {\n  divisibilityRules,\n  defaultNamedDivisibilityRule,\n} from \"@comp-sci-maths/lib/dist/maths/primeNumbers/divisibilityRules\";\nimport { ControlledInput } from \"../../../types\";\nimport { NamedDivisibilityRule } from \"@comp-sci-maths/lib/dist/types\";\n\ninterface Props extends ControlledInput<NamedDivisibilityRule> {\n  className?: string;\n}\n\nconst DivisibilityRulePicker: React.FunctionComponent<Props> = ({\n  value,\n  onChange,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) =>\n      onChange(\n        divisibilityRules.find(({ factor }) => factor.toString(10) === value) ||\n        defaultNamedDivisibilityRule\n      ),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(divisibilityRules[0]), [onChange]);\n\n  return (\n    <select\n      className={className}\n      onChange={onSelectChange}\n      value={value && value.factor}\n    >\n      <option />\n      {divisibilityRules.map(({ factor }) => (\n        <option key={factor} value={factor}>\n          {factor}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  divisibilityRule: NamedDivisibilityRule;\n  componentProps: Props;\n}\n\nexport const useDivisibilityRulePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<NamedDivisibilityRule | undefined>(\n    undefined\n  );\n\n  return {\n    divisibilityRule: value || defaultNamedDivisibilityRule,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default DivisibilityRulePicker;\n","import React from \"react\";\nimport { NamedDivisibilityRule } from \"@comp-sci-maths/lib/dist/types\";\nimport {\n  defaultNamedDivisibilityRule,\n  isDivisibleBy,\n} from \"@comp-sci-maths/lib/dist/maths/primeNumbers/divisibilityRules\";\n\ninterface Props {\n  divisibilityRule?: NamedDivisibilityRule;\n  value: number;\n}\n\ninterface UseDivisibilityRule {\n  isDivisible: boolean;\n  logLines: string[];\n}\n\nconst useDivisibilityRule = ({\n  divisibilityRule: { factor, rule } = defaultNamedDivisibilityRule,\n  value,\n}: Props): UseDivisibilityRule => {\n  return React.useMemo(() => {\n    const logLines: string[] = [];\n\n    rule(value, (d) => logLines.push(d));\n\n    return {\n      isDivisible: isDivisibleBy(value, factor),\n      logLines,\n    };\n  }, [factor, rule, value]);\n};\n\nexport default useDivisibilityRule;\n","import React from \"react\";\n\nimport DivisibilityRulePicker, {\n  useDivisibilityRulePicker,\n} from \"./DivisibilityRulePicker\";\nimport useDivisibilityRule from \"./useDivisibilityRule\";\n\nconst Divisibility: React.FunctionComponent = () => {\n  const {\n    divisibilityRule,\n    componentProps: rulePickerProps,\n  } = useDivisibilityRulePicker(\"form-control\");\n  const [value, setValue] = React.useState<number>(10);\n\n  const onValueChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setValue(parseInt(value)),\n    [setValue]\n  );\n\n  const { isDivisible, logLines } = useDivisibilityRule({\n    divisibilityRule,\n    value,\n  });\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Factor</label>\n          <DivisibilityRulePicker {...rulePickerProps} />\n        </div>\n        <div className=\"form-group\">\n          <label>Value</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            value={value}\n            onChange={onValueChange}\n          />\n        </div>\n      </form>\n\n      <div>\n        <h3>Rule</h3>\n        <ul>\n          {divisibilityRule.explanation.map((e) => (\n            <li>{e}</li>\n          ))}\n        </ul>\n      </div>\n      <div>Is Divisible? {isDivisible ? \"Yes\" : \"No\"}</div>\n\n      <div>\n        {logLines.map((l) => (\n          <div>{l}</div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Divisibility;\n","import Component from \"./Divisibility\";\nimport { Page } from \"../../../types\";\n\nexport const page: Page = {\n  href: \"/maths/divisibility\",\n  title: \"Divisibility\",\n  description:\n    \"Find out how to use the various rules of divisibility, testing them against numbers\",\n  component: Component,\n};\n\nexport default Component;\n","import { emptyObserver } from \"../../common\";\n/**\n * Given a populated list of marked numbers, extracts the prime numbers.\n * @param markedNumbers The array of all the numbers, with their marking details.\n */\nexport const getPrimeNumbers = (markedNumbers) => markedNumbers\n    .filter(({ divisibleBy }) => divisibleBy.length === 0)\n    .map(({ value }) => value);\n/**\n * Runs the sieve of eratosthenes algorithm up to the given limit.\n *\n * https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\n *\n * @param limit The limit to work up to.\n * @returns The list of prime numbers between 1 and the limit.\n */\nfunction sieveOfEratosthenes(limit, callback = emptyObserver) {\n    const markedNumbers = [];\n    // 1. Create a list of consecutive integers from 2 through n: (2, 3, 4, ..., n).\n    for (let value = 2; value <= limit; value++) {\n        markedNumbers.push({ value, divisibleBy: [] });\n    }\n    // 2. Initially, let p equal 2, the smallest prime number.\n    let p = 2;\n    let pMultiple = 2 * p;\n    while (true) {\n        // 3 . Enumerate the multiples of p by counting in increments of p from 2p to n, and mark them in the list (these will be 2p, 3p, 4p, ...; the p itself should not be marked).\n        while (pMultiple <= limit) {\n            const index = pMultiple - 2; // adjust to get the array position\n            markedNumbers[index].divisibleBy.push(p);\n            pMultiple += p;\n        }\n        // Callback after we have reached the last number\n        callback({\n            tickedOff: markedNumbers\n                .filter(({ divisibleBy }) => divisibleBy.includes(p))\n                .map(({ value }) => value),\n            p,\n        });\n        // 4. Find the smallest number in the list greater than p that is not marked. If there was no such number, stop.\n        // Otherwise, let p now equal this new number (which is the next prime), and repeat from step 3.\n        const nextP = markedNumbers.find(({ value, divisibleBy }) => value > p && divisibleBy.length === 0);\n        if (!!nextP) {\n            p = nextP.value;\n            // As a refinement, it is sufficient to mark the numbers in step 3 starting from p2,\n            // as all the smaller multiples of p will have already been marked at that point.\n            pMultiple = p * p;\n        }\n        else {\n            break;\n        }\n    }\n    // 5. When the algorithm terminates, the numbers remaining not marked in the list are all the primes below n.\n    return getPrimeNumbers(markedNumbers);\n}\nexport default sieveOfEratosthenes;\n//# sourceMappingURL=sieveOfEratosthenes.js.map","import sieveOfEratosthenes from \"./sieveOfEratosthenes\";\nimport { isDivisibleBy, isPrime } from \"./divisibilityRules\";\nimport { createInitialState, addVertex, addUnidirectionalEdge } from \"../../dataStructures/graph/graphReducer\";\nexport function getPrimeFactors(value) {\n    const factors = [];\n    // Get the list of prime numbers up to the square root of our value\n    const primes = sieveOfEratosthenes(Math.ceil(Math.sqrt(value)));\n    let currentValue = value;\n    while (!isPrime(currentValue)) {\n        const prime = primes.find((p) => isDivisibleBy(currentValue, p));\n        if (prime === undefined)\n            throw new Error(`Could not find a divisor for ${currentValue}`);\n        factors.push(prime);\n        currentValue /= prime;\n    }\n    // Whatever we are left with is a prime\n    factors.push(currentValue);\n    return factors;\n}\nexport function getPrimeFactorTree(value) {\n    const primeFactors = getPrimeFactors(value);\n    let graph = createInitialState();\n    let k = 0;\n    const nextKey = () => {\n        k += 1;\n        return k.toString(10);\n    };\n    let currentItem = {\n        key: nextKey(),\n        value,\n    };\n    graph = addVertex(graph, currentItem.key, currentItem.value);\n    primeFactors\n        .slice(0, primeFactors.length - 1) // Skip the last one\n        .forEach((factor) => {\n        const newItem = {\n            key: nextKey(),\n            value: currentItem.value / factor,\n        };\n        const otherNewItem = {\n            key: nextKey(),\n            value: factor,\n        };\n        graph = addVertex(graph, newItem.key, newItem.value);\n        graph = addVertex(graph, otherNewItem.key, otherNewItem.value);\n        graph = addUnidirectionalEdge(graph, currentItem.key, otherNewItem.key);\n        graph = addUnidirectionalEdge(graph, currentItem.key, newItem.key);\n        currentItem = newItem;\n    });\n    return graph;\n}\n//# sourceMappingURL=primeFactors.js.map","import React from \"react\";\nimport {\n  getPrimeFactors,\n  getPrimeFactorTree,\n} from \"@comp-sci-maths/lib/dist/maths/primeNumbers/primeFactors\";\nimport {\n  Graph,\n  createInitialState,\n  addVertex,\n  getOutgoing,\n  addUnidirectionalEdge\n} from \"@comp-sci-maths/lib/dist/dataStructures/graph/graphReducer\";\n\ninterface UsePrimeFactorTree {\n  primeFactors: number[];\n  primeFactorTree: Graph<number>;\n}\n\nconst usePrimeFactorTree = (value: number): UsePrimeFactorTree =>\n  React.useMemo(() => {\n    const primeFactors = getPrimeFactors(value);\n    const rawPrimeFactorTree = getPrimeFactorTree(value);\n\n    let primeFactorTree: Graph<number> = createInitialState();\n\n    // Convert to data items\n    rawPrimeFactorTree.vertices.forEach((v) => {\n      primeFactorTree = addVertex(primeFactorTree, v);\n\n      getOutgoing(rawPrimeFactorTree, v).forEach((edge) => {\n        primeFactorTree = addUnidirectionalEdge(primeFactorTree, v, edge.to, edge.weight);\n      });\n    });\n\n    return {\n      primeFactors,\n      primeFactorTree,\n    };\n  }, [value]);\n\nexport default usePrimeFactorTree;","import React from \"react\";\n\nimport GraphSketch from \"../../ComputerScience/DataStructures/GraphManager/GraphSketch\";\nimport useSketch from \"../../p5/useSketch\";\nimport usePrimeFactorTree from \"./usePrimeFactorTree\";\nimport Checkbox from \"../../Bootstrap/Checkbox\";\n\nclass PrimeFactorSketch extends GraphSketch { }\n\nconst PrimeFactors: React.FunctionComponent = () => {\n  const [value, setValue] = React.useState<number>(1001);\n\n  const onValueChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { value } }) => setValue(parseInt(value)),\n    [setValue]\n  );\n\n  const { refContainer, updateConfig } = useSketch(PrimeFactorSketch);\n\n  const { primeFactorTree, primeFactors } = usePrimeFactorTree(value);\n\n  const [physicsEnabled, setPhysicsEnabled] = React.useState<boolean>(true);\n  const onPhysicsEnabledChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    ({ target: { checked } }) => setPhysicsEnabled(checked),\n    [setPhysicsEnabled]\n  );\n\n  React.useEffect(() => {\n    updateConfig({ physicsEnabled, graph: primeFactorTree });\n  }, [primeFactorTree, updateConfig, physicsEnabled]);\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Value</label>\n          <input\n            className=\"form-control\"\n            type=\"number\"\n            value={value}\n            onChange={onValueChange}\n          />\n        </div>\n      </form>\n\n      <h2>Prime Factors</h2>\n      <div>{primeFactors.join(\" x \")}</div>\n      <div>{primeFactorTree.toString()}</div>\n\n      <h2>Prime Factor Tree</h2>\n      <Checkbox\n        id=\"chkPhysics\"\n        checked={physicsEnabled}\n        onChange={onPhysicsEnabledChange}\n        label=\"Physics Enabled\"\n      />\n      <div ref={refContainer} />\n    </div>\n  );\n};\nexport default PrimeFactors;\n","import Component from \"./PrimeFactors\";\nimport { Page } from \"../../../types\";\n\nexport const page: Page = {\n  href: \"/maths/primeFactors\",\n  title: \"Prime Factors\",\n  description: \"Break numbers down into their prime factors\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\nimport { ArithemeticOperation } from \"./arithmeticOperations\";\n\nexport interface Question {\n  question: string;\n  answer: number;\n  givenAnswer?: number;\n}\n\nexport interface Props {\n  partRange: number;\n  numberParts: number;\n  numberQuestions: number;\n  operation: ArithemeticOperation;\n}\n\nexport interface UseQuiz {\n  questions: Question[];\n  giveAnswer: (index: number, givenAnswer: number) => void;\n  regenerateQuiz: () => void;\n}\n\ninterface RegenerateQuizAction extends Props {\n  type: 'regenerate'\n}\ninterface AnswerAction {\n  type: 'answer',\n  index: number;\n  givenAnswer: number;\n}\ntype Action = RegenerateQuizAction | AnswerAction;\n\ninterface ReducerState extends Props {\n  questions: Question[];\n}\n\nconst quizReducer = (state: ReducerState, action: Action): ReducerState => {\n  switch (action.type) {\n    case \"regenerate\": {\n      const { numberQuestions, numberParts, partRange, operation } = action;\n      const { getParts, symbol, reducer } = operation;\n      let questions: Question[] = [];\n\n      for (let x = 0; x < numberQuestions; x++) {\n        let parts: number[] = getParts(numberParts, partRange);\n        questions.push({\n          question: parts\n            .map((p) => (p > 0 ? p.toString() : `(${p.toString()})`))\n            .join(` ${symbol} `),\n          answer: parts.reduce(reducer),\n        });\n      }\n\n      return {\n        ...action,\n        questions\n      };\n    }\n    case \"answer\":\n      {\n        return {\n          ...state,\n          questions: state.questions.map((q, i) => i === action.index ? { ...q, givenAnswer: action.givenAnswer } : q)\n        }\n      }\n  }\n}\n\nconst useQuiz = ({ numberParts, numberQuestions, partRange, operation }: Props): UseQuiz => {\n  const [{ questions }, reduceQuiz] = React.useReducer(quizReducer, { numberParts, numberQuestions, partRange, operation, questions: [] });\n\n  const regenerateQuiz = React.useCallback(\n    () => reduceQuiz({ type: 'regenerate', numberParts, numberQuestions, partRange, operation }),\n    [numberParts, numberQuestions, partRange, operation])\n\n  React.useEffect(() => regenerateQuiz(), [\n    regenerateQuiz,\n  ]);\n\n  const giveAnswer = React.useCallback((index: number, givenAnswer: number) => {\n    reduceQuiz({\n      type: 'answer',\n      index,\n      givenAnswer,\n    })\n  }, [reduceQuiz]);\n\n  return { questions, giveAnswer, regenerateQuiz };\n};\n\nexport default useQuiz;\n","export type PartGenerator = (\n  numberParts: number,\n  partRange: number\n) => number[];\nexport type OperationReducer = (a: number, b: number) => number;\nexport interface ArithemeticOperation {\n  name: string;\n  symbol: string;\n  getParts: PartGenerator;\n  reducer: OperationReducer;\n}\n\nconst getAdditiveParts: PartGenerator = (\n  numberParts: number,\n  partRange: number\n) => {\n  let parts: number[] = [];\n  while (parts.length < numberParts) {\n    let p = Math.floor(Math.random() * partRange) - partRange / 2;\n    if (p !== 0) {\n      parts.push(p);\n    }\n  }\n  return parts;\n};\n\nconst getDivisibleParts: PartGenerator = (\n  numberParts: number,\n  partRange: number\n) => {\n  let parts: number[] = getAdditiveParts(numberParts, partRange);\n\n  let answer = parts.reduce((a, b) => a * b);\n  parts[0] = answer;\n\n  return parts;\n};\n\nexport const operations: ArithemeticOperation[] = [\n  {\n    name: \"Addition\",\n    symbol: \"+\",\n    reducer: (a, b) => a + b,\n    getParts: getAdditiveParts,\n  },\n  {\n    name: \"Subtraction\",\n    symbol: \"-\",\n    reducer: (a, b) => a - b,\n    getParts: getAdditiveParts,\n  },\n  {\n    name: \"Multiplication\",\n    symbol: \"\\u00d7\",\n    reducer: (a, b) => a * b,\n    getParts: getAdditiveParts,\n  },\n  {\n    name: \"Division\",\n    symbol: \"\\u00f7\",\n    reducer: (a, b) => a / b,\n    getParts: getDivisibleParts,\n  },\n];\n","import React from \"react\";\nimport { ControlledInput } from \"../../../types\";\nimport { ArithemeticOperation, operations } from \"./arithmeticOperations\";\n\ninterface Props extends ControlledInput<ArithemeticOperation> {\n  className?: string;\n}\n\nconst ArithmeticOperationPicker: React.FunctionComponent<Props> = ({\n  onChange,\n  value,\n  className,\n}) => {\n  const onSelectChange: React.ChangeEventHandler<HTMLSelectElement> = React.useCallback(\n    ({ target: { value } }) =>\n      onChange(operations.find(({ name }) => name === value) || operations[0]),\n    [onChange]\n  );\n\n  React.useEffect(() => onChange(operations[0]), [onChange]);\n\n  return (\n    <select\n      className={className}\n      onChange={onSelectChange}\n      value={value && value.name}\n    >\n      <option />\n      {operations.map(({ name }) => (\n        <option key={name} value={name}>\n          {name}\n        </option>\n      ))}\n    </select>\n  );\n};\n\ninterface UsePicker {\n  operation: ArithemeticOperation;\n  componentProps: Props;\n}\n\nexport const usePicker = (className?: string): UsePicker => {\n  const [value, onChange] = React.useState<ArithemeticOperation>(operations[0]);\n\n  return {\n    operation: value,\n    componentProps: React.useMemo(\n      () => ({\n        className,\n        value,\n        onChange,\n      }),\n      [className, value, onChange]\n    ),\n  };\n};\n\nexport default ArithmeticOperationPicker;\n","import React from \"react\";\nimport useQuiz from \"./useQuiz\";\nimport ArithmeticOperationPicker, {\n  usePicker,\n} from \"./ArithmeticOperationPicker\";\n\nimport \"./quizzes.css\";\n\nconst Tick: React.FunctionComponent = () =>\n  (<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-check\" fill=\"green\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill-rule=\"evenodd\" d=\"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z\" />\n  </svg>);\n\nconst Exclamation: React.FunctionComponent = () =>\n  (<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-exclamation-square\" fill=\"red\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill-rule=\"evenodd\" d=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\" />\n    <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\" />\n  </svg>)\n\nconst NegativeNumbers: React.FunctionComponent = () => {\n  const { componentProps, operation } = usePicker(\"form-control\");\n\n  const quiz1 = useQuiz({\n    partRange: 20,\n    numberParts: 2,\n    numberQuestions: 10,\n    operation,\n  });\n  const quiz2 = useQuiz({\n    partRange: 30,\n    numberParts: 3,\n    numberQuestions: 10,\n    operation,\n  });\n\n  const quizzes = React.useMemo(() => [quiz1, quiz2], [quiz1, quiz2]);\n  const regenerateQuizzes = React.useCallback(() =>\n    quizzes.forEach(({ regenerateQuiz }) => regenerateQuiz())\n    , [quizzes]);\n\n  let [revealAnswers, toggleRevealAnswer] = React.useReducer((a) => !a, false);\n\n  let onClickToggleReveal = React.useCallback(() => toggleRevealAnswer(), [\n    toggleRevealAnswer,\n  ]);\n\n  return (\n    <div>\n      <form>\n        <div className=\"form-group\">\n          <label>Arithmetic Operation</label>\n          <ArithmeticOperationPicker {...componentProps} />\n        </div>\n      </form>\n\n      <div className=\"quizzes\">\n        {quizzes.map((quiz, quizI) => (\n          <div>\n            <table>\n              <tbody>\n                {quiz.questions.map(({ question, givenAnswer = '0', answer }, questionI) => (\n                  <tr>\n                    <td className=\"questionIndex\">\n                      {quizI + 1}.{questionI + 1})\n                    </td>\n                    <td>{question}</td>\n                    <td>=</td>\n                    <td>{revealAnswers ? <span>{answer} {answer === givenAnswer ? <Tick /> : <Exclamation />}</span> :\n                      <input type='number'\n                        className='txtGiveAnswer'\n                        value={givenAnswer}\n                        onChange={e => quiz.giveAnswer(questionI, parseInt(e.target.value))} />}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ))}\n      </div>\n      <button className=\"btn btn-primary\" onClick={onClickToggleReveal}>\n        {revealAnswers ? \"Hide Answers\" : \"Reveal Answers\"}\n      </button>\n      <button className=\"btn btn-warning\" onClick={regenerateQuizzes}>\n        Regenerate\n      </button>\n    </div>\n  );\n};\n\nexport default NegativeNumbers;\n","import Component from \"./NegativeNumbers\";\nimport { Page } from \"../../../types\";\n\nexport const page: Page = {\n  href: \"/maths/negativeNumbers\",\n  title: \"Negative Number\",\n  description: \"Generate questions with negative numbers\",\n  component: Component,\n};\n\nexport default Component;\n","import p5 from 'p5';\r\nimport { AbstractSketch } from '../../p5/useSketch';\r\n\r\nexport interface Bearing {\r\n    distance: number;\r\n    bearing: number;\r\n}\r\n\r\nexport interface BearingSketchConfig {\r\n    bearings: Bearing[];\r\n}\r\n\r\nconst getDefaultConfig = (): BearingSketchConfig => ({ bearings: [] })\r\n\r\nconst WIDTH = 500;\r\nconst HEIGHT = 500;\r\n\r\nclass BearingSketch extends AbstractSketch<BearingSketchConfig> {\r\n\r\n    constructor() {\r\n        super(getDefaultConfig());\r\n\r\n    }\r\n\r\n    sketch(s: p5) {\r\n        const that = this;\r\n        let screenCentre: p5.Vector;\r\n\r\n        s.setup = function () {\r\n            s.createCanvas(WIDTH, HEIGHT);\r\n            s.colorMode(s.HSB, 255);\r\n            s.textAlign(s.CENTER, s.CENTER);\r\n            s.angleMode(s.DEGREES);\r\n            screenCentre = s.createVector(s.width / 2, s.height / 2);\r\n        };\r\n\r\n        s.draw = function () {\r\n            s.background(230);\r\n\r\n            const {\r\n                bearings\r\n            } = that.config;\r\n\r\n            s.strokeWeight(4);\r\n            let current = screenCentre.copy();\r\n            s.point(current.x, current.y);\r\n\r\n            bearings.map(({ bearing, distance }) => s.createVector(0, -1) // point north\r\n                .mult(distance)\r\n                .rotate(bearing)\r\n            ).forEach(vector => {\r\n                let next = p5.Vector.add(current, vector);\r\n                s.line(current.x, current.y, next.x, next.y);\r\n                current = next;\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default BearingSketch;","import React from 'react';\r\nimport cogoToast from \"cogo-toast\";\r\n\r\nimport Button from '../../Bootstrap/Buttons/Button';\r\nimport useListReducer from '../../lib/useListReducer';\r\nimport useSketch from '../../p5/useSketch';\r\nimport BearingSketch, { Bearing } from './BearingSketch';\r\nimport ConfirmDialog, { useDialog as useConfirmDialog } from '../../Bootstrap/ConfirmDialog';\r\n\r\nconst DEGREES = <span>&#176;</span>;\r\n\r\nconst bearingsToString = (bearings: Bearing[]): string => bearings.map(b => `${b.bearing}-${b.distance}`).join(',');\r\nconst bearingsFromString = (asStr: string): Bearing[] => asStr\r\n    .split(',')\r\n    .map(b => b.split('-'))\r\n    .map(b => ({\r\n        bearing: parseInt(b[0]),\r\n        distance: parseInt(b[1])\r\n    }));\r\n\r\nconst initialBearings: Bearing[] = [\r\n    {\r\n        bearing: 90,\r\n        distance: 130,\r\n    }, {\r\n        bearing: 180,\r\n        distance: 30,\r\n    }, {\r\n        bearing: 270,\r\n        distance: 50,\r\n    }, {\r\n        bearing: 180,\r\n        distance: 80,\r\n    }, {\r\n        bearing: 270,\r\n        distance: 80,\r\n    }, {\r\n        bearing: 0,\r\n        distance: 30,\r\n    }, {\r\n        bearing: 90,\r\n        distance: 50,\r\n    }, {\r\n        bearing: 0,\r\n        distance: 50,\r\n    }, {\r\n        bearing: 270,\r\n        distance: 50,\r\n    }, {\r\n        bearing: 0,\r\n        distance: 30\r\n    }\r\n]\r\n\r\nconst Bearings: React.FunctionComponent = () => {\r\n    const { addItem, receiveItems, clearItems, items: bearings, removeItemAtIndex } = useListReducer<Bearing>(initialBearings);\r\n    const [bearing, setBearing] = React.useState<number>(90);\r\n    const [distance, setDistance] = React.useState<number>(50);\r\n\r\n    const onBearingChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        React.useCallback(({ target: { value } }) => setBearing(parseInt(value)), [setBearing]);\r\n    const onDistanceChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        React.useCallback(({ target: { value } }) => setDistance(parseInt(value)), [setDistance]);\r\n\r\n    const onAddBearing = React.useCallback(() => addItem({ bearing, distance }), [bearing, distance, addItem]);\r\n\r\n    const { updateConfig, refContainer } = useSketch(BearingSketch);\r\n\r\n    React.useEffect(() => updateConfig({ bearings }), [bearings, updateConfig])\r\n\r\n    const [exportString, setExportString] = React.useState('');\r\n\r\n    React.useEffect(\r\n        () => setExportString(bearingsToString(bearings)),\r\n        [bearings, setExportString]);\r\n\r\n    const onClickImport = React.useCallback(() => receiveItems(bearingsFromString(exportString)),\r\n        [exportString, receiveItems])\r\n\r\n    const exportStringRef = React.useRef<HTMLInputElement>(null);\r\n    const onExportStringChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        React.useCallback(({ target: { value } }) => setExportString(value), [setExportString]);\r\n\r\n    const { componentProps: confirmDialogProps, showDialog } = useConfirmDialog({ getQuestion: () => 'Are you sure you want to clear any existing values?', onConfirm: clearItems });\r\n\r\n    const onClickExport = React.useCallback(() => {\r\n        /* Select the text field */\r\n        if (exportStringRef.current) {\r\n            exportStringRef.current.select();\r\n            exportStringRef.current.setSelectionRange(0, 99999); /*For mobile devices*/\r\n\r\n            /* Copy the text inside the text field */\r\n            document.execCommand(\"copy\");\r\n\r\n            /* Alert the copied text */\r\n            cogoToast.info(\"Copied the text: \" + exportStringRef.current.value);\r\n        }\r\n    }, [exportStringRef]);\r\n\r\n    return (<div>\r\n        <ConfirmDialog {...confirmDialogProps} />\r\n        <div ref={refContainer} />\r\n\r\n        <div className='form-group'>\r\n            <label>Export/Import</label>\r\n            <input ref={exportStringRef} className='form-control' value={exportString} onChange={onExportStringChange} />\r\n            <Button onClick={onClickExport} text='Export' styleType='primary' />\r\n            <Button className='ml-1' onClick={onClickImport} text='Import' styleType='danger' />\r\n        </div>\r\n\r\n        <div>\r\n            <h3>New Line</h3>\r\n            <div className='form-group'>\r\n                <label htmlFor='txtBearing'>Bearing (x{DEGREES})</label>\r\n                <input id='txtBearing' className='form-control' type='number' value={bearing} onChange={onBearingChange} />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='txtDistance'>Distance (pixels)</label>\r\n                <input id='txtDistance' className='form-control' type='number' value={distance} onChange={onDistanceChange} />\r\n            </div>\r\n            <Button styleType='primary' onClick={onAddBearing} text='Add' />\r\n            <Button className='ml-1' styleType='danger' onClick={showDialog} text='Clear All' />\r\n        </div>\r\n\r\n        <table className='table table-striped table-compact'>\r\n            <thead>\r\n                <tr>\r\n                    <th>Bearing{DEGREES}</th>\r\n                    <th>Distance (pixels)</th>\r\n                    <th>Actions</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {bearings.map(({ bearing, distance }, i) => (<tr key={i}>\r\n                    <td>{distance}</td>\r\n                    <td>{bearing}{DEGREES}</td>\r\n                    <td><Button styleType='danger' onClick={() => removeItemAtIndex(i)} text='Remove' /></td>\r\n                </tr>))}\r\n            </tbody>\r\n        </table>\r\n    </div>)\r\n}\r\n\r\nexport default Bearings;","import Component from \"./Bearings\";\r\nimport { Page } from \"../../../types\";\r\n\r\nexport const page: Page = {\r\n    href: \"/maths/bearings\",\r\n    title: \"Bearings\",\r\n    description: \"Draw pictures just using bearings.\",\r\n    component: Component,\r\n};\r\n\r\nexport default Component;\r\n","import React from \"react\";\n\ninterface Props {\n  numerator: number;\n  denominator: number;\n}\n\nconst Fraction: React.FunctionComponent<Props> = ({ numerator, denominator }) =>\n  denominator === 1 ? (\n    <span>{numerator}</span>\n  ) : (\n    <span>\n      {numerator}&frasl;{denominator}\n    </span>\n  );\n\nexport default Fraction;\n","import React from \"react\";\n\ninterface Props {\n  coefficient?: number | React.ReactElement;\n  base: string;\n  exponent: number;\n}\n\nconst NumberToPower: React.FunctionComponent<Props> = ({\n  coefficient = 1,\n  base,\n  exponent,\n}) => (\n  <span>\n    {coefficient !== 1 ? coefficient : \"\"}\n    {base}\n    <sup>{exponent}</sup>\n  </span>\n);\n\nexport default NumberToPower;\n","import { shuffle } from \"lodash\";\nimport React from \"react\";\nimport { choose } from \"../../lib/utilities\";\nimport Fraction from \"./Fraction\";\nimport NumberToPower from \"./NumberToPower\";\nimport { Answer, Question } from \"./types\";\n\nconst bases: string[] = [\n  \"\", // x\n  \"\", // y\n  \"\", // z\n];\n\nconst MULTIPLICATION_SYMBOL: string = \"\";\nconst DIVISION_SYMBOL: string = \"\";\n\nconst goodIndices: number[] = [2, 3, 4, 5, 6, 7, 8, 9, 10];\nconst goodCoefficients: number[] = [1, 2, 3, 4, 5, 6];\n\nconst generateQuestion = (): Question => {\n  const base = choose(bases);\n  const coeffA: number = choose(goodCoefficients);\n  const coeffB: number = choose(goodCoefficients, [coeffA]);\n  const a: number = choose(goodIndices);\n  const b: number = choose(goodIndices, [a]);\n\n  const isMultiplication = Math.random() > 0.5;\n\n  const correctCoefficient: number | React.ReactElement = isMultiplication ? (\n    coeffA * coeffB\n  ) : (\n      <Fraction numerator={coeffA} denominator={coeffB} />\n    );\n  const correctIndex = isMultiplication ? a + b : a - b;\n\n  const possibleAnswers: Answer[] = [\n    {\n      answer: (\n        <NumberToPower\n          coefficient={correctCoefficient}\n          base={base}\n          exponent={correctIndex}\n        />\n      ),\n      correct: true,\n      explanation: \"Good job!\",\n    },\n  ];\n  if (correctIndex !== a * b) {\n    possibleAnswers.push({\n      answer: (\n        <NumberToPower\n          coefficient={correctCoefficient}\n          base={base}\n          exponent={a * b}\n        />\n      ),\n      correct: false,\n      explanation:\n        \"Remember that you should sum the indices with a common base, rather than multiply them\",\n    });\n  }\n  if (correctIndex !== a + b) {\n    possibleAnswers.push({\n      answer: (\n        <NumberToPower\n          coefficient={correctCoefficient}\n          base={base}\n          exponent={a + b}\n        />\n      ),\n      correct: false,\n      explanation:\n        \"Remember that you should substract the indices with a common base, rather than sum them\",\n    });\n  }\n  if (correctIndex !== a - b) {\n    possibleAnswers.push({\n      answer: (\n        <NumberToPower\n          coefficient={correctCoefficient}\n          base={base}\n          exponent={a - b}\n        />\n      ),\n      correct: false,\n      explanation:\n        \"Remember that you should sum the indices with a common base, rather than subtract them\",\n    });\n  }\n  if (correctIndex !== Math.min(a, b)) {\n    possibleAnswers.push({\n      answer: (\n        <NumberToPower\n          coefficient={correctCoefficient}\n          base={base}\n          exponent={Math.min(a, b)}\n        />\n      ),\n      correct: false,\n      explanation:\n        \"Remember that you should sum the indices with a common base, don't just choose the lowest\",\n    });\n  }\n\n  return {\n    question: (\n      <span>\n        <NumberToPower coefficient={coeffA} base={base} exponent={a} />\n        {isMultiplication ? MULTIPLICATION_SYMBOL : DIVISION_SYMBOL}\n        <NumberToPower coefficient={coeffB} base={base} exponent={b} />\n      </span>\n    ),\n    possibleAnswers: shuffle(possibleAnswers),\n  };\n};\n\nexport default generateQuestion;\n","import React from \"react\";\n\nimport generateQuestion from \"./multiplySameBase\";\nimport { Question } from \"./types\";\n\ninterface UseAlgebra {\n  question: Question;\n  regenerateQuestion: () => void;\n}\n\nconst FIRST_QUESTION = generateQuestion();\n\nconst useAlgebra = (): UseAlgebra => {\n  const [question, setQuestion] = React.useState<Question>(FIRST_QUESTION);\n\n  const regenerateQuestion = React.useCallback(\n    () => setQuestion(generateQuestion()),\n    [setQuestion]\n  );\n\n  return { question, regenerateQuestion };\n};\n\nexport default useAlgebra;\n","import React from \"react\";\nimport Button from \"../../Bootstrap/Buttons/Button\";\nimport Checkbox from \"../../Bootstrap/Checkbox\";\nimport useAlgebra from \"./useAlgebra\";\n\nimport \"./algebra.css\";\n\ninterface SelectedByIndex {\n  [i: number]: boolean;\n}\n\nconst DEFAULT_SELECTED_BY_INDEX: SelectedByIndex = {};\n\ninterface ToggleAction {\n  type: \"toggle\";\n  index: number;\n}\n\ninterface SetAction {\n  type: \"set\";\n  indices: number[];\n}\n\ntype SelectedAction = ToggleAction | SetAction;\n\nconst selectedReducer = (\n  state: SelectedByIndex,\n  action: SelectedAction\n): SelectedByIndex => {\n  switch (action.type) {\n    case \"set\":\n      return action.indices.reduce(\n        (acc, curr) => ({ ...acc, [curr]: false }),\n        {}\n      );\n    case \"toggle\":\n      return {\n        ...state,\n        [action.index]: !state[action.index],\n      };\n  }\n};\n\nconst Algebra: React.FunctionComponent = () => {\n  const {\n    question: { question, possibleAnswers },\n    regenerateQuestion,\n  } = useAlgebra();\n\n  const [selectedByIndex, dispatchSelectedByIndex] = React.useReducer(\n    selectedReducer,\n    DEFAULT_SELECTED_BY_INDEX\n  );\n\n  const [submitted, setSubmit] = React.useState(false);\n\n  React.useEffect(\n    () =>\n      dispatchSelectedByIndex({\n        type: \"set\",\n        indices: possibleAnswers.map((_, i) => i),\n      }),\n    [possibleAnswers]\n  );\n\n  const onAnswer = React.useCallback(() => {\n    setSubmit(true);\n  }, [setSubmit]);\n  const onNext = React.useCallback(() => {\n    setSubmit(false);\n    regenerateQuestion();\n  }, [setSubmit, regenerateQuestion]);\n\n  return (\n    <div className=\"algebra\">\n      Simplify {question}\n      <div>\n        {possibleAnswers.map(({ answer, correct, explanation }, i) => (\n          <div key={i}>\n            <Checkbox\n              id={`answerSelected_{i}`}\n              label={\n                submitted && selectedByIndex[i] ? (\n                  <span className={correct ? \"correct\" : \"incorrect\"}>\n                    {answer} - {explanation}\n                  </span>\n                ) : (\n                  answer\n                )\n              }\n              checked={selectedByIndex[i] || false}\n              onChange={() =>\n                dispatchSelectedByIndex({ type: \"toggle\", index: i })\n              }\n            />\n          </div>\n        ))}\n      </div>\n      <div className=\"mt-4\">\n        {submitted || (\n          <Button text=\"Submit\" onClick={onAnswer} styleType=\"primary\" />\n        )}\n        {submitted && (\n          <Button text=\"Next\" onClick={onNext} styleType=\"secondary\" />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Algebra;\n","import Component from \"./Algebra\";\nimport { Page } from \"../../../types\";\n\nexport const page: Page = {\n  href: \"/maths/algebra\",\n  title: \"Algebra\",\n  description: \"Multiple choice questions on simple algebra\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport { cloneDeep } from \"lodash\";\n\nimport sieveOfEratosthenes, {\n  PrimeCallbackArgs,\n  PrimeCallback,\n} from \"@comp-sci-maths/lib/dist/maths/primeNumbers/sieveOfEratosthenes\";\n\ninterface Props {\n  limit: number;\n}\n\ninterface UseSieveOfEratosthenes {\n  iterations: PrimeCallbackArgs[];\n  primeNumbers: number[];\n}\n\nconst useSieveOfEratosthenes = ({ limit }: Props): UseSieveOfEratosthenes =>\n  React.useMemo(() => {\n    const iterations: PrimeCallbackArgs[] = [];\n    const callback: PrimeCallback = (args) => iterations.push(cloneDeep(args));\n\n    const primeNumbers: number[] = sieveOfEratosthenes(limit, callback);\n\n    return {\n      iterations,\n      primeNumbers,\n    };\n  }, [limit]);\n\nexport default useSieveOfEratosthenes;\n","import React from \"react\";\n\nimport \"./sieve.css\";\n\ninterface Props {\n  limit: number;\n  primeNumbers: number[];\n}\n\nconst PrimesListing: React.FunctionComponent<Props> = ({\n  limit,\n  primeNumbers,\n}) => {\n  return (\n    <div className=\"primeListing\">\n      {Array(limit)\n        .fill(undefined)\n        .map((_, i) => ({ i, isPrime: primeNumbers.includes(i) }))\n        .filter(({ i }) => i > 1)\n        .map(({ i, isPrime }) => {\n          const classNames = [\"primeListing__number\"];\n          if (isPrime) {\n            classNames.push(\"primeListing__isPrime\");\n          }\n          return (\n            <span key={i} className={classNames.join(\" \")}>\n              {i}\n            </span>\n          );\n        })}\n    </div>\n  );\n};\nexport default PrimesListing;\n","import React from \"react\";\nimport useSieveOfEratosthenes from \"./useSieveOfEratosthenes\";\nimport useItemInArray from \"../../lib/useLoopCounter/useItemInArray\";\nimport PrimesListing from \"./PrimesListing\";\nimport ButtonBar, {\n  Props as ButtonBarProps,\n} from \"../../Bootstrap/Buttons/ButtonBar\";\n\nconst LIMIT: number = 20;\n\nconst SieveOfEratosthenes: React.FunctionComponent = () => {\n  const { primeNumbers, iterations } = useSieveOfEratosthenes({\n    limit: LIMIT,\n  });\n\n  const { index, item, stepBackward, stepForward } = useItemInArray({\n    items: iterations,\n  });\n\n  const { p, tickedOff } = item || { p: 0, tickedOff: [] };\n\n  const buttonBarProps: ButtonBarProps = React.useMemo(\n    () => ({\n      buttons: [\n        {\n          text: \"Decrement\",\n          onClick: stepBackward,\n          styleType: \"danger\",\n        },\n        {\n          text: \"Increment\",\n          onClick: stepForward,\n          styleType: \"success\",\n        },\n      ],\n    }),\n    [stepBackward, stepForward]\n  );\n\n  return (\n    <div>\n      <h2>Prime Numbers at Iteration</h2>\n      <div>{primeNumbers.join(\", \")}</div>\n\n      <h2>\n        Ticked off at Iteration {index} with p={p}\n      </h2>\n      <div>\n        Divisible by {p}:{tickedOff.join(\", \")}\n      </div>\n\n      <ButtonBar {...buttonBarProps} />\n\n      <PrimesListing limit={LIMIT} primeNumbers={tickedOff} />\n    </div>\n  );\n};\n\nexport default SieveOfEratosthenes;\n","import Component from \"./SieveOfEratosthenes\";\nimport { Page } from \"../../../types\";\n\nexport const page: Page = {\n  href: \"/maths/sieveOfEratosthenes\",\n  title: \"Sieve of Eratosthenes\",\n  description:\n    \"Observe the step by step operation of the Sieve of Eratosthenes, an algorithm for finding prime numbers within a specific range.\",\n  component: Component,\n};\n\nexport default Component;\n","interface Guess {\n  x: number;\n  answer: number;\n}\n\ninterface Solutions {\n  guesses: Guess[];\n}\n\nconst solver = (\n  f: (x_in: number) => number,\n  number_guesses: number\n): Solutions => {\n  let guesses: Guess[] = [];\n\n  let x = 2.0;\n  let lowest = NaN;\n  let highest = NaN;\n\n  for (let i = 0; i < number_guesses; i += 1) {\n    let answer = f(x);\n    guesses.push({ x, answer });\n    if (answer > 0) {\n      highest = x;\n      if (isNaN(lowest)) {\n        x -= 1;\n      } else {\n        x -= (x - lowest) / 2;\n      }\n    } else if (answer < 0) {\n      lowest = x;\n      if (isNaN(highest)) {\n        x += 1;\n      } else {\n        x += (highest - x) / 2;\n      }\n    } else {\n      break;\n    }\n  }\n\n  return {\n    guesses: guesses.reverse()\n  };\n};\n\nexport default solver;\n","import React from \"react\";\n\nimport solver from \"./solver\";\n\nconst SolveEquation: React.FunctionComponent = () => {\n  const [a, setA] = React.useState(1);\n  const [b, setB] = React.useState(2);\n  const [c, setC] = React.useState(-13);\n  const [numberGuesses, setNumberGuesses] = React.useState(50);\n\n  let onAChange = React.useCallback(\n    ({ target: { value } }) => setA(parseFloat(value)),\n    [setA]\n  );\n  let onBChange = React.useCallback(\n    ({ target: { value } }) => setB(parseFloat(value)),\n    [setB]\n  );\n  let onCChange = React.useCallback(\n    ({ target: { value } }) => setC(parseFloat(value)),\n    [setC]\n  );\n  let onNumberGuessesChange = React.useCallback(\n    ({ target: { value } }) => setNumberGuesses(parseInt(value)),\n    [setNumberGuesses]\n  );\n\n  const f = React.useCallback((x: number) => a * Math.pow(x, 2) + b * x + c, [\n    a,\n    b,\n    c,\n  ]);\n\n  const { guesses } = React.useMemo(() => solver(f, numberGuesses), [\n    f,\n    numberGuesses,\n  ]);\n\n  let givenAnswer: string = React.useMemo(\n    () => (guesses.length > 0 ? guesses[0].x.toFixed(2) : \"0.0\"),\n    [guesses]\n  );\n\n  let equationString = React.useMemo(() => `${a}x^2 + ${b}x + ${c}`, [a, b, c]);\n\n  return (\n    <div>\n      <h2>Solve Equation</h2>\n      <p>{equationString}</p>\n      <form>\n        <div className=\"form-row\">\n          <div className=\"col\">\n            <label>a</label>\n            <input\n              className=\"form-control\"\n              type=\"number\"\n              value={a}\n              onChange={onAChange}\n              placeholder=\"a\"\n            />\n          </div>\n          <div className=\"col\">\n            <label>b</label>\n            <input\n              className=\"form-control\"\n              type=\"number\"\n              value={b}\n              onChange={onBChange}\n              placeholder=\"b\"\n            />\n          </div>\n          <div className=\"col\">\n            <label>c</label>\n            <input\n              className=\"form-control\"\n              type=\"number\"\n              value={c}\n              onChange={onCChange}\n              placeholder=\"c\"\n            />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"numberGuesses\">Number Guesses</label>\n          <input\n            className=\"form-control\"\n            id=\"numberGuesses\"\n            type=\"number\"\n            value={numberGuesses}\n            onChange={onNumberGuessesChange}\n          />\n        </div>\n      </form>\n      <div>Answer is {givenAnswer}</div>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Guess</th>\n            <th>Answer</th>\n          </tr>\n        </thead>\n        <tbody>\n          {guesses.map(({ x, answer }, i) => (\n            <tr key={i}>\n              <td>{x}</td>\n              <td>{answer}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default SolveEquation;\n","import Component from \"./SolveEquation\";\nimport { Page } from \"../../../types\";\n\nexport const page: Page = {\n  href: \"/maths/solveEquation\",\n  title: \"Solving Quadratics\",\n  description: \"Use trial and error to solve quadratic equations.\",\n  component: Component,\n};\n\nexport default Component;\n","import React from \"react\";\r\n\r\nimport {\r\n    Coordinate,\r\n    BoardActionConsumer,\r\n    BoardAction,\r\n    BoardState,\r\n    Cell,\r\n} from \"./types\";\r\n\r\nexport const EMPTY_CELL = -1;\r\nexport const SUB_DIMENSION = 3;\r\nexport const DIMENSION = Math.pow(SUB_DIMENSION, 2);\r\n\r\nexport const DIGITS = Array(DIMENSION).fill(null).map((_, i) => i + 1);\r\n\r\n\r\ntype GetOtherCellsFunction = (x: number, y: number) => Coordinate[];\r\n\r\nconst getRowCells: GetOtherCellsFunction = (\r\n    x: number,\r\n    y: number\r\n): Coordinate[] =>\r\n    Array(DIMENSION)\r\n        .fill(null)\r\n        .map((_, i) => ({ x: i, y }));\r\nconst getColCells: GetOtherCellsFunction = (\r\n    x: number,\r\n    y: number\r\n): Coordinate[] =>\r\n    Array(DIMENSION)\r\n        .fill(null)\r\n        .map((_, i) => ({ x, y: i }));\r\nconst getSquareCells: GetOtherCellsFunction = (\r\n    x: number,\r\n    y: number\r\n): Coordinate[] => {\r\n    let coords: Coordinate[] = [];\r\n    let xFloor = Math.floor(x / SUB_DIMENSION) * SUB_DIMENSION;\r\n    let yFloor = Math.floor(y / SUB_DIMENSION) * SUB_DIMENSION;\r\n    for (let xi = 0; xi < SUB_DIMENSION; xi++) {\r\n        for (let yi = 0; yi < SUB_DIMENSION; yi++) {\r\n            coords.push({\r\n                x: xFloor + xi,\r\n                y: yFloor + yi,\r\n            });\r\n        }\r\n    }\r\n    return coords;\r\n};\r\nconst getOtherCellFunctions: GetOtherCellsFunction[] = [\r\n    getRowCells,\r\n    getColCells,\r\n    getSquareCells,\r\n];\r\n\r\nconst reducer = (state: BoardState, action: BoardAction): BoardState => {\r\n    // Make a complete deep copy of the board\r\n    const cells: Cell[][] = state.cells.map((col) => col.map((c) => ({ ...c })));\r\n    const hints: BoardAction[] = [];\r\n\r\n    // Use this action to change the appropriate cell\r\n    for (let x = 0; x < DIMENSION; x++) {\r\n        for (let y = 0; y < DIMENSION; y++) {\r\n            if (x === action.x && y === action.y) {\r\n                if (action.fix || !cells[x][y].fixed) {\r\n                    if (cells[x][y].value === action.value) {\r\n                        cells[x][y].value = EMPTY_CELL;\r\n                    } else {\r\n                        cells[x][y].value = action.value;\r\n                        cells[x][y].fixed = action.fix || false;\r\n                    }\r\n                }\r\n            }\r\n\r\n            cells[x][y].error = false;\r\n        }\r\n    }\r\n\r\n    // Check each cell\r\n    for (let x = 0; x < DIMENSION; x++) {\r\n        for (let y = 0; y < DIMENSION; y++) {\r\n            let allowed = new Set(DIGITS);\r\n            getOtherCellFunctions.forEach((f) => {\r\n                let found: Set<number> = new Set();\r\n                let otherCells = f(x, y);\r\n                otherCells.forEach(({ x: xi, y: yi }) => {\r\n                    if (cells[x][y].value !== EMPTY_CELL) {\r\n                        if (\r\n                            found.has(cells[xi][yi].value) &&\r\n                            cells[xi][yi].value !== EMPTY_CELL\r\n                        ) {\r\n                            otherCells.forEach(({ x: xj, y: yj }) => {\r\n                                if (cells[xj][yj].value === cells[xi][yi].value) {\r\n                                    cells[xj][yj].error = true;\r\n                                }\r\n                            });\r\n                        }\r\n                        found.add(cells[xi][yi].value);\r\n                    } else {\r\n                        allowed.delete(cells[xi][yi].value);\r\n                    }\r\n                });\r\n            });\r\n\r\n            //   console.log(\"Allowed...\", { x, y, allowed });\r\n            cells[x][y].allowed = new Set(allowed);\r\n            if (allowed.size === 1) {\r\n                hints.push({\r\n                    x,\r\n                    y,\r\n                    value: allowed.values().next().value,\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        cells,\r\n        hints,\r\n    };\r\n};\r\n\r\nconst defaultState: BoardState = {\r\n    hints: [],\r\n    cells: Array(DIMENSION)\r\n        .fill(null)\r\n        .map((i) =>\r\n            Array(DIMENSION)\r\n                .fill(null)\r\n                .map((j) => ({\r\n                    value: EMPTY_CELL,\r\n                    error: false,\r\n                    fixed: false,\r\n                    allowed: new Set(DIGITS),\r\n                }))\r\n        ),\r\n};\r\n\r\nconst initialActions: BoardAction[] = [\r\n    { x: 0, y: 0, value: 6 },\r\n    { x: 0, y: 1, value: 2 },\r\n    { x: 0, y: 8, value: 1 },\r\n    { x: 1, y: 2, value: 4 },\r\n    { x: 1, y: 3, value: 7 },\r\n    { x: 1, y: 5, value: 1 },\r\n    { x: 1, y: 6, value: 6 },\r\n    { x: 1, y: 7, value: 9 },\r\n    { x: 2, y: 1, value: 1 },\r\n    { x: 2, y: 3, value: 3 },\r\n    { x: 2, y: 4, value: 6 },\r\n    { x: 2, y: 7, value: 8 },\r\n    { x: 3, y: 0, value: 3 },\r\n    { x: 3, y: 3, value: 8 },\r\n    { x: 3, y: 5, value: 6 },\r\n    { x: 3, y: 6, value: 9 },\r\n    { x: 4, y: 3, value: 9 },\r\n    { x: 4, y: 4, value: 4 },\r\n    { x: 4, y: 5, value: 3 },\r\n    { x: 5, y: 2, value: 6 },\r\n    { x: 5, y: 3, value: 1 },\r\n    { x: 5, y: 5, value: 2 },\r\n    { x: 5, y: 8, value: 5 },\r\n    { x: 6, y: 1, value: 9 },\r\n    { x: 6, y: 4, value: 3 },\r\n    { x: 6, y: 5, value: 8 },\r\n    { x: 6, y: 7, value: 1 },\r\n    { x: 7, y: 1, value: 3 },\r\n    { x: 7, y: 2, value: 5 },\r\n    { x: 7, y: 3, value: 6 },\r\n    { x: 7, y: 5, value: 7 },\r\n    { x: 7, y: 6, value: 4 },\r\n    { x: 8, y: 0, value: 1 },\r\n    { x: 8, y: 7, value: 5 },\r\n    { x: 8, y: 8, value: 8 },\r\n];\r\n\r\ninterface UseSudoku {\r\n    board: BoardState;\r\n    setBoard: BoardActionConsumer;\r\n    autoSolveStep: () => void;\r\n}\r\n\r\nconst useSudoku = (): UseSudoku => {\r\n    const [board, setBoard] = React.useReducer(reducer, defaultState);\r\n\r\n    React.useEffect(() => {\r\n        initialActions.map((i) => ({ ...i, fix: true })).forEach(setBoard);\r\n    }, []);\r\n\r\n    const autoSolveStep = React.useCallback(() => {\r\n        if (board.hints.length > 0) {\r\n            setBoard(board.hints[0]);\r\n        }\r\n    }, [board]);\r\n\r\n    return { board, setBoard, autoSolveStep };\r\n};\r\n\r\nexport default useSudoku;\r\n","import React from \"react\";\r\n\r\nimport useSudoku, { EMPTY_CELL, DIGITS } from './useSudoku';\r\nimport { Cell, CoordinateConsumer } from \"./types\";\r\n\r\nimport \"./sudoku.css\";\r\n\r\ninterface DigitButton {\r\n    digit: number;\r\n    onClick: () => void;\r\n}\r\ninterface CellProps {\r\n    cell: Cell;\r\n    x: number;\r\n    y: number;\r\n    setBoard: CoordinateConsumer;\r\n}\r\n\r\nconst CellComponent: React.FunctionComponent<CellProps> = ({\r\n    x,\r\n    y,\r\n    cell,\r\n    setBoard,\r\n}) => {\r\n    let classNames: string[] = [\"sudoku-cell\"];\r\n    if (cell.error) {\r\n        classNames.push(\"sudoku-cell-error\");\r\n    }\r\n    if (cell.value === EMPTY_CELL) {\r\n        classNames.push(\"sudoku-cell-hint\");\r\n    }\r\n    return (\r\n        <td className={classNames.join(\" \")} onClick={() => setBoard({ x, y })}>\r\n            {cell.value === EMPTY_CELL\r\n                ? Array.from(cell.allowed).join(\", \")\r\n                : cell.value}\r\n        </td>\r\n    );\r\n};\r\n\r\ninterface RowProps {\r\n    x: number;\r\n    row: Cell[];\r\n    value: number;\r\n    setBoard: CoordinateConsumer;\r\n}\r\n\r\nconst RowComponent: React.FunctionComponent<RowProps> = ({\r\n    x,\r\n    row,\r\n    setBoard,\r\n    value,\r\n}) => (\r\n        <tr>\r\n            {row.map((cell, y) => (\r\n                <CellComponent key={y} {...{ x, y, cell, setBoard, value }} />\r\n            ))}\r\n        </tr>\r\n    );\r\n\r\nconst Sudoku: React.FunctionComponent = () => {\r\n    const [value, setValue] = React.useState<number>(5);\r\n    const { board, setBoard: _setBoard, autoSolveStep } = useSudoku();\r\n\r\n    const buttonProps: DigitButton[] = React.useMemo(() => DIGITS.map(digit => ({\r\n        digit,\r\n        onClick: () => setValue(digit)\r\n    })), [setValue]);\r\n\r\n    const setBoard: CoordinateConsumer = React.useCallback(\r\n        ({ x, y }) => _setBoard({ x, y, value }),\r\n        [value, _setBoard]\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"btn-group pb-3\" role=\"group\" aria-label=\"Basic example\">\r\n                {buttonProps.map(({ digit, onClick }) => {\r\n                    let classNames: string[] = ['btn']\r\n                    if (digit === value) {\r\n                        classNames.push('btn-success')\r\n                    } else {\r\n                        classNames.push('btn-secondary')\r\n                    }\r\n\r\n                    return (<button className={classNames.join(' ')} onClick={onClick}>{digit}</button>);\r\n                })}\r\n                <button className=\"btn btn-primary\" onClick={autoSolveStep}>\r\n                    Auto Solve Step\r\n            </button>\r\n            </div>\r\n            <table className=\"sudoku-table\">\r\n                <thead></thead>\r\n                <tbody>\r\n                    {board.cells.map((row, x) => (\r\n                        <RowComponent key={x} {...{ x, setBoard, row, value }} />\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Sudoku;\r\n","import React from \"react\";\nimport { Page } from \"../../types\";\n\nimport { page as divisibilityPage } from \"./Divisibility\";\nimport { page as primeFactorsPage } from \"./PrimeFactors\";\nimport { page as negativeNumbersPage } from \"./NegativeNumbers\";\nimport { page as bearings } from \"./Bearings\";\nimport { page as algebra } from \"./Algebra\";\nimport { page as sievePage } from \"./SieveOfEratosthenes\";\nimport { page as solveEqPage } from \"./SolveEquation\";\nimport { page as sudokuPage } from \"./Sudoku\";\nimport CardCollection from \"../Bootstrap/CardCollection\";\n\nconst primeNumberPages = [divisibilityPage, primeFactorsPage, sievePage];\nconst miscPages = [\n  solveEqPage,\n  algebra,\n  negativeNumbersPage,\n  bearings,\n  sudokuPage,\n];\n\nconst Maths: React.FunctionComponent = () => (\n  <div>\n    <h2>Prime Numbers</h2>\n    <CardCollection cards={primeNumberPages} />\n\n    <h2>Miscellaneous</h2>\n    <CardCollection cards={miscPages} />\n  </div>\n);\n\nexport const page: Page = {\n  href: \"/maths\",\n  title: \"Maths\",\n  description: \"Explore some KS3 Maths algorithms\",\n  component: Maths,\n};\n\nexport const pages: Page[] = [page, ...primeNumberPages, ...miscPages];\n\nexport default Maths;\n","import Component from \"./Sudoku\";\r\nimport { Page } from \"../../../types\";\r\n\r\nexport const page: Page = {\r\n    href: \"/maths/sudoku\",\r\n    title: \"Sudoku\",\r\n    description: \"Setup, play and auto solve sudoku.\",\r\n    component: Component,\r\n};\r\n\r\nexport default Component;\r\n","import React from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { page as codeClubPage, pages as codeClubPages } from \"../CodeClub\";\nimport {\n  page as experimentsPage,\n  pages as experimentPages,\n} from \"../Experiments\";\nimport { Page } from \"../../types\";\nimport SearchBox from \"../SearchBox/SearchBox\";\nimport { page as csPage, pages as csPages } from \"../ComputerScience\";\nimport { page as mathsPage, pages as mathsPages } from \"../Maths\";\nimport CardCollection from \"../Bootstrap/CardCollection\";\n\ninterface Props {\n  location: string;\n}\n\nconst rootPages = [csPage, mathsPage, codeClubPage, experimentsPage];\n\nconst HomePage: React.FunctionComponent = () => (\n  <CardCollection cards={rootPages} />\n);\n\nconst homePage: Page = {\n  title: \"Computer Science and Maths\",\n  description: `This site contains interactive demonstrations of various algorithms \n    and data structures used in Maths and Computer Science up to A Level.`,\n  href: \"/\",\n  component: HomePage,\n};\n\nexport const pages: Page[] = [\n  homePage,\n  ...codeClubPages,\n  ...experimentPages,\n  ...csPages,\n  ...mathsPages,\n];\n\nconst matchString = (s1: string, s2: string): boolean =>\n  s1.toLocaleLowerCase().includes(s2.toLocaleLowerCase());\n\nconst CommonPageHeader: React.FunctionComponent<Props> = ({ location }) => {\n  const history = useHistory();\n  const pageSelected = React.useCallback(\n    ({ href }: Page) => history.push(href),\n    [history]\n  );\n  const pageFilter = React.useCallback(\n    ({ title, description, href }: Page, criteria: string) =>\n      matchString(title, criteria) ||\n      matchString(description, criteria) ||\n      matchString(href, criteria),\n    []\n  );\n  const pageToString = React.useCallback((p: Page) => p.title, []);\n\n  const thisPage: Page = React.useMemo(\n    () => pages.find(({ href }) => href === location) || homePage,\n    [location]\n  );\n  return (\n    <React.Fragment>\n      <div className=\"navbar justify-content-between\">\n        <ol className=\"breadcrumb mr-auto\">\n          <Link className=\"breadcrumb-item\" to=\"/\">\n            Joe's Experiments\n          </Link>\n          {rootPages.map(\n            (rootPage) =>\n              location.includes(rootPage.href + \"/\") && (\n                <Link\n                  key={rootPage.href}\n                  className=\"breadcrumb-item\"\n                  to={rootPage.href}\n                >\n                  {rootPage.title}\n                </Link>\n              )\n          )}\n\n          <li className=\"breadcrumb-item active\" aria-current=\"page\">\n            {thisPage.title}\n          </li>\n        </ol>\n        <SearchBox\n          items={pages}\n          itemChosen={pageSelected}\n          filter={pageFilter}\n          itemToString={pageToString}\n        />\n      </div>\n      <h1>{thisPage.title}</h1>\n      <p>{thisPage.description}</p>\n    </React.Fragment>\n  );\n};\n\nexport default CommonPageHeader;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport reportWebVitals from './reportWebVitals';\nimport {\n  HashRouter as Router,\n  Route,\n  RouteComponentProps,\n} from \"react-router-dom\";\nimport Modal from \"react-modal\";\n\nimport \"jquery\";\nimport \"popper.js\";\nimport \"bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport CommonPageHeader, { pages } from \"./components/CommonPageHeader\";\n\nimport \"./index.css\";\nimport { SavedProgramsContextProvider } from \"./components/lib/useSavedPrograms\";\n\nconst App = () => {\n  React.useEffect(() => Modal.setAppElement(\"body\"), []);\n\n  return (\n    <div className=\"container pb-4 pr-4 pl-4\">\n      <Route\n        component={({ history: { location } }: RouteComponentProps) => (\n          <CommonPageHeader location={location.pathname} />\n        )}\n      />\n\n      {pages.map(({ href, component }) => (\n        <Route key={href} exact path={href} component={component} />\n      ))}\n    </div>\n  );\n};\n\nReactDOM.render(\n  <Router>\n    <SavedProgramsContextProvider>\n      <App />\n    </SavedProgramsContextProvider>\n  </Router>,\n  document.getElementById(\"root\") as HTMLElement\n);\nreportWebVitals();\n"],"sourceRoot":""}